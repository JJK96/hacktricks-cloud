# GCP - KMS Enum

{% hint style="success" %}
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –≤–∑–ª–æ–º AWS: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**–®–∫–æ–ª–∞ –≤–∑–ª–æ–º—É HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –≤–∑–ª–æ–º GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**–®–∫–æ–ª–∞ –≤–∑–ª–æ–º—É HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>–ü—ñ–¥—Ç—Ä–∏–º–∞–π—Ç–µ HackTricks</summary>

* –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ø–ª–∞–Ω–∏ –ø—ñ–¥–ø–∏—Å–∫–∏**](https://github.com/sponsors/carlospolop)!
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **–ü–æ—à–∏—Ä—é–π—Ç–µ —Ö–∞–∫–µ—Ä—Å—å–∫—ñ —Ç—Ä—é–∫–∏, –Ω–∞–¥—Å–∏–ª–∞—é—á–∏ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub.

</details>
{% endhint %}

## KMS

[**–°–ª—É–∂–±–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∫–ª—é—á–∞–º–∏ —É —Ö–º–∞—Ä—ñ**](https://cloud.google.com/kms/docs/) —Å–ª—É–∂–∏—Ç—å —è–∫ –±–µ–∑–ø–µ—á–Ω–µ —Å—Ö–æ–≤–∏—â–µ –¥–ª—è **–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö –∫–ª—é—á—ñ–≤**, —è–∫—ñ —î –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π, —Ç–∞–∫–∏—Ö —è–∫ **—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è —Ç–∞ –¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è —á—É—Ç–ª–∏–≤–∏—Ö –¥–∞–Ω–∏—Ö**. –¶—ñ –∫–ª—é—á—ñ –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω—ñ —É –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö –∫—ñ–ª—å—Ü—è—Ö –∫–ª—é—á—ñ–≤, —â–æ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è. –ö—Ä—ñ–º —Ç–æ–≥–æ, —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–æ—Å—Ç—É–ø–æ–º –º–æ–∂–µ –±—É—Ç–∏ –¥–æ—Ç—Ä–∏–º–ª–∏–≤–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–µ, —è–∫ –Ω–∞ —Ä—ñ–≤–Ω—ñ –æ–∫—Ä–µ–º–æ–≥–æ –∫–ª—é—á–∞, —Ç–∞–∫ —ñ –¥–ª—è –≤—Å—å–æ–≥–æ –∫—ñ–ª—å—Ü—è –∫–ª—é—á—ñ–≤, –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏ —Ç–æ—á–Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–Ω–Ω—è –¥–æ–∑–≤–æ–ª—ñ–≤ –≤–∏–º–æ–≥–∞–º –±–µ–∑–ø–µ–∫–∏.

–ö—ñ–ª—å—Ü—è –∫–ª—é—á—ñ–≤ KMS **–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —è–∫ –≥–ª–æ–±–∞–ª—å–Ω—ñ**, —â–æ –æ–∑–Ω–∞—á–∞—î, —â–æ –∫–ª—é—á—ñ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ü—å–æ–≥–æ –∫—ñ–ª—å—Ü—è –∫–ª—é—á—ñ–≤ –¥–æ—Å—Ç—É–ø–Ω—ñ –∑ –±—É–¥—å-—è–∫–æ–≥–æ —Ä–µ–≥—ñ–æ–Ω—É. –û–¥–Ω–∞–∫ –º–æ–∂–ª–∏–≤–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∫—ñ–ª—å—Ü—è –∫–ª—é—á—ñ–≤ —É **–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Ä–µ–≥—ñ–æ–Ω–∞—Ö**.

### –†—ñ–≤–µ–Ω—å –∑–∞—Ö–∏—Å—Ç—É –∫–ª—é—á–∞

* **–ö–ª—é—á—ñ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è**: –ö–ª—é—á—ñ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è **—Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —Ç–∞ –∫–µ—Ä—É—é—Ç—å—Å—è KMS –≤–∏–∫–ª—é—á–Ω–æ –≤ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–º—É –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—ñ**. –¶—ñ –∫–ª—é—á—ñ **–Ω–µ –∑–∞—Ö–∏—â–µ–Ω—ñ –∂–æ–¥–Ω–∏–º –∞–ø–∞—Ä–∞—Ç–Ω–∏–º –º–æ–¥—É–ª–µ–º –±–µ–∑–ø–µ–∫–∏ (HSM)** —ñ –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –¥–ª—è **—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Ä–æ–∑—Ä–æ–±–∫–∏**. –ö–ª—é—á—ñ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è **–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ü—ñ—ó**, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∏ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –Ω–∏–∑—å–∫–∏–π —Ä—ñ–≤–µ–Ω—å –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –ø—ñ–¥–¥–∞—é—Ç—å—Å—è –∞—Ç–∞–∫–∞–º.
* **–ö–ª—é—á—ñ, —Ä–æ–∑–º—ñ—â–µ–Ω—ñ –≤ —Ö–º–∞—Ä—ñ**: –ö–ª—é—á—ñ, —Ä–æ–∑–º—ñ—â–µ–Ω—ñ –≤ —Ö–º–∞—Ä—ñ, **—Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —Ç–∞ –∫–µ—Ä—É—é—Ç—å—Å—è KMS** —É —Ö–º–∞—Ä—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≤–∏—Å–æ–∫–æ–¥–æ—Å—Ç—É–ø–Ω–æ—ó —Ç–∞ –Ω–∞–¥—ñ–π–Ω–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏. –¶—ñ –∫–ª—é—á—ñ **–∑–∞—Ö–∏—â–µ–Ω—ñ HSM**, –∞–ª–µ HSM **–Ω–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞**. –ö–ª—é—á—ñ, —Ä–æ–∑–º—ñ—â–µ–Ω—ñ –≤ —Ö–º–∞—Ä—ñ, –ø—ñ–¥—Ö–æ–¥—è—Ç—å –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –ø—Ä–æ–¥—É–∫—Ü—ñ—ó.
* **–ó–æ–≤–Ω—ñ—à–Ω—ñ –∫–ª—é—á—ñ**: –ó–æ–≤–Ω—ñ—à–Ω—ñ –∫–ª—é—á—ñ **—Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —Ç–∞ –∫–µ—Ä—É—é—Ç—å—Å—è –ø–æ–∑–∞ KMS** —ñ —ñ–º–ø–æ—Ä—Ç—É—é—Ç—å—Å—è –≤ KMS –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ—è—Ö. –ó–æ–≤–Ω—ñ—à–Ω—ñ –∫–ª—é—á—ñ **–º–æ–∂—É—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è –≤ –∞–ø–∞—Ä–∞—Ç–Ω–æ–º—É –º–æ–¥—É–ª—ñ –±–µ–∑–ø–µ–∫–∏ (HSM) –∞–±–æ –ø—Ä–æ–≥—Ä–∞–º–Ω—ñ–π –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ, –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –≤–∏–±–æ—Ä—É –∫–ª—ñ—î–Ω—Ç–∞**.

### –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∫–ª—é—á–∞

* **–°–∏–º–µ—Ç—Ä–∏—á–Ω–µ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è/–¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è **—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è —Ç–∞ –¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –æ–¥–Ω–æ–≥–æ –∫–ª—é—á–∞ –¥–ª—è –æ–±–æ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π**. –°–∏–º–µ—Ç—Ä–∏—á–Ω—ñ –∫–ª—é—á—ñ —à–≤–∏–¥–∫—ñ —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ –¥–ª—è —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è —Ç–∞ –¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –≤–µ–ª–∏–∫–∏—Ö –æ–±—Å—è–≥—ñ–≤ –¥–∞–Ω–∏—Ö.
* **–ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è**: [cryptoKeys.encrypt](https://cloud.google.com/kms/docs/reference/rest/v1/projects.locations.keyRings.cryptoKeys/encrypt), [cryptoKeys.decrypt](https://cloud.google.com/kms/docs/reference/rest/v1/projects.locations.keyRings.cryptoKeys/decrypt)
* **–ê—Å–∏–º–µ—Ç—Ä–∏—á–Ω–µ –ø—ñ–¥–ø–∏—Å—É–≤–∞–Ω–Ω—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –∑–≤'—è–∑–∫—É –º—ñ–∂ –¥–≤–æ–º–∞ —Å—Ç–æ—Ä–æ–Ω–∞–º–∏ –±–µ–∑ –æ–±–º—ñ–Ω—É –∫–ª—é—á–µ–º. –ê—Å–∏–º–µ—Ç—Ä–∏—á–Ω—ñ –∫–ª—é—á—ñ –ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—å—Å—è –≤ –ø–∞—Ä—ñ, —Å–∫–ª–∞–¥–∞—é—á–∏ –∑ **–≤—ñ–¥–∫—Ä–∏—Ç–æ–≥–æ –∫–ª—é—á–∞ —Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞**. –í—ñ–¥–∫—Ä–∏—Ç–∏–π –∫–ª—é—á –¥—ñ–ª–∏—Ç—å—Å—è –∑ —ñ–Ω—à–∏–º–∏, —Ç–æ–¥—ñ —è–∫ –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–ª—é—á –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —Å–µ–∫—Ä–µ—Ç–Ω–∏–º.
* **–ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è:** [cryptoKeyVersions.asymmetricSign](https://cloud.google.com/kms/docs/reference/rest/v1/projects.locations.keyRings.cryptoKeys.cryptoKeyVersions/asymmetricSign), [cryptoKeyVersions.getPublicKey](https://cloud.google.com/kms/docs/reference/rest/v1/projects.locations.keyRings.cryptoKeys.cryptoKeyVersions/getPublicKey)
* **–ê—Å–∏–º–µ—Ç—Ä–∏—á–Ω–µ –¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∞–≤—Ç–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∞–±–æ –¥–∞–Ω–∏—Ö. –¶–∏—Ñ—Ä–æ–≤–∏–π –ø—ñ–¥–ø–∏—Å —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ —ñ –º–æ–∂–µ –±—É—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∏–π –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ –≤—ñ–¥–∫—Ä–∏—Ç–æ–≥–æ –∫–ª—é—á–∞.
* **–ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è:** [cryptoKeyVersions.asymmetricDecrypt](https://cloud.google.com/kms/docs/reference/rest/v1/projects.locations.keyRings.cryptoKeys.cryptoKeyVersions/asymmetricDecrypt), [cryptoKeyVersions.getPublicKey](https://cloud.google.com/kms/docs/reference/rest/v1/projects.locations.keyRings.cryptoKeys.cryptoKeyVersions/getPublicKey)
* **–ü—ñ–¥–ø–∏—Å—É–≤–∞–Ω–Ω—è MAC**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è **—Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ —Ç–∞ –∞–≤—Ç–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö —à–ª—è—Ö–æ–º —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–¥—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (MAC) –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞**. HMAC —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –≤ –º–µ—Ä–µ–∂–µ–≤–∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–∞—Ö —Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫–∞—Ö.
* **–ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è:** [cryptoKeyVersions.macSign](https://cloud.google.com/kms/docs/reference/rest/v1/projects.locations.keyRings.cryptoKeys.cryptoKeyVersions/macSign), [cryptoKeyVersions.macVerify](https://cloud.google.com/kms/docs/reference/rest/v1/projects.locations.keyRings.cryptoKeys.cryptoKeyVersions/macVerify)

### –ü–µ—Ä—ñ–æ–¥ –æ–±–µ—Ä—Ç–∞–Ω–Ω—è —Ç–∞ –ø–µ—Ä—ñ–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–æ–≤–∞–Ω–æ–≥–æ –∑–Ω–∏—â–µ–Ω–Ω—è

–ó–∞ **–∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º** - –∫–æ–∂–Ω—ñ **90 –¥–Ω—ñ–≤**, –∞–ª–µ –π–æ–≥–æ –º–æ–∂–Ω–∞ **–ª–µ–≥–∫–æ** —Ç–∞ **–ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏.**

–ü–µ—Ä—ñ–æ–¥ "–ü—Ä–æ–≥—Ä–∞–º–æ–≤–∞–Ω–æ–≥–æ –∑–Ω–∏—â–µ–Ω–Ω—è" - —Ü–µ **—á–∞—Å –∑ –º–æ–º–µ–Ω—Ç—É, –∫–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø—Ä–æ—Å–∏—Ç—å –≤–∏–¥–∞–ª–∏—Ç–∏ –∫–ª—é—á** —ñ –¥–æ –º–æ–º–µ–Ω—Ç—É, –∫–æ–ª–∏ –∫–ª—é—á **–≤–∏–¥–∞–ª—è—î—Ç—å—Å—è**. –ô–æ–≥–æ –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª—é—á–∞ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 1 –¥–µ–Ω—å).

### –û—Å–Ω–æ–≤–Ω–∞ –≤–µ—Ä—Å—ñ—è

–ö–æ–∂–µ–Ω –∫–ª—é—á KMS –º–æ–∂–µ –º–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –≤–µ—Ä—Å—ñ–π, –æ–¥–Ω–∞ –∑ –Ω–∏—Ö –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ **–æ—Å–Ω–æ–≤–Ω–æ—é**, —Ü–µ –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è, –∫–æ–ª–∏ **–≤–µ—Ä—Å—ñ—è –Ω–µ –≤–∫–∞–∑–∞–Ω–∞ –ø—Ä–∏ –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ –∫–ª—é—á–µ–º KMS**.

### –ù—É–º–µ—Ä–∞—Ü—ñ—è

–ú–∞—é—á–∏ **–¥–æ–∑–≤—ñ–ª –Ω–∞ –ø–µ—Ä–µ–ª—ñ–∫ –∫–ª—é—á—ñ–≤**, –æ—Å—å —è–∫ –≤–∏ –º–æ–∂–µ—Ç–µ –¥–æ –Ω–∏—Ö –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø:
```bash
# List the global keyrings available
gcloud kms keyrings list --location global
gcloud kms keyrings get-iam-policy <KEYRING>

# List the keys inside a keyring
gcloud kms keys list --keyring <KEYRING> --location <global/other_locations>
gcloud kms keys get-iam-policy <KEY>

# Encrypt a file using one of your keys
gcloud kms decrypt --ciphertext-file=[INFILE] \
--plaintext-file=[OUTFILE] \
--key [KEY] \
--keyring [KEYRING] \
--location global

# Decrypt a file using one of your keys
gcloud kms decrypt --ciphertext-file=[INFILE] \
--plaintext-file=[OUTFILE] \
--key [KEY] \
--keyring [KEYRING] \
--location global
```
### –ü—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤

{% content-ref url="../gcp-privilege-escalation/gcp-kms-privesc.md" %}
[gcp-kms-privesc.md](../gcp-privilege-escalation/gcp-kms-privesc.md)
{% endcontent-ref %}

### –ü—ñ—Å–ª—è–µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ–π–Ω–∞ –¥—ñ—è–ª—å–Ω—ñ—Å—Ç—å

{% content-ref url="../gcp-post-exploitation/gcp-kms-post-exploitation.md" %}
[gcp-kms-post-exploitation.md](../gcp-post-exploitation/gcp-kms-post-exploitation.md)
{% endcontent-ref %}

## –ü–æ—Å–∏–ª–∞–Ω–Ω—è

* [https://about.gitlab.com/blog/2020/02/12/plundering-gcp-escalating-privileges-in-google-cloud-platform/#reviewing-stackdriver-logging](https://about.gitlab.com/blog/2020/02/12/plundering-gcp-escalating-privileges-in-google-cloud-platform/#reviewing-stackdriver-logging)

{% hint style="success" %}
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –≤–∑–ª–æ–º AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**–ù–∞–≤—á–∞–Ω–Ω—è HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –≤–∑–ª–æ–º GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**–ù–∞–≤—á–∞–Ω–Ω—è HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>–ü—ñ–¥—Ç—Ä–∏–º–∞–π—Ç–µ HackTricks</summary>

* –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ø–ª–∞–Ω–∏ –ø—ñ–¥–ø–∏—Å–∫–∏**](https://github.com/sponsors/carlospolop)!
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **–ü–æ—à–∏—Ä—é–π—Ç–µ —Ö–∞–∫–µ—Ä—Å—å–∫—ñ —Ç—Ä—é–∫–∏, –Ω–∞–¥—Å–∏–ª–∞—é—á–∏ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub.

</details>
{% endhint %}
