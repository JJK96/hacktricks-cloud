# GCP - Orodha ya Vitu kwa Undani

{% hint style="success" %}
Jifunze na zoezi la Udukuzi wa AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya AWS (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Jifunze na zoezi la Udukuzi wa GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya GCP (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa michango**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ **kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au **kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Taarifa Msingi

Google Cloud Artifact Registry ni huduma iliyosimamiwa kabisa inayokuwezesha **kusimamia, kuhifadhi, na kusimika vitu vyako vya programu**. Kimsingi ni ghala la **kuhifadhi mahitaji ya ujenzi**, kama vile picha za **Docker**, pakiti za **Maven**, pakiti za npm, na aina nyingine za vitu. Mara nyingi hutumiwa katika mifumo ya CI/CD kwa kuhifadhi na kutoa toleo kwa vitu vilivyozalishwa wakati wa mchakato wa maendeleo ya programu.

Sifa muhimu za Artifact Registry ni pamoja na:

1. **Ghala Moja**: Inasaidia **aina nyingi za vitu**, kuruhusu kuwa na ghala moja kwa picha za Docker, pakiti za lugha (kama Maven ya Java, npm ya Node.js), na aina nyingine za vitu, ikiruhusu udhibiti wa upatikanaji unaofanana na mtazamo uliojumuishwa kote kwa vitu vyako vyote.
2. **Kusimamiwa Kabisa**: Kama huduma iliyosimamiwa, inajali miundombinu ya msingi, upanuzi, na usalama, kupunguza mzigo wa matengenezo kwa watumiaji.
3. **Udhibiti wa Upatikanaji wa Kina**: Inaunganisha na Usimamizi wa Kitambulisho na Upatikanaji wa Google Cloud (IAM), kuruhusu kufafanua ni nani anaweza kupata, kupakia, au kupakua vitu katika ghala zako.
4. **Geo-replication**: Inasaidia nakala za vitu katika mikoa mingi, kuboresha kasi ya upakuaji na kuhakikisha upatikanaji.
5. **Ushirikiano na Huduma za Google Cloud**: Inafanya kazi kwa urahisi na **huduma zingine za GCP kama Cloud Build, Kubernetes Engine, na Compute Engine**, ikifanya iwe chaguo la urahisi kwa timu zinazofanya kazi ndani ya mfumo wa Google Cloud.
6. **Usalama**: Inatoa vipengele kama **uchunguzi wa udhaifu na uchambuzi wa chombo** ili kuhakikisha kuwa vitu vilivyohifadhiwa ni salama na bila masuala ya usalama yanayojulikana.

### Miundo na Hali

Unapounda ghala mpya ni **inawezekana kuchagua aina/jinsi** ya ghala kati ya kadhaa kama Docker, Maven, npm, Python... na hali ambayo kawaida inaweza kuwa moja ya hizi tatu:

* **Ghala la Kawaida**: Hali ya msingi kwa **kuhifadhi vitu vyako wenyewe** (kama picha za Docker, pakiti za Maven) moja kwa moja katika GCP. Ni salama, inaweza kupanuka, na inashirikiana vizuri ndani ya mfumo wa Google Cloud.
* **Ghala la Mbali** (ikiwa inapatikana): Inafanya kazi kama mbadala kwa **kufanya akiba ya vitu kutoka nje**, ghala za umma. Inasaidia kuzuia masuala kutoka kwa mabadiliko ya mahitaji juu na kupunguza kuchelewesha kwa kufanya akiba ya vitu vinavyotumiwa mara kwa mara.
* **Ghala la Kivitualu** (ikiwa inapatikana): Hutoa **kiolesura kilichounganishwa cha kupata ghala nyingi (za kawaida au mbali)** kupitia mwisho mmoja, kupunguza usanidi wa upande wa mteja na usimamizi wa upatikanaji kwa vitu vilivyotapakaa katika ghala mbalimbali.
* Kwa ghala la kivitualu utahitaji **kuchagua ghala na kumpa kipaumbele** (ghala lenye kipaumbele kikubwa litatumika).
* Unaweza **changanya ghala za mbali na za kawaida** katika **ghala la kivitualu**, ikiwa **kipaumbele** cha **mbali** ni **kikubwa** kuliko cha kawaida, **pakiti kutoka mbali (kama PyPi kwa mfano) zitatumika**. Hii inaweza kusababisha **Mchanganyiko wa Mahitaji.**

Tambua kwamba katika **Toleo la Mbali la Docker** inawezekana kumpa jina la mtumiaji na kitufe cha kupata Docker Hub. **Kitufe kisha kuhifadhiwa katika Meneja wa Siri.**

### Ufichaji

Kama ilivyotarajiwa, kwa chaguo-msingi ufunguo uliosimamiwa na Google hutumiwa lakini ufunguo uliosimamiwa na Mteja unaweza kutajwa (CMEK).

### Sera za Kusafisha

* **Futa vitu:** Vitu vitafutwa kulingana na vigezo vya sera ya kusafisha.
* **Jaribio la Kavu:** (Chaguo la msingi) Vitu **havitafutwa**. Sera za kusafisha zitachambuliwa, na matukio ya kufuta majaribio kutumwa kwa Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza Kuingiza K
```bash
# Get repositories
gcloud artifacts repositories list
gcloud artifacts repositories describe --location <location> <repo-name>
gcloud artifacts versions list --repository=<repo-name> -location <location> --package <package-name>

# Get settings of a repository (example using python but could be other)
gcloud artifacts print-settings python --repository <repo-name> --location <location>

# Get docker images
gcloud artifacts docker images list us-central1-docker.pkg.dev/<proj-name>/<repo-name>

# Get packages (like python and others...)
gcloud artifacts packages list --repository <repo-name> --location <location>

# Get SBOMB artifacts
gcloud artifacts sbom list

# Get vulnerabilities (docker images)
gcloud artifacts vulnerabilities list us-east1-docker.pkg.dev/project123/repository123/someimage@sha256:49765698074d6d7baa82f
gcloud artifacts docker images list-vulnerabilities projects/<proj-name>/locations/<location>/scans/<scan-uuid>
```
### Upandishaji wa Mamlaka

{% content-ref url="../gcp-privilege-escalation/gcp-artifact-registry-privesc.md" %}
[gcp-artifact-registry-privesc.md](../gcp-privilege-escalation/gcp-artifact-registry-privesc.md)
{% endcontent-ref %}

### Upatikanaji usiothibitishwa

{% content-ref url="../gcp-unaunthenticated-enum-and-access/gcp-artifact-registry-unauthenticated-enum.md" %}
[gcp-artifact-registry-unauthenticated-enum.md](../gcp-unaunthenticated-enum-and-access/gcp-artifact-registry-unauthenticated-enum.md)
{% endcontent-ref %}

### Baada ya Kuvamia

{% content-ref url="../gcp-post-exploitation/gcp-artifact-registry-post-exploitation.md" %}
[gcp-artifact-registry-post-exploitation.md](../gcp-post-exploitation/gcp-artifact-registry-post-exploitation.md)
{% endcontent-ref %}

### Uthabiti

{% content-ref url="../gcp-persistence/gcp-artifact-registry-persistence.md" %}
[gcp-artifact-registry-persistence.md](../gcp-persistence/gcp-artifact-registry-persistence.md)
{% endcontent-ref %}

{% hint style="success" %}
Jifunze & zoezi Udukuzi wa AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Mafunzo ya HackTricks AWS Timu Nyekundu Mtaalam (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Jifunze & zoezi Udukuzi wa GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Mafunzo ya HackTricks GCP Timu Nyekundu Mtaalam (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>unga mkono HackTricks</summary>

* Angalia [**mpango wa michango**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
{% endhint %}
