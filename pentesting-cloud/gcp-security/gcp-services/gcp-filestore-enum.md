# GCP - Filestore Enum

{% hint style="success" %}
**AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:**<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг AWS рд░реЗрдб рдЯреАрдо рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
**GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:** <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг GCP рд░реЗрдб рдЯреАрдо рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ!
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github рд░реЗрдкреЛ рдореЗрдВред

</details>
{% endhint %}

## рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА

Google Cloud Filestore рдПрдХ **рдкреНрд░рдмрдВрдзрд┐рдд рдлрд╝рд╛рдЗрд▓ рд╕реНрдЯреЛрд░реЗрдЬ рд╕реЗрд╡рд╛** рд╣реИ рдЬреЛ рдРрд╕реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдИ рдЧрдИ рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ **рдПрдХ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдФрд░ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд╛рдЭрд╛ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо** рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред рдпрд╣ рд╕реЗрд╡рд╛ рдЙрдЪреНрдЪ рдкреНрд░рджрд░реНрд╢рди рд╡рд╛рд▓реЗ рдлрд╝рд╛рдЗрд▓ рд╢реЗрдпрд░ рдкреНрд░рджрд╛рди рдХрд░рдХреЗ рдЙрддреНрдХреГрд╖реНрдЯ рд╣реИ, рдЬреЛ рд╡рд┐рднрд┐рдиреНрди GCP рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рд╛рде рдПрдХреАрдХреГрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕рдХреА рдЙрдкрдпреЛрдЧрд┐рддрд╛ рд╡рд╣рд╛рдБ рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИ рдЬрд╣рд╛рдБ рдкрд╛рд░рдВрдкрд░рд┐рдХ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдФрд░ рд╕реЗрдорд╛рдВрдЯрд┐рдХреНрд╕ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИрдВ, рдЬреИрд╕реЗ рдореАрдбрд┐рдпрд╛ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ, рд╕рд╛рдордЧреНрд░реА рдкреНрд░рдмрдВрдзрди, рдФрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рдмреИрдХрдЕрдкред

рдЖрдк рдЗрд╕реЗ рдХрд┐рд╕реА рднреА **NFS рд╕рд╛рдЭрд╛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рднрдВрдбрд╛рд░** рдХреА рддрд░рд╣ рд╕реЛрдЪ рд╕рдХрддреЗ рд╣реИрдВ - рдПрдХ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рд╕рдВрднрд╛рд╡рд┐рдд рд╕реНрд░реЛрддред

### рдХрдиреЗрдХреНрд╢рди

рдПрдХ рдлрд╝рд╛рдЗрд▓рд╕реНрдЯреЛрд░ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдмрдирд╛рддреЗ рд╕рдордп **рдЙрд╕ рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛ рдЪрдпрди рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдпрд╣ рдкрд╣реБрдБрдЪрдиреЗ рд╡рд╛рд▓рд╛ рд╣реИ**ред

рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЪрдпрдирд┐рдд VPC рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рдХреНрд╖реЗрддреНрд░ рдХреЗ рд╕рднреА рдЧреНрд░рд╛рд╣рдХ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**, рд╣рд╛рд▓рд╛рдВрдХрд┐, **рдкрд╣реБрдБрдЪ рдХреЛ рдЖрдИрдкреА рдкрддрд╛ рдпрд╛ рд╕реАрдорд╛ рджреНрд╡рд╛рд░рд╛ рднреА рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ** рдФрд░ рдЗрдВрдбрд┐рдХреЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЧреНрд░рд╛рд╣рдХ рдХреЛ рдХреМрди рд╕рд╛ рдЙрдкрдпреЛрдЧрд╛рдзрд┐рдХрд╛рд░ (рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ, рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рджрд░реНрд╢рдХ, рд╕рдВрдкрд╛рджрдХ, рджрд░реНрд╢рдХ) рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ **рдЖрдИрдкреА рдкрддрд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░**ред

рдЗрд╕реЗ рдПрдХ **рдирд┐рдЬреА рд╕реЗрд╡рд╛ рдкрд╣реБрдБрдЪ рдХрдиреЗрдХреНрд╢рди** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рднреА рдкрд╣реБрдБрдЪрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:

* рдПрдХ VPC рдиреЗрдЯрд╡рд░реНрдХ рдкреНрд░рддрд┐ рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рд╕рднреА рдкреНрд░рдмрдВрдзрд┐рдд рд╕реЗрд╡рд╛рдУрдВ рдЬреИрд╕реЗ рдХрд┐ рдореЗрдореЛрд░реАрд╕реНрдЯреЛрд░, рдЯреЗрдВрд╕рд░рдлрд╝реНрд▓реЛ рдФрд░ SQL рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
* **рдЖрдкрдХреЗ VPC рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ Google рджреНрд╡рд╛рд░рд╛ рд╕реНрд╡рд╛рдорд┐рддреНрд╡ рд╡рд╛рд▓реЗ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдмреАрдЪ VPC рдкреАрдпрд░рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ**, рдЖрдкрдХреЗ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдФрд░ рд╕реЗрд╡рд╛рдПрдБ рдХреЗрд╡рд▓ **рдЖрдВрддрд░рд┐рдХ рдЖрдИрдкреА рдкрддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ** рд╕рдВрдЪрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
* рд╕реЗрд╡рд╛ рдЙрддреНрдкрд╛рджрдХ рдкрдХреНрд╖ рдкрд░ рдЖрдкрдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдХреЛрдИ рдЕрдиреНрдп рдЧреНрд░рд╛рд╣рдХ рдЗрд╕реЗ рд╕рд╛рдЭрд╛ рдирд╣реАрдВ рдХрд░рддрд╛ред рдЖрдкрдХреЛ рдХреЗрд╡рд▓ рдЙрди рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдмрд┐рд▓ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред
* VPC рдкреАрдпрд░рд┐рдВрдЧ рдЖрдкрдХреЗ VPC рдореЗрдВ рдирдП рд░реВрдЯреНрд╕ рдХреЛ рдЖрдпрд╛рдд рдХрд░реЗрдЧрд╛

### рдмреИрдХрдЕрдк

рдлрд╝рд╛рдЗрд▓ рд╢реЗрдпрд░ рдХрд╛ **рдмреИрдХрдЕрдк рдмрдирд╛рдирд╛ рд╕рдВрднрд╡ рд╣реИ**ред рдЗрдиреНрд╣реЗрдВ рдмрд╛рдж рдореЗрдВ **рдореВрд▓ рдореЗрдВ** рдирдП рдлрд╝рд╛рдЗрд▓рд╢реЗрдпрд░ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдпрд╛ **рдирдП рдореЗрдВ** **рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред

### рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди

рдбреЗрдЯрд╛ рдХреЛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдПрдХ Google-рдкреНрд░рдмрдВрдзрд┐рдд рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреБрдВрдЬреА** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рд▓реЗрдХрд┐рди рдПрдХ **рдЧреНрд░рд╛рд╣рдХ-рдкреНрд░рдмрдВрдзрд┐рдд рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреБрдВрдЬреА (CMEK)** рдХрд╛ рдЪрдпрди рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

### рдЧрдгрдирд╛

рдпрджрд┐ рдЖрдк рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рдПрдХ рдлрд╝рд╛рдЗрд▓рд╕реНрдЯреЛрд░ рдЙрдкрд▓рдмреНрдз рдкрд╛рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдЕрдкрдиреЗ рдХрдВрдкреНрд░реЛрдорд╛рдЗрдЬрд╝ рдХрдВрдкреНрдпреВрдЯ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рд╕реЗ рдЗрд╕реЗ **рдорд╛рдЙрдВрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред рдХрд┐рд╕реА рдореМрдЬреВрджрд╛ рдлрд╝рд╛рдЗрд▓рд╢реЗрдпрд░ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред

{% code overflow="wrap" %}
```bash
# Instances
gcloud filestore instances list # Check the IP address
gcloud filestore instances describe --zone <zone> <name> # Check IP and access restrictions

# Backups
gcloud filestore backups list
gcloud filestore backups describe --region <region> <backup>

# Search for NFS shares in a VPC subnet
sudo nmap -n -T5 -Pn -p 2049 --min-parallelism 100 --min-rate 1000 --open 10.99.160.2/20
```
{% endcode %}

{% hint style="danger" %}
рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдПрдХ рдлрд╝рд╛рдЗрд▓ рд╕реНрдЯреЛрд░ рд╕реЗрд╡рд╛ **рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдирдП рд╕рдмрдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рд╣реЛ рд╕рдХрддреА рд╣реИ рдЬреЛ рдЙрд╕рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ** (рдПрдХ рдкреНрд░рд╛рдЗрд╡реЗрдЯ рд╕рд░реНрд╡рд┐рд╕ рдПрдХреНрд╕реЗрд╕ рдХрдиреЗрдХреНрд╢рди рдХреЗ рдЕрдВрджрд░, рдЬреЛ рдПрдХ **рд╡реАрдкреАрд╕реА рдкреАрдЕрд░** рд╣реИ)ред\
рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ **рд╡реАрдкреАрд╕реА рдкреАрдЕрд░реНрд╕ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреА** рдкрдбрд╝ рд╕рдХрддреА рд╣реИ рддрд╛рдХрд┐ рдЖрдк рдЙрди рдиреЗрдЯрд╡рд░реНрдХ рд░реЗрдВрдЬ рдкрд░ рднреА рдПрдирдореИрдк рдЪрд▓рд╛ рд╕рдХреЗрдВред

{% code overflow="wrap" %}
```bash
# Get peerings
gcloud compute networks peerings list
# Get routes imported from a peering
gcloud compute networks peerings list-routes <peering-name> --network=<network-name> --region=<region> --direction=INCOMING
```
{% endcode %}
{% endhint %}

### рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдЙрдиреНрдирдпрди рдФрд░ рдкреЛрд╕реНрдЯ рдПрдХреНрд╕рдкреНрд▓реЛрдЗрдЯреЗрд╢рди

GCP рдореЗрдВ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХреЛ рдЙрдиреНрдирдпрди рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЗ рд╕реАрдзреЗ рдЗрд╕ рд╕реЗрд╡рд╛ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдХреЗ рдирд╣реАрдВ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХреБрдЫ **рдкреЛрд╕реНрдЯ рдПрдХреНрд╕рдкреНрд▓реЛрдЗрдЯреЗрд╢рди рдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪрдирд╛ рд╕рдВрднрд╡ рд╣реИ** рдФрд░ рд╢рд╛рдпрдж рдЖрдкрдХреЛ рдХреБрдЫ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдорд┐рд▓ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рдирдХрд╛ рдЙрдкрдпреЛрдЧ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХреЛ рдЙрдиреНрдирдпрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:

{% content-ref url="../gcp-post-exploitation/gcp-filestore-post-exploitation.md" %}
[gcp-filestore-post-exploitation.md](../gcp-post-exploitation/gcp-filestore-post-exploitation.md)
{% endcontent-ref %}

### рд╕реНрдерд┐рд░рддрд╛

{% content-ref url="../gcp-persistence/gcp-filestore-persistence.md" %}
[gcp-filestore-persistence.md](../gcp-persistence/gcp-filestore-persistence.md)
{% endcontent-ref %}

{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг AWS рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг GCP рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ!
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдФрд░ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдХреЛ** **рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github рд░реЗрдкреЛ рдореЗрдВ PR рдЬрдорд╛ рдХрд░рдХреЗред

</details>
{% endhint %}
