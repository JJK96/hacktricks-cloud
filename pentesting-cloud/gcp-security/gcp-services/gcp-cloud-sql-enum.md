# GCP - Cloud SQL Enum

<details>

<summary><strong>Jifunze kuhusu kuvamia AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya HackTricks AWS)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA USAJILI**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **nifuata** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Shiriki mbinu zako za kuvamia kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)
*
*
* repos za github.

</details>

## Taarifa Msingi

Google Cloud SQL ni huduma iliyoandaliwa ambayo **inasaidia kuweka, kudumisha, na kusimamia mabadiliko ya data** kama MySQL, PostgreSQL, na SQL Server kwenye Jukwaa la Google Cloud, ikiondoa haja ya kushughulikia majukumu kama utoaji wa vifaa, usanidi wa database, kusawazisha, na nakala rudufu.

Sifa muhimu za Google Cloud SQL ni pamoja na:

1. **Inayoendeshwa Kabisa**: Google Cloud SQL ni huduma iliyoendeshwa kabisa, maana yake Google inashughulikia majukumu ya kudumisha database kama vile kusawazisha, kusasisha, nakala rudufu, na usanidi.
2. **Upanuzi**: Inatoa uwezo wa kupanua uwezo wa kuhifadhi na rasilimali za kompyuta za database yako, mara nyingi bila muda wa kupooza.
3. **Upatikanaji wa Juu**: Inatoa mipangilio ya upatikanaji wa juu, ikihakikisha huduma za database zako ni za kuaminika na zinaweza kustahimili kushindwa kwa eneo au kifaa.
4. **Usalama**: Inatoa vipengele imara vya usalama kama vile kusimbua data, Udhibiti wa Kitambulisho na Upatikanaji (IAM), na kufunga mtandao kwa kutumia IPs za kibinafsi na VPC.
5. **Nakala Rudufu na Kurejesha**: Inasaidia nakala rudufu za moja kwa moja na kurejesha hadi wakati fulani, ikisaidia kulinda na kurejesha data yako.
6. **Uingiliano**: Inaunganisha kwa urahisi na huduma zingine za Google Cloud, ikitoa suluhisho kamili la kujenga, kusambaza, na kusimamia programu.
7. **Utendaji**: Inatoa vipimo vya utendaji na uchunguzi wa kudhibiti, kutatua matatizo, na kuboresha utendaji wa database.

### Nywila

Kwenye konsoli ya wavuti ya Cloud SQL inaruhusu mtumiaji **kuweka** **nywila** ya database, pia kuna kipengele cha kuzalisha, lakini muhimu zaidi, **MySQL** inaruhusu **kuacha nywila tupu na zote kuruhusu kuweka nywila kama herufi "a":**

<figure><img src="../../../.gitbook/assets/image (14).png" alt=""><figcaption></figcaption></figure>

Pia ni rahisi kusanidi sera ya nywila inayohitaji **urefu**, **utata**, **kulemaza kurudia** na **kulemaza jina la mtumiaji kwenye nywila**. Yote hayo yamelemazwa kwa chaguo-msingi.

**SQL Server** inaweza kusanidiwa na **Uthibitishaji wa Active Directory**.

### Upatikanaji wa Eneo

Database inaweza kuwa **ipatikane katika eneo 1 au katika vingi**, kwa hakika, inapendekezwa kuwa na mabadiliko muhimu katika maeneo mengi.

### Kusimbua

Kwa chaguo-msingi, ufunguo wa kusimbua ulioandaliwa na Google hutumiwa, lakini pia ni **inawezekana kuchagua ufunguo wa kusimbua ulioandaliwa na Mteja (CMEK)**.

### Mawasiliano

* **IP ya Kibinafsi**: Eleza mtandao wa VPC na database itapata IP ya kibinafsi ndani ya mtandao
* **IP ya Umma**: Database itapata IP ya umma, lakini kwa chaguo-msingi hakuna mtu atakayeweza kuunganisha
* **Mitandao iliyoruhusiwa**: Eleza **aina za IP za umma zinazopaswa kuruhusiwa** kuunganisha kwenye database
* **Njia ya Kibinafsi**: Ikiwa DB imeunganishwa kwenye VPC fulani, inawezekana kuwezesha chaguo hili na kutoa **huduma zingine za GCP kama BigQuery upatikanaji juu yake**

<figure><img src="../../../.gitbook/assets/image (15).png" alt=""><figcaption></figcaption></figure>

### Ulinzi wa Data

* **Nakala Rudufu za Kila Siku**: Fanya nakala rudufu za kiotomatiki kila siku na eleza idadi ya nakala rudufu unazotaka kudumisha.
* **Kurejesha hadi wakati fulani**: Inakuruhusu kurejesha data kutoka wakati maalum, hadi sehemu ya sekunde.
* **Ulinzi wa Kufuta**: Ikiwa imewezeshwa, DB haitaweza kufutwa hadi kipengele hiki kimelemazwa

### Urambazaji
```bash
# Get SQL instances
gcloud sql instances list
gcloud sql instances describe <inst-name> # get IPs, CACert, settings

# Get database names inside an instance (like information_schema, sys...)
gcloud sql databases list --instance <intance-name>
gcloud sql databases describe <db-name> --instance <intance-name>

# Get usernames inside the db instance
gcloud sql users list --instance <intance-name>

# Backups
gcloud sql backups list --instance <intance-name>
gcloud sql backups describe <backup-name> --instance <intance-name>
```
### Uchambuzi usiothibitishwa

{% content-ref url="../gcp-unaunthenticated-enum-and-access/gcp-cloud-sql-unauthenticated-enum.md" %}
[gcp-cloud-sql-unauthenticated-enum.md](../gcp-unaunthenticated-enum-and-access/gcp-cloud-sql-unauthenticated-enum.md)
{% endcontent-ref %}

### Baada ya Uvamizi

{% content-ref url="../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md" %}
[gcp-cloud-sql-post-exploitation.md](../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md)
{% endcontent-ref %}

### Uthabiti

{% content-ref url="../gcp-persistence/gcp-cloud-sql-persistence.md" %}
[gcp-cloud-sql-persistence.md](../gcp-persistence/gcp-cloud-sql-persistence.md)
{% endcontent-ref %}

{% hint style="success" %}
Jifunze & zoezi la Udukuzi wa AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Mafunzo ya HackTricks AWS Timu Nyekundu Mtaalam (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Jifunze & zoezi la Udukuzi wa GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Mafunzo ya HackTricks GCP Timu Nyekundu Mtaalam (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa usajili**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
