# GCP - Cloud SQL Enum

<details>

<summary><strong>Μάθετε το χάκινγκ στο AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Αν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε** στην 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα τηλεγραφήματος**](https://t.me/peass) ή **ακολουθήστε** με στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs** στα [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)
*
*
* αποθετήρια github.

</details>

## Βασικές Πληροφορίες

Το Google Cloud SQL είναι ένα υπηρεσία που **απλοποιεί τη δημιουργία, τη συντήρηση και τη διαχείριση σχεσιακών βάσεων δεδομένων** όπως MySQL, PostgreSQL και SQL Server στην Google Cloud Platform, αφαιρώντας την ανάγκη για εργασίες όπως η παροχή υλικού, η εγκατάσταση βάσης δεδομένων, η ενημέρωση και οι αντίγραφα ασφαλείας.

Τα κύρια χαρακτηριστικά του Google Cloud SQL περιλαμβάνουν:

1. **Πλήρως Διαχειριζόμενο**: Το Google Cloud SQL είναι μια πλήρως διαχειριζόμενη υπηρεσία, που σημαίνει ότι η Google χειρίζεται εργασίες συντήρησης βάσης δεδομένων όπως ενημερώσεις, αντίγραφα ασφαλείας και ρύθμιση.
2. **Επεκτασιμότητα**: Παρέχει τη δυνατότητα επέκτασης της χωρητικότητας αποθήκευσης και των υπολογιστικών πόρων της βάσης δεδομένων σας, συχνά χωρίς διακοπές.
3. **Υψηλή Διαθεσιμότητα**: Προσφέρει ρυθμίσεις υψηλής διαθεσιμότητας, εξασφαλίζοντας ότι οι υπηρεσίες βάσης δεδομένων σας είναι αξιόπιστες και μπορούν να αντέξουν αποτυχίες ζώνης ή παρουσίας.
4. **Ασφάλεια**: Παρέχει αξιόπιστα χαρακτηριστικά ασφαλείας όπως κρυπτογράφηση δεδομένων, ελέγχους ταυτότητας και πρόσβασης (IAM) και απομόνωση δικτύου χρησιμοποιώντας ιδιωτικές IP και VPC.
5. **Αντίγραφα Ασφαλείας και Ανάκτηση**: Υποστηρίζει αυτόματα αντίγραφα ασφαλείας και ανάκτηση σε σημείο χρόνου, βοηθώντας σας να προστατεύσετε και να ανακτήσετε τα δεδομένα σας.
6. **Ενσωμάτωση**: Ενσωματώνεται αρμονικά με άλλες υπηρεσίες του Google Cloud, παρέχοντας μια ολοκληρωμένη λύση για τη δημιουργία, ανάπτυξη και διαχείριση εφαρμογών.
7. **Απόδοση**: Προσφέρει μετρήσεις απόδοσης και διαγνωστικά εργαλεία για την παρακολούθηση, την αντιμετώπιση προβλημάτων και τη βελτίωση της απόδοσης της βάσης δεδομένων.

### Κωδικός Πρόσβασης

Στην ιστοσελίδα του Cloud SQL επιτρέπεται στον χρήστη να **ορίσει** τον **κωδικό πρόσβασης** της βάσης δεδομένων, υπάρχει επίσης μια λειτουργία δημιουργίας, αλλά το πιο σημαντικό, **το MySQL επιτρέπει να αφήσετε έναν κενό κωδικό πρόσβασης και όλοι τους επιτρέπουν να ορίσουν ως κωδικό πρόσβασης μόνο τον χαρακτήρα "α":**

<figure><img src="../../../.gitbook/assets/image (14).png" alt=""><figcaption></figcaption></figure>

Είναι επίσης δυνατό να διαμορφώσετε μια πολιτική κωδικού που απαιτεί **μήκος**, **πολυπλοκότητα**, **απενεργοποίηση επανάχρησης** και **απενεργοποίηση του ονόματος χρήστη στον κωδικό πρόσβασης**. Όλα είναι απενεργοποιημένα από προεπιλογή.

Το **SQL Server** μπορεί να διαμορφωθεί με **Ταυτοποίηση Ενεργού Καταλόγου**.

### Διαθεσιμότητα Ζώνης

Η βάση δεδομένων μπορεί να είναι **διαθέσιμη σε 1 ζώνη ή σε πολλαπλές**, φυσικά, συνιστάται να έχετε σημαντικές βάσεις δεδομένων σε πολλαπλές ζώνες.

### Κρυπτογράφηση

Από προεπιλογή χρησιμοποιείται ένα κλειδί κρυπτογράφησης που διαχειρίζεται από τη Google, αλλά είναι επίσης **δυνατό να επιλέξετε ένα Κλειδί Κρυπτογράφησης που Διαχειρίζεται ο Πελάτης (CMEK)**.

### Συνδέσεις

* **Ιδιωτική IP**: Υποδεικνύετε το δίκτυο VPC και η βάση δεδομένων θα λάβει μια ιδιωτική IP μέσα στο δίκτυο
* **Δημόσια IP**: Η βάση δεδομένων θα λάβει μια δημόσια IP, αλλά από προεπιλογή κανείς δεν θα μπορεί να συνδεθεί
* **Εξουσιοδοτημένα δίκτυα**: Υποδεικνύουν δημόσιες **εύρος IP που πρέπει να επιτρέπονται** να συνδεθούν στη βάση δεδομένων
* **Ιδιωτικό Μονοπάτι**: Αν η ΒΔ συνδέεται σε κάποιο VPC, είναι δυνατό να ενεργοποιηθεί αυτή η επιλογή και να δοθεί **πρόσβαση σε άλλες υπηρεσίες GCP όπως το BigQuery μέσω αυτού**

<figure><img src="../../../.gitbook/assets/image (15).png" alt=""><figcaption></figcaption></figure>

### Προστασία Δεδομένων

* **Καθημερινά αντίγραφα ασφαλείας**: Πραγματοποιήστε αυτόματα καθημερινά αντίγραφα ασφαλείας και υποδεικνύστε τον αριθμό των αντιγράφων ασφαλείας που θέλετε να διατηρήσετε.
* **Ανάκτηση σε σημείο χρόνου**: Σάς επιτρέπει να ανακτήσετε δεδομένα από ένα συγκεκριμένο σημείο στο χρόνο, μέχρι και σε κλάσματα του δευτερολέπτου.
* **Προστασία Διαγραφής**: Εάν είναι ενεργοποιημένη, η ΒΔ δεν θα μπορεί να διαγραφεί μέχρι να απενεργοποιηθεί αυτό το χαρακτηριστικό

### Απαρίθμηση
```bash
# Get SQL instances
gcloud sql instances list
gcloud sql instances describe <inst-name> # get IPs, CACert, settings

# Get database names inside an instance (like information_schema, sys...)
gcloud sql databases list --instance <intance-name>
gcloud sql databases describe <db-name> --instance <intance-name>

# Get usernames inside the db instance
gcloud sql users list --instance <intance-name>

# Backups
gcloud sql backups list --instance <intance-name>
gcloud sql backups describe <backup-name> --instance <intance-name>
```
### Αποκλειστική Απαρίθμηση

{% content-ref url="../gcp-unaunthenticated-enum-and-access/gcp-cloud-sql-unauthenticated-enum.md" %}
[gcp-cloud-sql-unauthenticated-enum.md](../gcp-unaunthenticated-enum-and-access/gcp-cloud-sql-unauthenticated-enum.md)
{% endcontent-ref %}

### Μετά την Εκμετάλλευση

{% content-ref url="../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md" %}
[gcp-cloud-sql-post-exploitation.md](../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md)
{% endcontent-ref %}

### Διατήρηση

{% content-ref url="../gcp-persistence/gcp-cloud-sql-persistence.md" %}
[gcp-cloud-sql-persistence.md](../gcp-persistence/gcp-cloud-sql-persistence.md)
{% endcontent-ref %}

{% hint style="success" %}
Μάθετε & εξασκηθείτε στο Hacking του AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Εκπαίδευση HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Μάθετε & εξασκηθείτε στο Hacking του GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Εκπαίδευση HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Υποστηρίξτε το HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Εγγραφείτε** 💬 στην [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε κόλπα χάκινγκ υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια στο GitHub.

</details>
{% endhint %}
