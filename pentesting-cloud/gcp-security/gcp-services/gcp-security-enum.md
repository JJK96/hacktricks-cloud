# GCP - Security Enum

{% hint style="success" %}
Μάθετε και εξασκηθείτε στο AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Μάθετε και εξασκηθείτε στο GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Υποστηρίξτε το HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Εγγραφείτε στην** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε hacking tricks υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια στο github.

</details>
{% endhint %}

## Βασικές Πληροφορίες

Το Google Cloud Platform (GCP) Security περιλαμβάνει μια **ολοκληρωμένη σουίτα εργαλείων** και πρακτικών σχεδιασμένων για να εξασφαλίσουν την **ασφάλεια** των πόρων και των δεδομένων στο περιβάλλον του Google Cloud, χωρισμένη σε τέσσερις κύριες ενότητες: **Security Command Center, Detections and Controls, Data Protection και Zero Trust.**

## **Security Command Center**

Το Google Cloud Platform (GCP) Security Command Center (SCC) είναι ένα **εργαλείο διαχείρισης ασφάλειας και κινδύνου για πόρους GCP** που επιτρέπει στους οργανισμούς να αποκτήσουν ορατότητα και έλεγχο των cloud assets τους. Βοηθά στην **ανίχνευση και απόκριση σε απειλές** προσφέροντας ολοκληρωμένη ανάλυση ασφάλειας, **εντοπίζοντας λανθασμένες ρυθμίσεις**, εξασφαλίζοντας **συμμόρφωση** με τα πρότυπα ασφάλειας και **ενσωματώνοντας** με άλλα εργαλεία ασφάλειας για αυτοματοποιημένη ανίχνευση και απόκριση σε απειλές.

* **Επισκόπηση**: Πίνακας για να **οπτικοποιήσετε μια επισκόπηση** όλων των αποτελεσμάτων του Security Command Center.
* Απειλές: \[Απαιτείται Premium] Πίνακας για να οπτικοποιήσετε όλες τις **ανιχνευμένες απειλές. Δείτε περισσότερα για τις Απειλές παρακάτω**
* **Ευπάθειες**: Πίνακας για να **οπτικοποιήσετε τις βρεθείσες λανθασμένες ρυθμίσεις στον λογαριασμό GCP**.
* **Συμμόρφωση**: \[Απαιτείται Premium] Αυτή η ενότητα επιτρέπει να **δοκιμάσετε το περιβάλλον GCP σας έναντι πολλών ελέγχων συμμόρφωσης** (όπως PCI-DSS, NIST 800-53, CIS benchmarks...) σε όλο τον οργανισμό.
* **Πόροι**: Αυτή η ενότητα **δείχνει όλους τους χρησιμοποιούμενους πόρους**, πολύ χρήσιμο για τους sysadmins (και ίσως για τον επιτιθέμενο) να δουν τι τρέχει σε μια σελίδα.
* **Ευρήματα**: Αυτό **συγκεντρώνει** σε έναν **πίνακα ευρήματα** από διάφορες ενότητες του GCP Security (όχι μόνο του Command Center) για να είναι εύκολο να οπτικοποιηθούν τα σημαντικά ευρήματα.
* **Πηγές**: Δείχνει μια **περίληψη των ευρημάτων** από όλες τις διαφορετικές ενότητες του GCP security **κατά ενότητα**.
* **Στάση**: \[Απαιτείται Premium] Η Στάση Ασφάλειας επιτρέπει να **ορίσετε, αξιολογήσετε και παρακολουθήσετε την ασφάλεια του περιβάλλοντος GCP**. Λειτουργεί δημιουργώντας πολιτική που ορίζει περιορισμούς ή περιορισμούς που ελέγχουν/παρακολουθούν τους πόρους στο GCP. Υπάρχουν αρκετά προκαθορισμένα πρότυπα στάσης που μπορούν να βρεθούν στο [https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy](https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy)

### **Απειλές**

Από την προοπτική ενός επιτιθέμενου, αυτό είναι πιθανώς το **πιο ενδιαφέρον χαρακτηριστικό καθώς θα μπορούσε να ανιχνεύσει τον επιτιθέμενο**. Ωστόσο, σημειώστε ότι αυτό το χαρακτηριστικό απαιτεί **Premium** (που σημαίνει ότι η εταιρεία θα πρέπει να πληρώσει περισσότερα), οπότε **ίσως να μην είναι καν ενεργοποιημένο**.&#x20;

Υπάρχουν 3 τύποι μηχανισμών ανίχνευσης απειλών:

* **Απειλές Συμβάντων**: Ευρήματα που παράγονται από την αντιστοίχιση συμβάντων από **Cloud Logging** βάσει **κανόνων που δημιουργούνται** εσωτερικά από την Google. Μπορεί επίσης να σαρώσει **Google Workspace logs**.
* Είναι δυνατό να βρείτε την περιγραφή όλων των [**κανόνων ανίχνευσης στα docs**](https://cloud.google.com/security-command-center/docs/concepts-event-threat-detection-overview?authuser=2#how\_works)
* **Απειλές Κοντέινερ**: Ευρήματα που παράγονται μετά την ανάλυση της χαμηλού επιπέδου συμπεριφοράς του πυρήνα των κοντέινερ.
* **Προσαρμοσμένες Απειλές**: Κανόνες που δημιουργούνται από την εταιρεία.

Είναι δυνατό να βρείτε προτεινόμενες απαντήσεις στις ανιχνευμένες απειλές και των δύο τύπων στο [https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response](https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response)

### Απαρίθμηση

{% code overflow="wrap" %}
```bash
# Get a source
gcloud scc sources describe <org-number> --source=5678
## If the response is that the service is disabled or that the source is not found, then, it isn't enabled

# Get notifications
gcloud scc notifications list <org-number>

# Get findings (if not premium these are just vulnerabilities)
gcloud scc findings list <org-number>
```
{% endcode %}

### Post Exploitation

{% content-ref url="../gcp-post-exploitation/gcp-security-post-exploitation.md" %}
[gcp-security-post-exploitation.md](../gcp-post-exploitation/gcp-security-post-exploitation.md)
{% endcontent-ref %}

## Detections and Controls

* **Chronicle SecOps**: Μια προηγμένη σουίτα λειτουργιών ασφαλείας σχεδιασμένη να βοηθά τις ομάδες να αυξήσουν την ταχύτητα και τον αντίκτυπο των λειτουργιών ασφαλείας, συμπεριλαμβανομένης της ανίχνευσης απειλών, της διερεύνησης και της απόκρισης.
* **reCAPTCHA Enterprise**: Μια υπηρεσία που προστατεύει τους ιστότοπους από δόλιες δραστηριότητες όπως scraping, credential stuffing, και αυτοματοποιημένες επιθέσεις, διακρίνοντας μεταξύ ανθρώπινων χρηστών και bots.
* **Web Security Scanner**: Εργαλείο αυτοματοποιημένης σάρωσης ασφαλείας που ανιχνεύει ευπάθειες και κοινά ζητήματα ασφαλείας σε web εφαρμογές που φιλοξενούνται στο Google Cloud ή σε άλλη web υπηρεσία.
* **Risk Manager**: Ένα εργαλείο διακυβέρνησης, κινδύνου και συμμόρφωσης (GRC) που βοηθά τους οργανισμούς να αξιολογούν, να τεκμηριώνουν και να κατανοούν τη στάση κινδύνου τους στο Google Cloud.
* **Binary Authorization**: Ένας έλεγχος ασφαλείας για containers που διασφαλίζει ότι μόνο αξιόπιστες εικόνες container αναπτύσσονται σε Kubernetes Engine clusters σύμφωνα με τις πολιτικές που ορίζει η επιχείρηση.
* **Advisory Notifications**: Μια υπηρεσία που παρέχει ειδοποιήσεις και συμβουλές σχετικά με πιθανά ζητήματα ασφαλείας, ευπάθειες και προτεινόμενες ενέργειες για να διατηρηθούν οι πόροι ασφαλείς.
* **Access Approval**: Ένα χαρακτηριστικό που επιτρέπει στους οργανισμούς να απαιτούν ρητή έγκριση πριν οι υπάλληλοι της Google μπορέσουν να αποκτήσουν πρόσβαση στα δεδομένα ή τις διαμορφώσεις τους, παρέχοντας ένα επιπλέον επίπεδο ελέγχου και ελεγκτικότητας.
* **Managed Microsoft AD**: Μια υπηρεσία που προσφέρει διαχειριζόμενο Microsoft Active Directory (AD) που επιτρέπει στους χρήστες να χρησιμοποιούν τις υπάρχουσες εφαρμογές και φόρτους εργασίας που εξαρτώνται από το Microsoft AD στο Google Cloud.

## Data Protection

* **Sensitive Data Protection**: Εργαλεία και πρακτικές που στοχεύουν στην προστασία ευαίσθητων δεδομένων, όπως προσωπικές πληροφορίες ή πνευματική ιδιοκτησία, από μη εξουσιοδοτημένη πρόσβαση ή έκθεση.
* **Data Loss Prevention (DLP)**: Ένα σύνολο εργαλείων και διαδικασιών που χρησιμοποιούνται για την αναγνώριση, παρακολούθηση και προστασία δεδομένων σε χρήση, σε κίνηση και σε ανάπαυση μέσω βαθιάς επιθεώρησης περιεχομένου και εφαρμογής ενός ολοκληρωμένου συνόλου κανόνων προστασίας δεδομένων.
* **Certificate Authority Service**: Μια κλιμακούμενη και ασφαλής υπηρεσία που απλοποιεί και αυτοματοποιεί τη διαχείριση, την ανάπτυξη και την ανανέωση των SSL/TLS πιστοποιητικών για εσωτερικές και εξωτερικές υπηρεσίες.
* **Key Management**: Μια υπηρεσία βασισμένη στο cloud που σας επιτρέπει να διαχειρίζεστε κρυπτογραφικά κλειδιά για τις εφαρμογές σας, συμπεριλαμβανομένης της δημιουργίας, εισαγωγής, περιστροφής, χρήσης και καταστροφής κλειδιών κρυπτογράφησης. Περισσότερες πληροφορίες στο:

{% content-ref url="gcp-kms-enum.md" %}
[gcp-kms-enum.md](gcp-kms-enum.md)
{% endcontent-ref %}

* **Certificate Manager**: Μια υπηρεσία που διαχειρίζεται και αναπτύσσει SSL/TLS πιστοποιητικά, διασφαλίζοντας ασφαλείς και κρυπτογραφημένες συνδέσεις στις web υπηρεσίες και εφαρμογές σας.
* **Secret Manager**: Ένα ασφαλές και βολικό σύστημα αποθήκευσης για API keys, κωδικούς πρόσβασης, πιστοποιητικά και άλλα ευαίσθητα δεδομένα, που επιτρέπει την εύκολη και ασφαλή πρόσβαση και διαχείριση αυτών των μυστικών στις εφαρμογές. Περισσότερες πληροφορίες στο:

{% content-ref url="gcp-secrets-manager-enum.md" %}
[gcp-secrets-manager-enum.md](gcp-secrets-manager-enum.md)
{% endcontent-ref %}

## Zero Trust

* **BeyondCorp Enterprise**: Μια πλατφόρμα ασφαλείας zero-trust που επιτρέπει ασφαλή πρόσβαση σε εσωτερικές εφαρμογές χωρίς την ανάγκη παραδοσιακού VPN, βασιζόμενη στην επαλήθευση της εμπιστοσύνης του χρήστη και της συσκευής πριν από την παροχή πρόσβασης.
* **Policy Troubleshooter**: Ένα εργαλείο σχεδιασμένο να βοηθά τους διαχειριστές να κατανοούν και να επιλύουν ζητήματα πρόσβασης στον οργανισμό τους, εντοπίζοντας γιατί ένας χρήστης έχει πρόσβαση σε ορισμένους πόρους ή γιατί η πρόσβαση απορρίφθηκε, βοηθώντας έτσι στην επιβολή πολιτικών zero-trust.
* **Identity-Aware Proxy (IAP)**: Μια υπηρεσία που ελέγχει την πρόσβαση σε cloud εφαρμογές και VMs που τρέχουν στο Google Cloud, on-premises ή σε άλλα clouds, βασισμένη στην ταυτότητα και το πλαίσιο του αιτήματος αντί για το δίκτυο από το οποίο προέρχεται το αίτημα.
* **VPC Service Controls**: Περιμετρικά ασφαλείας που παρέχουν επιπλέον επίπεδα προστασίας στους πόρους και τις υπηρεσίες που φιλοξενούνται στο Virtual Private Cloud (VPC) του Google Cloud, αποτρέποντας την εξαγωγή δεδομένων και παρέχοντας λεπτομερή έλεγχο πρόσβασης.
* **Access Context Manager**: Μέρος του BeyondCorp Enterprise του Google Cloud, αυτό το εργαλείο βοηθά στον ορισμό και την επιβολή λεπτομερών πολιτικών ελέγχου πρόσβασης βασισμένων στην ταυτότητα του χρήστη και το πλαίσιο του αιτήματος, όπως η κατάσταση ασφαλείας της συσκευής, η διεύθυνση IP και άλλα.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
