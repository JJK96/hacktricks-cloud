# GCP - Security Enum

{% hint style="success" %}
Leer & oefen AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Leer & oefen GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kyk na die [**intekenplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Basiese Inligting

Google Cloud Platform (GCP) Sekuriteit behels 'n **omvattende reeks gereedskap** en praktyke wat ontwerp is om die **sekuriteit** van hulpbronne en data binne die Google Cloud-omgewing te verseker, verdeel in vier hoofafdelings: **Security Command Center, Detections and Controls, Data Protection en Zero Trust.**

## **Security Command Center**

Die Google Cloud Platform (GCP) Security Command Center (SCC) is 'n **sekuriteit- en risikobestuursinstrument vir GCP**-hulpbronne wat organisasies in staat stel om sigbaarheid en beheer oor hul wolkbronne te verkry. Dit help om **bedreigings op te spoor en daarop te reageer** deur omvattende sekuriteitsanalise te bied, **wanopstellings te identifiseer**, **nakoming** van sekuriteitstandaarde te verseker, en **te integreer** met ander sekuriteitsinstrumente vir outomatiese bedreigingsopsporing en reaksie.

* **Oorsig**: Paneel om 'n **oorsig van al die resultate van die Security Command Center te visualiseer**.
* Bedreigings: \[Premium Vereis] Paneel om al die **opgespoorde bedreigings te visualiseer. Kyk meer oor Bedreigings hieronder**
* **Kwetsbaarhede**: Paneel om **gevonde wanopstellings in die GCP-rekening te visualiseer**.
* **Nakoming**: \[Premium vereis] Hierdie afdeling laat toe om **jou GCP-omgewing teen verskeie nakomingskontroles te toets** (soos PCI-DSS, NIST 800-53, CIS maatstawwe...) oor die organisasie.
* **Hulpbronne**: Hierdie afdeling **wys al die hulpbronne wat gebruik word**, baie nuttig vir stelseladministrateurs (en dalk aanvallers) om te sien wat op 'n enkele bladsy loop.
* **Bevindinge**: Dit **versamel** in 'n **tabel bevindinge** van verskillende afdelings van GCP Sekuriteit (nie net Command Center nie) om bevindinge wat saak maak maklik te visualiseer.
* **Bronne**: Wys 'n **opsomming van bevindinge** van al die verskillende afdelings van GCP-sekuriteit **per afdeling**.
* **Houding**: \[Premium Vereis] Sekuriteitshouding laat toe om **die sekuriteit van die GCP-omgewing te definieer, te evalueer en te monitor**. Dit werk deur beleid te skep wat beperkings of beperkings definieer wat die hulpbronne in GCP beheer/monitor. Daar is verskeie vooraf-gedefinieerde houdingstemplates wat gevind kan word by [https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy](https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy)

### **Bedreigings**

Vanuit die perspektief van 'n aanvaller is dit waarskynlik die **mees interessante funksie aangesien dit die aanvaller kan opspoor**. Let egter daarop dat hierdie funksie **Premium** vereis (wat beteken dat die maatskappy meer sal moet betaal), so dit **mag dalk nie eens geaktiveer wees nie**.&#x20;

Daar is 3 tipes bedreigingsopsporingsmeganismes:

* **Gebeure Bedreigings**: Bevindinge wat geproduseer word deur gebeure van **Cloud Logging** te pas op grond van **re√´ls wat intern deur Google geskep is**. Dit kan ook **Google Workspace logs** skandeer.
* Dit is moontlik om die beskrywing van al die [**opsporingsre√´ls in die dokumentasie te vind**](https://cloud.google.com/security-command-center/docs/concepts-event-threat-detection-overview?authuser=2#how\_works)
* **Houer Bedreigings**: Bevindinge wat geproduseer word na die ontleding van lae-vlak gedrag van die kern van houers.
* **Pasgemaakte Bedreigings**: Re√´ls wat deur die maatskappy geskep is.

Dit is moontlik om aanbevole reaksies op opgespoorde bedreigings van beide tipes te vind by [https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response](https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response)

### Enumerasie

{% code overflow="wrap" %}
```bash
# Get a source
gcloud scc sources describe <org-number> --source=5678
## If the response is that the service is disabled or that the source is not found, then, it isn't enabled

# Get notifications
gcloud scc notifications list <org-number>

# Get findings (if not premium these are just vulnerabilities)
gcloud scc findings list <org-number>
```
{% endcode %}

### Post Exploitation

{% content-ref url="../gcp-post-exploitation/gcp-security-post-exploitation.md" %}
[gcp-security-post-exploitation.md](../gcp-post-exploitation/gcp-security-post-exploitation.md)
{% endcontent-ref %}

## Detections and Controls

* **Chronicle SecOps**: 'n Gevorderde sekuriteitsoperasiesuite ontwerp om spanne te help om hul spoed en impak van sekuriteitsoperasies te verhoog, insluitend bedreigingsopsporing, ondersoek, en reaksie.
* **reCAPTCHA Enterprise**: 'n Diens wat webwerwe beskerm teen bedrieglike aktiwiteite soos skraap, geloofsbriewe-stuffing, en outomatiese aanvalle deur tussen menslike gebruikers en bots te onderskei.
* **Web Security Scanner**: Outomatiese sekuriteitskanderingstool wat kwesbaarhede en algemene sekuriteitskwessies in webtoepassings wat op Google Cloud of 'n ander webdiens aangebied word, opspoor.
* **Risk Manager**: 'n Bestuurs-, risiko- en nakomingsinstrument (GRC) wat organisasies help om hul Google Cloud-risikoposisie te evalueer, te dokumenteer en te verstaan.
* **Binary Authorization**: 'n Sekuriteitsbeheer vir houers wat verseker dat slegs betroubare houerbeelde op Kubernetes Engine-klusters ontplooi word volgens beleide wat deur die onderneming gestel is.
* **Advisory Notifications**: 'n Diens wat waarskuwings en advies verskaf oor potensi√´le sekuriteitskwessies, kwesbaarhede, en aanbevole aksies om hulpbronne veilig te hou.
* **Access Approval**: 'n Kenmerk wat organisasies toelaat om eksplisiete goedkeuring te vereis voordat Google-werknemers toegang tot hul data of konfigurasies kan kry, wat 'n bykomende laag van beheer en ouditbaarheid bied.
* **Managed Microsoft AD**: 'n Diens wat bestuurde Microsoft Active Directory (AD) aanbied wat gebruikers toelaat om hul bestaande Microsoft AD-afhanklike toepassings en werklaste op Google Cloud te gebruik.

## Data Protection

* **Sensitive Data Protection**: Gereedskap en praktyke wat daarop gemik is om sensitiewe data, soos persoonlike inligting of intellektuele eiendom, teen ongemagtigde toegang of blootstelling te beskerm.
* **Data Loss Prevention (DLP)**: 'n Stel gereedskap en prosesse wat gebruik word om data in gebruik, in beweging, en in rus te identifiseer, te monitor, en te beskerm deur diep inhoudinspeksie en deur 'n omvattende stel databeskermeringsre√´ls toe te pas.
* **Certificate Authority Service**: 'n Skaalbare en veilige diens wat die bestuur, ontplooiing, en hernuwing van SSL/TLS-sertifikate vir interne en eksterne dienste vereenvoudig en outomatiseer.
* **Key Management**: 'n Wolkgebaseerde diens wat jou toelaat om kriptografiese sleutels vir jou toepassings te bestuur, insluitend die skepping, invoer, rotasie, gebruik, en vernietiging van enkripsiesleutels. Meer inligting in:

{% content-ref url="gcp-kms-enum.md" %}
[gcp-kms-enum.md](gcp-kms-enum.md)
{% endcontent-ref %}

* **Certificate Manager**: 'n Diens wat SSL/TLS-sertifikate bestuur en ontplooi, wat verseker dat veilige en ge√´nkripteerde verbindings na jou webdienste en toepassings gemaak word.
* **Secret Manager**: 'n Veilige en gerieflike stoorstelsel vir API-sleutels, wagwoorde, sertifikate, en ander sensitiewe data, wat maklike en veilige toegang en bestuur van hierdie geheime in toepassings moontlik maak. Meer inligting in:

{% content-ref url="gcp-secrets-manager-enum.md" %}
[gcp-secrets-manager-enum.md](gcp-secrets-manager-enum.md)
{% endcontent-ref %}

## Zero Trust

* **BeyondCorp Enterprise**: 'n Zero-trust sekuriteitsplatform wat veilige toegang tot interne toepassings moontlik maak sonder die behoefte aan 'n tradisionele VPN, deur te vertrou op verifikasie van gebruiker- en toestelvertroue voordat toegang verleen word.
* **Policy Troubleshooter**: 'n Instrument ontwerp om administrateurs te help om toegangskwessies in hul organisasie te verstaan en op te los deur te identifiseer waarom 'n gebruiker toegang tot sekere hulpbronne het of waarom toegang geweier is, wat help met die afdwinging van zero-trust beleide.
* **Identity-Aware Proxy (IAP)**: 'n Diens wat toegang tot wolktoepassings en VM's wat op Google Cloud, op die perseel, of ander wolke loop, beheer, gebaseer op die identiteit en die konteks van die versoek eerder as deur die netwerk vanwaar die versoek afkomstig is.
* **VPC Service Controls**: Sekuriteitsperimeters wat bykomende lae beskerming bied aan hulpbronne en dienste wat in Google Cloud se Virtual Private Cloud (VPC) aangebied word, wat data-uitvloei voorkom en fynkorrelige toegangsbeheer bied.
* **Access Context Manager**: Deel van Google Cloud se BeyondCorp Enterprise, hierdie instrument help om fynkorrelige toegangsbeheerbeleide te definieer en af te dwing gebaseer op 'n gebruiker se identiteit en die konteks van hul versoek, soos toestel se sekuriteitstatus, IP-adres, en meer.

{% hint style="success" %}
Leer & oefen AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Leer & oefen GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kyk na die [**intekenplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
