# GCP - Vyanzo vya Repositories Enum

{% hint style="success" %}
Jifunze & zoezi la AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Mafunzo ya HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Jifunze & zoezi la GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Mafunzo ya HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa michango**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Taarifa Msingi <a href="#reviewing-cloud-git-repositories" id="reviewing-cloud-git-repositories"></a>

Google Cloud Vyanzo vya Repositories ni huduma kamili, inayoweza kupanuliwa, **huduma ya hifadhi ya Git binafsi**. Imetengenezwa kwa lengo la **kutunza nambari yako ya chanzo katika mazingira yaliyosimamiwa kabisa**, ikishirikiana kwa urahisi na zana na huduma zingine za GCP. Inatoa mahali pa ushirikiano na salama kwa timu kuhifadhi, kusimamia, na kufuatilia nambari zao.

Sifa muhimu za Vyanzo vya Repositories vya Cloud ni pamoja na:

1. **Hifadhi ya Git Iliyosimamiwa Kabisa**: Inatoa utendaji wa kawaida wa Git, maana unaweza kutumia amri za kawaida za Git na mifumo ya kazi.
2. **Ushirikiano na Huduma za GCP**: Inashirikiana na huduma zingine za GCP kama Cloud Build, Pub/Sub, na App Engine kwa ufuatiliaji kamili kutoka nambari hadi kupelekwa.
3. **Vyanzo vya Repositories Binafsi**: Inahakikisha nambari yako inahifadhiwa kwa usalama na faragha. Unaweza kudhibiti ufikiaji kwa kutumia majukumu ya Utambulisho wa Wingu na Usimamizi wa Ufikiaji (IAM).
4. **Uchambuzi wa Nambari ya Chanzo**: Inafanya kazi na zana zingine za GCP kutoa uchambuzi wa moja kwa moja wa nambari yako ya chanzo, kutambua masuala yanayowezekana kama makosa, mapungufu, au mazoea mabaya ya kuandika nambari.
5. **Zana za Ushirikiano**: Inasaidia kuandika kwa ushirikiano na zana kama maombi ya kuchanganya, maoni, na mapitio.
6. **Msaada wa Kioo**: Inakuruhusu kuunganisha Vyanzo vya Repositories vya Cloud na vyanzo vilivyohifadhiwa kwenye GitHub au Bitbucket, ikiruhusu kusawazisha moja kwa moja na kutoa mtazamo mmoja wa vyanzo vyako vyote.

### Taarifa za OffSec <a href="#reviewing-cloud-git-repositories" id="reviewing-cloud-git-repositories"></a>

* Mazingira ya vyanzo vya repositories ndani ya mradi yatakuwa na **Akaunti ya Huduma** inayotumiwa kutuma ujumbe wa Cloud Pub/Sub. Ile ya kawaida inayotumiwa ni **Compute SA**. Hata hivyo, **Sifikiri ni rahisi kuiba token yake** kutoka Vyanzo vya Repositories kwani inatekelezwa nyuma.
* Ili kuona nambari ndani ya GCP Cloud Vyanzo vya Repositories kwenye kivinjari cha wavuti ([https://source.cloud.google.com/](https://source.cloud.google.com/)), unahitaji nambari iwe **ndani ya tawi la msingi kwa chaguo-msingi**.
* Unaweza pia **kuunda Kioo cha Repositori ya Cloud** kinachoelekeza kwenye repo kutoka **Github** au **Bitbucket** (ukiruhusu ufikiaji wa majukwaa hayo).
* Ni rahisi **kuandika na kudebaji kutoka ndani ya GCP**.
* Kwa chaguo-msingi, Vyanzo vya Repositories **inazuia funguo za faragha kusukumwa katika kuingiza**, lakini hii inaweza kulemazwa.

### Fungua kwenye Cloud Shell

Inawezekana kufungua vyanzo katika Cloud Shell, onyesho kama hili litatokea:

<figure><img src="../../../.gitbook/assets/image (325).png" alt=""><figcaption></figcaption></figure>

Hii itakuruhusu kuandika na kudebaji katika Cloud Shell (ambayo inaweza kusababisha cloudshell kudukuliwa).

### Uainishaji

{% code overflow="wrap" %}
```bash
# Repos enumeration
gcloud source repos list #Get names and URLs
gcloud source repos describe <repo_name>
gcloud source repos get-iam-policy <repo_name>

# gcloud repo clone
gcloud source repos clone <REPO NAME>
gcloud source repos get-iam-policy <REPO NAME>
... git add & git commit -m ...
git push --set-upstream origin master
git push -u origin master

# Access via git
## To add a SSH key go to https://source.cloud.google.com/user/ssh_keys (no gcloud command)
git clone ssh://username@domain.com@source.developers.google.com:2022/p/<proj-name>/r/<repo-name>
git add, commit, push...
```
### Upandishaji wa Hadhi & Baada ya Kudukuliwa

{% content-ref url="../gcp-privilege-escalation/gcp-sourcerepos-privesc.md" %}
[gcp-sourcerepos-privesc.md](../gcp-privilege-escalation/gcp-sourcerepos-privesc.md)
{% endcontent-ref %}

### Upimaji wa Unauthenticated

{% content-ref url="../gcp-unaunthenticated-enum-and-access/gcp-source-repositories-unauthenticated-enum.md" %}
[gcp-source-repositories-unauthenticated-enum.md](../gcp-unaunthenticated-enum-and-access/gcp-source-repositories-unauthenticated-enum.md)
{% endcontent-ref %}

{% hint style="success" %}
Jifunze & zoezi la Udukuzi wa AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Mafunzo ya HackTricks AWS Timu Nyekundu Mtaalam (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Jifunze & zoezi la Udukuzi wa GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Mafunzo ya HackTricks GCP Timu Nyekundu Mtaalam (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa michango**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
