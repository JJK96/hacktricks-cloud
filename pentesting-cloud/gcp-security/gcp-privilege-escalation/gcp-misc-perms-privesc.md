# GCP - Verschiedene Privilege Escalation

{% hint style="success" %}
Lernen Sie AWS-Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Lernen Sie GCP-Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtzen Sie HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repositorys senden.

</details>
{% endhint %}

## Generische Interessante Berechtigungen

### \*.setIamPolicy

Wenn Sie einen Benutzer besitzen, der die Berechtigung **`setIamPolicy`** in einem Ressource besitzt, k√∂nnen Sie **Berechtigungen in dieser Ressource eskalieren**, da Sie die IAM-Richtlinie dieser Ressource √§ndern und sich dadurch mehr Rechte verschaffen k√∂nnen.\
Diese Berechtigung kann es auch erm√∂glichen, **zu anderen Prinzipalen zu eskalieren**, wenn die Ressource das Ausf√ºhren von Code erlaubt und iam.ServiceAccounts.actAs nicht erforderlich ist.

* _cloudfunctions.functions.setIamPolicy_
* √Ñndern Sie die Richtlinie einer Cloud Function, um sich selbst das Aufrufen zu erm√∂glichen.

Es gibt dutzende von Ressourcentypen mit dieser Art von Berechtigung, Sie k√∂nnen sie alle unter [https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference) finden, indem Sie nach setIamPolicy suchen.

### \*.create, \*.update

Diese Berechtigungen k√∂nnen sehr n√ºtzlich sein, um Berechtigungen in Ressourcen zu eskalieren, indem Sie **eine neue erstellen oder eine vorhandene aktualisieren**. Diese Arten von Berechtigungen sind besonders n√ºtzlich, wenn Sie auch die Berechtigung **iam.serviceAccounts.actAs** √ºber ein Servicekonto haben und die Ressource, √ºber die Sie .create/.update haben, ein Servicekonto anh√§ngen kann.

### \*ServiceAccount\*

Diese Berechtigung wird Ihnen in der Regel erm√∂glichen, auf ein Servicekonto in einer Ressource zuzugreifen oder es zu √§ndern (z. B.: compute.instances.setServiceAccount). Dies **k√∂nnte zu einem Privilege Escalation**-Vektor f√ºhren, es h√§ngt jedoch von jedem Fall ab.



{% hint style="success" %}
Lernen Sie AWS-Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Lernen Sie GCP-Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtzen Sie HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repositorys senden.

</details>
{% endhint %}
