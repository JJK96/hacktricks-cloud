# GCP - Privil√®ge Escalade

{% hint style="success" %}
Apprenez et pratiquez le Hacking AWS :<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Formation HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Apprenez et pratiquez le Hacking GCP : <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Formation HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Soutenez HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop)!
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
{% endhint %}

## Autorisations G√©n√©riques Int√©ressantes

### \*.setIamPolicy

Si vous poss√©dez un utilisateur ayant l'autorisation **`setIamPolicy`** sur une ressource, vous pouvez **escalader les privil√®ges sur cette ressource** car vous pourrez modifier la politique IAM de cette ressource et vous donner plus de privil√®ges dessus.\
Cette autorisation peut √©galement permettre de **passer √† d'autres principaux** si la ressource permet d'ex√©cuter du code et que iam.ServiceAccounts.actAs n'est pas n√©cessaire.

* _cloudfunctions.functions.setIamPolicy_
* Modifier la politique d'une Cloud Function pour vous permettre de l'appeler.

Il existe des dizaines de types de ressources avec ce type d'autorisation, vous pouvez les trouver tous sur [https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference) en recherchant setIamPolicy.

### \*.create, \*.update

Ces autorisations peuvent √™tre tr√®s utiles pour essayer d'escalader les privil√®ges sur les ressources en **cr√©ant une nouvelle ou en mettant √† jour une existante**. Ces types d'autorisations sont particuli√®rement utiles si vous avez √©galement l'autorisation **iam.serviceAccounts.actAs** sur un compte de service et que la ressource sur laquelle vous avez .create/.update peut attacher un compte de service.

### \*ServiceAccount\*

Cette autorisation vous permettra g√©n√©ralement d'**acc√©der ou de modifier un compte de service dans une ressource** (par exemple : compute.instances.setServiceAccount). Cela **pourrait conduire √† un vecteur d'escalade de privil√®ges**, mais cela d√©pendra de chaque cas.



{% hint style="success" %}
Apprenez et pratiquez le Hacking AWS :<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Formation HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Apprenez et pratiquez le Hacking GCP : <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Formation HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Soutenez HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop)!
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
{% endhint %}
