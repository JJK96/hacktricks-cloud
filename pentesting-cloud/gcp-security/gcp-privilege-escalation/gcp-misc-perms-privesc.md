# GCP - Privilegi di Escalation Vari

{% hint style="success" %}
Impara e pratica l'Hacking su AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Impara e pratica l'Hacking su GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Sostieni HackTricks</summary>

* Controlla i [**piani di abbonamento**](https://github.com/sponsors/carlospolop)!
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi trucchi di hacking inviando PR a** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos di Github.

</details>
{% endhint %}

## Autorizzazioni Interessanti Generiche

### \*.setIamPolicy

Se possiedi un utente che ha l'autorizzazione **`setIamPolicy`** su una risorsa, puoi **escalare i privilegi su quella risorsa** perch√© sarai in grado di modificare la policy IAM di quella risorsa e ottenere pi√π privilegi su di essa.\
Questa autorizzazione pu√≤ anche consentire di **escalare ad altri principali** se la risorsa consente di eseguire codice e non √® necessario il iam.ServiceAccounts.actAs.

* _cloudfunctions.functions.setIamPolicy_
* Modifica la policy di una Funzione Cloud per consentirti di invocarla.

Ci sono decine di tipi di risorse con questo tipo di autorizzazione, puoi trovarle tutte in [https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference) cercando setIamPolicy.

### \*.create, \*.update

Queste autorizzazioni possono essere molto utili per provare a escalare i privilegi nelle risorse **creando una nuova o aggiornando una esistente**. Questi tipi di autorizzazioni sono particolarmente utili se hai anche l'autorizzazione **iam.serviceAccounts.actAs** su un Account di Servizio e la risorsa su cui hai .create/.update pu√≤ collegare un account di servizio.

### \*ServiceAccount\*

Questa autorizzazione di solito ti permetter√† di **accedere o modificare un Account di Servizio in alcune risorse** (ad esempio: compute.instances.setServiceAccount). Questo **potrebbe portare a un vettore di escalation dei privilegi**, ma dipender√† da ogni caso.



{% hint style="success" %}
Impara e pratica l'Hacking su AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Impara e pratica l'Hacking su GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Sostieni HackTricks</summary>

* Controlla i [**piani di abbonamento**](https://github.com/sponsors/carlospolop)!
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi trucchi di hacking inviando PR a** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos di Github.

</details>
{% endhint %}
