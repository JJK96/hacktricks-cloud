# GCP - √âl√©vation de privil√®ges de Serviceusage

{% hint style="success" %}
Apprenez et pratiquez le Hacking AWS :<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Formation HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Apprenez et pratiquez le Hacking GCP : <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Formation HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Soutenez HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop)!
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
{% endhint %}

## serviceusage

Les autorisations suivantes sont utiles pour cr√©er et voler des cl√©s API, pas celles provenant de la documentation : _Une cl√© API est une cha√Æne chiffr√©e simple qui **identifie une application sans aucun principal**. Elles sont utiles pour acc√©der √† des **donn√©es publiques de mani√®re anonyme**, et sont utilis√©es pour **associer** les requ√™tes API √† votre projet pour le quota et la **facturation**._

Par cons√©quent, avec une cl√© API, vous pouvez faire payer cette entreprise pour votre utilisation de l'API, mais vous ne pourrez pas √©lever les privil√®ges.

Pour d√©couvrir d'autres autorisations et fa√ßons de g√©n√©rer des cl√©s API, consultez :

{% content-ref url="gcp-apikeys-privesc.md" %}
[gcp-apikeys-privesc.md](gcp-apikeys-privesc.md)
{% endcontent-ref %}

### `serviceusage.apiKeys.create`

Une API non document√©e a √©t√© trouv√©e qui peut √™tre utilis√©e pour **cr√©er des cl√©s API :**

{% code overflow="wrap" %}
```bash
curl -XPOST "https://apikeys.clients6.google.com/v1/projects/<project-uniq-name>/apiKeys?access_token=$(gcloud auth print-access-token)"
```
### `serviceusage.apiKeys.list`

Un autre API non document√© a √©t√© trouv√© pour lister les cl√©s API qui ont d√©j√† √©t√© cr√©√©es (les cl√©s API apparaissent dans la r√©ponse):
```bash
curl "https://apikeys.clients6.google.com/v1/projects/<project-uniq-name>/apiKeys?access_token=$(gcloud auth print-access-token)"
```
{% endcode %}

### **`serviceusage.services.enable`** , **`serviceusage.services.use`**

Avec ces autorisations, un attaquant peut activer et utiliser de nouveaux services dans le projet. Cela pourrait permettre √† un **attaquant d'activer des services comme admin ou cloudidentity** pour essayer d'acc√©der aux informations de Workspace, ou √† d'autres services pour acc√©der √† des donn√©es int√©ressantes.&#x20;

## **R√©f√©rences**

* [https://rhinosecuritylabs.com/cloud-security/privilege-escalation-google-cloud-platform-part-2/](https://rhinosecuritylabs.com/cloud-security/privilege-escalation-google-cloud-platform-part-2/)

<details>

<summary><strong>Soutenez HackTricks et b√©n√©ficiez d'avantages !</strong></summary>

Travaillez-vous dans une **entreprise de cybers√©curit√©** ? Vous voulez voir votre **entreprise annonc√©e dans HackTricks** ? ou voulez-vous avoir acc√®s √† la **derni√®re version du PEASS ou t√©l√©charger HackTricks en PDF** ? Consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !

D√©couvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)

Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)

**Rejoignez le** [**üí¨**](https://emojipedia.org/speech-balloon/) [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/carlospolopm)**.**

**Partagez vos astuces de piratage en soumettant des PR au** [**d√©p√¥t github hacktricks**](https://github.com/carlospolop/hacktricks)\*\*\*\*

**.**

</details>
