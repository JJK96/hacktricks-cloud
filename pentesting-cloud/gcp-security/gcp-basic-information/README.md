# GCP - рдореМрд▓рд┐рдХ рдЬрд╛рдирдХрд╛рд░реА

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдФрд░ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рджреНрд╡рд╛рд░рд╛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>

## **рд╕рдВрд╕рд╛рдзрди рд╡рд░реНрдЧреАрдХрд░рдг**

Google Cloud рдПрдХ [рд╕рдВрд╕рд╛рдзрди рд╡рд░реНрдЧреАрдХрд░рдг](https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдПрдХ рдкрд╛рд░рдВрдкрд░рд┐рдХ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖, рд╕рдВ-conceptually, рд╣реИред рдпрд╣ рдПрдХ рддрд╛рд░реНрдХрд┐рдХ рдорд╛рддрд╛/рдкреБрддреНрд░ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдЙрдкрд▓рдмреНрдз рдХрд░рд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдиреАрддрд┐рдпреЛрдВ рдФрд░ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЕрдЯреИрдЪрдореЗрдВрдЯ рдкреНрд╡рд╛рдЗрдВрдЯреНрд╕ рд╣реЛрддреЗ рд╣реИрдВред

рдЙрдЪреНрдЪ рд╕реНрддрд░ рдкрд░, рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ:
```
Organization
--> Folders
--> Projects
--> Resources
```
## **рдкрд░рд┐рдпреЛрдЬрдирд╛ рдкреНрд░рд╡рд╛рд╕**

**рдХрд┐рд╕реА рд╕рдВрдЧрдарди рдХреЗ рдмрд┐рдирд╛ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ** рдЬрд┐рд╕рдореЗрдВ `roles/resourcemanager.projectCreator` рдФрд░ `roles/resourcemanager.projectMover` рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реЛрддреА рд╣реИрдВред рдпрджрд┐ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рд╕рдВрдЧрдарди рдХреЗ рдЕрдВрджрд░ рд╣реИ, рддреЛ рдкрд╣рд▓реЗ рдЙрдиреНрд╣реЗрдВ рд╕рдВрдЧрдарди рд╕реЗ рдмрд╛рд╣рд░ рд▓реЗ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП GCP рд╕рдорд░реНрдерди рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП [**рдпрд╣**](https://medium.com/google-cloud/migrating-a-project-from-one-organization-to-another-gcp-4b37a86dd9e6) рджреЗрдЦреЗрдВред

## **рд╕рдВрдЧрдарди рдиреАрддрд┐рдпрд╛рдБ**

рдЖрдкрдХреЗ рд╕рдВрдЧрдарди рдХреЗ рдмрд╛рджрд▓ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдкрд░ рдирд┐рдпрдВрддреНрд░рдг рдХреЗрдВрджреНрд░реАрдХрд░рдг рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ:

* **рдЕрдкрдиреЗ рд╕рдВрдЧрдарди рдХреЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдкрд░ рдкреНрд░рддрд┐рдмрдВрдз рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдпрдВрддреНрд░рдг рдХреЗрдВрджреНрд░реАрдХрд░рдг**ред
* **рд╡рд┐рдХрд╛рд╕ рджрд▓реЛрдВ рдХреЗ рд▓рд┐рдП рд╕реАрдорд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛** рдФрд░ рдЕрдиреБрдкрд╛рд▓рди рд╕реАрдорд╛рдУрдВ рдХреЗ рднреАрддрд░ рд░рд╣рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ред
* рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╕реНрд╡рд╛рдорд┐рдпреЛрдВ рдФрд░ рдЙрдирдХреЗ рджрд▓реЛрдВ рдХреЛ рддреЗрдЬреА рд╕реЗ рдЪрд▓рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рдирд╛ рдмрд┐рдирд╛ рдЕрдиреБрдкрд╛рд▓рди рддреЛрдбрд╝рдиреЗ рдХрд╛ рдЪрд┐рдВрддрд╛ рдХрд┐рдПред

рдпреЗ рдиреАрддрд┐рдпрд╛рдБ **рдкреВрд░реЗ рд╕рдВрдЧрдарди, рдлреЛрд▓реНрдбрд░(рдлреЛрд▓реНрдбрд░) рдпрд╛ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ** рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИрдВред рд▓рдХреНрд╖рд┐рдд рд╕рдВрд╕рд╛рдзрди рд╡рд░реНрдЧреАрдХрд░рдг рдиреЛрдб рдХреЗ рд╡рдВрд╢рдЬ **рд╕рдВрдЧрдарди рдиреАрддрд┐ рдХреЛ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдкрд╛рддреЗ рд╣реИрдВ**ред

**рд╕рдВрдЧрдарди рдиреАрддрд┐** рдХреЛ **рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП, **рдЖрдк рдПрдХ** [**рдкреНрд░рддрд┐рдмрдВрдз**](https://cloud.google.com/resource-manager/docs/organization-policy/overview#constraints) **рдЪреБрдирддреЗ рд╣реИрдВ**, рдЬреЛ рдпрд╛ рддреЛ рдПрдХ Google Cloud рд╕реЗрд╡рд╛ рдХреЗ рдЦрд┐рд▓рд╛рдл рдПрдХ рд╡рд┐рд╢реЗрд╖ рдкреНрд░рдХрд╛рд░ рдХреА рдкреНрд░рддрд┐рдмрдВрдз рд╣реИ рдпрд╛ рдПрдХ рд╕рдореВрд╣ Google Cloud рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рдЦрд┐рд▓рд╛рдлред рдЖрдк **рдЕрдкрдиреА рдЗрдЪреНрдЫрд┐рдд рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдХреЗ рд╕рд╛рде рдЙрд╕ рдкреНрд░рддрд┐рдмрдВрдз рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╣реИрдВ**ред

#### рд╕рд╛рдорд╛рдиреНрдп рдЙрдкрдпреЛрдЧ рдорд╛рдорд▓реЗ <a href="#common_use_cases" id="common_use_cases"></a>

* рдбреЛрдореЗрди рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕рдВрд╕рд╛рдзрди рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреА рд╕реАрдорд╛ рд▓рдЧрд╛рдПрдВред
* рдкрд╣реБрдВрдЪ рдФрд░ рдкрд╣реБрдВрдЪ рдкреНрд░рдмрдВрдзрди рд╕реЗрд╡рд╛ рдЦрд╛рддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реАрдорд┐рдд рдХрд░реЗрдВред
* рдирд╡реАрдирддрдо рдмрдирд╛рдП рдЧрдП рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреА рднреМрддрд┐рдХ рд╕реНрдерд╛рди рд╕реАрдорд┐рдд рдХрд░реЗрдВред
* рд╕реЗрд╡рд╛ рдЦрд╛рддрд╛ рдирд┐рд░реНрдорд╛рдг рдХреЛ рдЕрдХреНрд╖рдо рдХрд░реЗрдВ

## **IAM рднреВрдорд┐рдХрд╛рдПрдБ**

рдпреЗ AWS рдореЗрдВ IAM рдиреАрддрд┐рдпреЛрдВ рдХреА рддрд░рд╣ рд╣реЛрддреЗ рд╣реИрдВ **рд╣рд░ рднреВрдорд┐рдХрд╛ рдореЗрдВ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХрд╛ рдПрдХ рд╕реЗрдЯ рд╣реЛрддрд╛ рд╣реИ**ред

рд╣рд╛рд▓рд╛рдВрдХрд┐, AWS рдореЗрдВ, рднреВрдорд┐рдХрд╛рдУрдВ рдХрд╛ рдХреЛрдИ **рдХреЗрдВрджреНрд░реАрдХреГрдд рд░реЗрдкреЛ** рдирд╣реАрдВ рд╣реИред рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, **рд╕рдВрд╕рд╛рдзрди Y рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓реНрд╕ рдХреЛ X рдПрдХреНрд╕реЗрд╕ рднреВрдорд┐рдХрд╛рдПрдБ рджреЗрддреЗ рд╣реИрдВ**, рдФрд░ рдЬрд┐рд╕ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдХреЛ рдХрд┐рд╕реА рд╕рдВрд╕рд╛рдзрди рдХреА рдкрд╣реБрдВрдЪ рд╣реИ рдпрд╣ рдЬрд╛рдирдиреЗ рдХрд╛ рдПрдХрдорд╛рддреНрд░ рддрд░реАрдХрд╛ рд╣реИ **`get-iam-policy` рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛**ред\
рдпрд╣ рдПрдХ рд╕рдорд╕реНрдпрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдХрд┐рд╕реА рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдХреЗ рдкрд╛рд╕ рдХреМрди рд╕реА рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реИрдВ рдпрд╣ рдЬрд╛рдирдиреЗ рдХрд╛ рдПрдХрдорд╛рддреНрд░ рддрд░реАрдХрд╛ рд╣реИ рдХрд┐ рд╣рд░ рд╕рдВрд╕рд╛рдзрди рд╕реЗ рдкреВрдЫреЗрдВ, рдФрд░ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкрд╛рд╕ рд╕рднреА рд╕рдВрд╕рд╛рдзрдиреЛрдВ рд╕реЗ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреАред

IAM рдореЗрдВ **рддреАрди рдкреНрд░рдХрд╛рд░** рдХреА рднреВрдорд┐рдХрд╛рдПрдБ рд╣реЛрддреА рд╣реИрдВ:

* **рдореМрд▓рд┐рдХ/рдкреНрд░рд╛рдЪреАрди рднреВрдорд┐рдХрд╛рдПрдБ**, рдЬрд┐рд╕рдореЗрдВ **рд╕реНрд╡рд╛рдореА**, **рд╕рдВрдкрд╛рджрдХ**, рдФрд░ **рджрд░реНрд╢рдХ** рднреВрдорд┐рдХрд╛рдПрдБ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ рдЬреЛ IAM рдХреЗ рдкреНрд░рд╕реНрддрд╛рд╡рдирд╛ рдХреЗ рдкрд╣рд▓реЗ рдореМрдЬреВрдж рдереАрдВред
* **рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рднреВрдорд┐рдХрд╛рдПрдБ**, рдЬреЛ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИрдВ рдФрд░ Google Cloud рджреНрд╡рд╛рд░рд╛ рдкреНрд░рдмрдВрдзрд┐рдд рдХреА рдЬрд╛рддреА рд╣реИрдВред рдмрд╣реБрдд рд╕рд╛рд░реА рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рднреВрдорд┐рдХрд╛рдПрдБ рд╣реИрдВ, рдЖрдк **рдЙрди рд╕рднреА рдХреЛ рдЙрдирдХреА рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ** [**рдпрд╣рд╛рдБ**](https://cloud.google.com/iam/docs/understanding-roles#predefined\_roles)ред
* **рдХрд╕реНрдЯрдо рднреВрдорд┐рдХрд╛рдПрдБ**, рдЬреЛ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИрдВред

GCP рдореЗрдВ рд╣рдЬрд╛рд░реЛрдВ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реИрдВред рдПрдХ рднреВрдорд┐рдХрд╛ рдореЗрдВ рдХреНрдпрд╛ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реИрдВ рдпрд╣ рдЬрд╛рдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк [**рдпрд╣рд╛рдБ рдЕрдиреБрдорддрд┐ рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВ**](https://cloud.google.com/iam/docs/permissions-reference) рдФрд░ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреМрди рд╕реА рднреВрдорд┐рдХрд╛рдПрдБ рдЙрд╕реЗ рд╣реИрдВред

рдЖрдк рднреА [**рдпрд╣рд╛рдБ рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рднреВрдорд┐рдХрд╛рдПрдБ рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВ**](https://cloud.google.com/iam/docs/understanding-roles#product\_specific\_documentation) **рдЬреЛ рдкреНрд░рддреНрдпреЗрдХ рдЙрддреНрдкрд╛рдж рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХреА рдЬрд╛рддреА рд╣реИрдВред** рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдХреБрдЫ **рднреВрдорд┐рдХрд╛рдПрдБ** рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдирд╣реАрдВ рдЬреЛрдбрд╝реА рдЬрд╛ рд╕рдХрддреА рд╣реИрдВ рдФрд░ **рдХреЗрд╡рд▓ SAs рдХреЛ рд╣реЛ рд╕рдХрддреА рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдХреБрдЫ рдЕрдиреБрдорддрд┐рдпрд╛рдБ** рдЬреЛ рд╡реЗ рд╢рд╛рдорд┐рд▓ рдХрд░рддреА рд╣реИрдВред\
рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ **рдЕрдиреБрдорддрд┐рдпрд╛рдБ** рдХреЗрд╡рд▓ **рдЙрд╕ рд╕рдВрдмрдВрдзрд┐рдд рд╕реЗрд╡рд╛ рдХреЛ рдЬреЛрдбрд╝реА рдЧрдИ рд╣реИрдВ** рддрдм рд╣реА **рдкреНрд░рднрд╛рд╡реА рд╣реЛрдВрдЧреА**ред

рдпрд╛ рджреЗрдЦреЗрдВ рдХрд┐ **рдХреНрдпрд╛ рдПрдХ** [**рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдЕрдиреБрдорддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреА рд╣реИ рдХрд╕реНрдЯрдо рднреВрдорд┐рдХрд╛ рдпрд╣рд╛рдБ**](https://cloud.google.com/iam/docs/custom-roles-permissions-support)**ред**
## рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ <a href="#default-credentials" id="default-credentials"></a>

**GCP рдХрдВрд╕реЛрд▓** рдореЗрдВ **рдХреЛрдИ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдпрд╛ рд╕рдореВрд╣** рдкреНрд░рдмрдВрдзрди рдирд╣реАрдВ рд╣реИ, рдпрд╣ **Google Workspace** рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЖрдк Google Workspace рдореЗрдВ рдПрдХ рд╡рд┐рднрд┐рдиреНрди рдкрд╣рдЪрд╛рди рдкреНрд░рджрд╛рддрд╛ рдХреЛ рд╕рдордХрд╛рд▓реАрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдЖрдк [**https://admin.google.com**](https://admin.google.com/) рдореЗрдВ Workspaces **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдФрд░ рд╕рдореВрд╣реЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВред**

**MFA** рдХреЛ Workspaces рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдкрд░ **рдмрд╛рдзреНрдп** рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рдПрдХ **рд╣рдорд▓рд╛рд╡рд░** рдПрдХ рдЯреЛрдХрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ GCP рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддрд╛ рд╣реИ **cli рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬрд┐рд╕реЗ MFA рджреНрд╡рд╛рд░рд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛** (рдпрд╣ MFA рджреНрд╡рд╛рд░рд╛ рдХреЗрд╡рд▓ рддрдм рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реЛрдЧрд╛ рдЬрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реЙрдЧрд┐рди рдХрд░рддрд╛ рд╣реИ: `gcloud auth login`).

## рд╕рдореВрд╣

рдЬрдм рдПрдХ рд╕рдВрдЧрдарди рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ рдХрдИ рд╕рдореВрд╣реЛрдВ рдХрд╛ **рдордЬрдмреВрддреА рд╕реЗ рд╕реБрдЭрд╛рд╡ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдмрдирд╛рдпрд╛ рдЬрд╛рдПред** рдпрджрд┐ рдЖрдк рдЗрдирдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдЖрдкрдиреЗ рд╕рдВрдЧрдарди рдХрд╛ рд╕рднреА рдпрд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣рд┐рд╕реНрд╕рд╛ рдХреЛ рдХреНрд╖рддрд┐ рдкрд╣реБрдВрдЪрд╛ рд╕рдХрддрд╛ рд╣реИ:

<table data-header-hidden><thead><tr><th width="299.3076923076923"></th><th></th></tr></thead><tbody><tr><td><strong>рд╕рдореВрд╣</strong></td><td><strong>рдХрд╛рд░реНрдп</strong></td></tr><tr><td><strong><code>gcp-organization-admins</code></strong><br><em>(рд╕реВрдЪреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рдореВрд╣ рдпрд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЦрд╛рддреЗ)</em></td><td>рд╕рдВрдЧрдарди рдХреЗ рдХрд┐рд╕реА рд╕рдВрд╕рд╛рдзрди рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рдирд╛ред рдЗрд╕ рднреВрдорд┐рдХрд╛ рдХреЛ рд╕рд╛рд╡рдзрд╛рдиреАрдкреВрд░реНрд╡рдХ рдирд┐рдпреБрдХреНрдд рдХрд░реЗрдВ; рд╕рдВрдЧрдарди рдкреНрд░рд╢рд╛рд╕рдХреЛрдВ рдХреЛ рдЖрдкрдХреЗ рд╕рднреА Google Cloud рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рд╣реЛрддреА рд╣реИред рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдХрд╛рд░реНрдп рдЕрддреНрдпрдзрд┐рдХ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░рд┐рдд рд╣реИ, рдЗрд╕реЗ рд╕рдореВрд╣ рдмрдирд╛рдиреЗ рдХреА рдмрдЬрд╛рдп рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЦрд╛рддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдмрдЬрд╛рдп рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред</td></tr><tr><td><strong><code>gcp-network-admins</code></strong><br><em>(рд╕реВрдЪреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ)</em></td><td>рдиреЗрдЯрд╡рд░реНрдХ, рд╕рдмрдиреЗрдЯ, рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдирд┐рдпрдо рдФрд░ рдХреНрд▓рд╛рдЙрдб рд░рд╛рдЙрдЯрд░, рдХреНрд▓рд╛рдЙрдб рд╡реАрдкреАрдПрди, рдФрд░ рдХреНрд▓рд╛рдЙрдб рд▓реЛрдб рдмреИрд▓реЗрдВрд╕рд░ рдЬреИрд╕реЗ рдиреЗрдЯрд╡рд░реНрдХ рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдмрдирд╛рдирд╛ред</td></tr><tr><td><strong><code>gcp-billing-admins</code></strong><br><em>(рд╕реВрдЪреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ)</em></td><td>рдмрд┐рд▓рд┐рдВрдЧ рдЦрд╛рддреЛрдВ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдФрд░ рдЙрдирдХреЗ рдЙрдкрдпреЛрдЧ рдХрд╛ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХрд░рдирд╛ред</td></tr><tr><td><strong><code>gcp-developers</code></strong><br><em>(рд╕реВрдЪреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ)</em></td><td>рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХрд╛ рдбрд┐рдЬрд╝рд╛рдЗрди, рдХреЛрдбрд┐рдВрдЧ, рдФрд░ рдкрд░реАрдХреНрд╖рдг рдХрд░рдирд╛ред</td></tr><tr><td><strong><code>gcp-security-admins</code></strong><br></td><td>рд╕рдВрдЧрдарди рдХреЗ рд▓рд┐рдП рд╕реБрд░рдХреНрд╖рд╛ рдиреАрддрд┐рдпреЛрдВ рдХрд╛ рд╕реНрдерд╛рдкрдирд╛ рдФрд░ рдкреНрд░рдмрдВрдзрди рдХрд░рдирд╛, рдЬрд┐рд╕рдореЗрдВ рдкрд╣реБрдВрдЪ рдкреНрд░рдмрдВрдзрди рдФрд░ <a href="https://cloud.google.com/resource-manager/docs/organization-policy/org-policy-constraints">рд╕рдВрдЧрдарди рдирд┐рдпрдо рдиреАрддрд┐рдпрд╛рдБ</a> рд╢рд╛рдорд┐рд▓ рд╣реИрдВред рдЕрдкрдиреЗ Google Cloud рд╕реБрд░рдХреНрд╖рд╛ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП <a href="https://cloud.google.com/architecture/security-foundations/authentication-authorization#users_and_groups">Google Cloud рд╕реБрд░рдХреНрд╖рд╛ рдмреБрдирд┐рдпрд╛рджреА рдЧрд╛рдЗрдб</a> рджреЗрдЦреЗрдВред</td></tr><tr><td><strong><code>gcp-devops</code></strong></td><td>рдирд┐рд░рдВрддрд░ рд╕рдордХрд╛рд▓реАрдиреАрдХрд░рдг рдФрд░ рд╡рд┐рддрд░рдг, рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ, рдФрд░ рд╕рд┐рд╕реНрдЯрдо рдкреНрд░реЛрд╡рд┐рдЬрдирд┐рдВрдЧ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЕрдВрдд рд╕реЗ рдЕрдВрдд рдирд▓рд┐рдХрд╛рдПрдВ рдмрдирд╛рдирд╛ рдпрд╛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдирд╛ред</td></tr><tr><td><strong><code>gcp-logging-admins</code></strong></td><td></td></tr><tr><td><strong><code>gcp-logging-viewers</code></strong></td><td></td></tr><tr><td><strong><code>gcp-monitor-admins</code></strong></td><td></td></tr><tr><td><strong><code>gcp-billing-viewer</code></strong><br><em>(рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдирд╣реАрдВ)</em></td><td>рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдкрд░ рдЦрд░реНрдЪ рдХрд╛ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХрд░рдирд╛ред рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рд╕рджрд╕реНрдп рд╡рд┐рддреНрдд рдЯреАрдо рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реЛрддреЗ рд╣реИрдВред</td></tr><tr><td><strong><code>gcp-platform-viewer</code></strong><br><em>(рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдирд╣реАрдВ)</em></td><td>Google Cloud рд╕рдВрдЧрдарди рдХреЗ рд╕рднреА рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдкрд░ рд╕рдВрд╕рд╛рдзрди рдЬрд╛рдирдХрд╛рд░реА рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░рдирд╛ред</td></tr><tr><td><strong><code>gcp-security-reviewer</code></strong><br><em>(рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдирд╣реАрдВ)</em></td><td>рдХреНрд▓рд╛рдЙрдб рд╕реБрд░рдХреНрд╖рд╛ рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░рдирд╛ред</td></tr><tr><td><strong><code>gcp-network-viewer</code></strong><br><em>(рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдирд╣реАрдВ)</em></td><td>рдиреЗрдЯрд╡рд░реНрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░рдирд╛ред</td></tr><tr><td><strong><code>grp-gcp-audit-viewer</code></strong><br><em>(рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдирд╣реАрдВ)</em></td><td>рдСрдбрд┐рдЯ рд▓реЙрдЧ рджреЗрдЦрдирд╛ред</td></tr><tr><td><strong><code>gcp-scc-admin</code></strong><br><em>(рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдирд╣реАрдВ)</em></td><td>рд╕реБрд░рдХреНрд╖рд╛ рдХрдорд╛рдВрдб рд╕реЗрдВрдЯрд░ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдирд╛ред</td></tr><tr><td><strong><code>gcp-secrets-admin</code></strong><br><em>(рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдирд╣реАрдВ)</em></td><td>рд╕реАрдХреНрд░реЗрдЯ рдореИрдиреЗрдЬрд░ рдореЗрдВ рд╕реАрдХреНрд░реЗрдЯреНрд╕ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдирд╛ред</td></tr></tbody></table>

## **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкрд╛рд╕рд╡рд░реНрдб рдиреАрддрд┐**

* рдордЬрдмреВрдд рдкрд╛рд╕рд╡рд░реНрдб рд▓рд╛рдЧреВ рдХрд░реЗрдВ
* 8 рд╕реЗ 100 рд╡рд░реНрдг
* рдХреЛрдИ рдкреБрдирдГ рдЙрдкрдпреЛрдЧ рди рдХрд░реЗрдВ
* рдХреЛрдИ рд╕рдорд╛рдкреНрддрд┐ рдирд╣реАрдВ
* рдпрджрд┐ рд▓реЛрдЧ рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдкреНрд░рджрд╛рддрд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ Workspace рддрдХ рдкрд╣реБрдВрдЪ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдпреЗ рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдБ рд▓рд╛рдЧреВ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИрдВред

<figure><img src="../../../.gitbook/assets/image (20).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../.gitbook/assets/image (22).png" alt=""><figcaption></figcaption></figure>

## **рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ**

рдпреЗ рд╡реЗ рдореБрдЦреНрдп рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ **рд╕рдВрд╕рд╛рдзрди** **рдЬреБрдбрд╝рд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ** рдФрд░ GCP рдХреЗ рд╕рд╛рде рдЖрд╕рд╛рдиреА рд╕реЗ рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рдХреЗ **рдСрде рдЯреЛрдХрди** рддрдХ рдкрд╣реБрдВрдЪрдирд╛ рд╕рдВрднрд╡ рд╣реИ рдЬреЛ рдПрдХ рд╡реАрдПрдо рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реЛрддрд╛ рд╣реИ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдореЗрдВред\
рдЬрдм рдЖрдк **IAM рдФрд░ рдкрд╣реБрдВрдЪ рджрд╛рдпрд░реЗ** рджреЛрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдХреБрдЫ **рд╕рдВрдШрд░реНрд╖** рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЗ рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рдореЗрдВ `compute.instanceAdmin` рдЖрдИрдПрдПрдо рднреВрдорд┐рдХрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ рд▓реЗрдХрд┐рди рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдЙрд▓реНрд▓рдВрдШрд┐рдд рдХрд┐рдП рдЧрдП рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдореЗрдВ `https://www.googleapis.com/auth/compute.readonly` рдХреА рд╕реАрдорд╛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХреА рдЧрдИ рд╣реЛред рдпрд╣ рдЖрдкрдХреЛ рдЖрдкрдХреЗ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдирд┐рдпреБрдХреНрдд рдХрд┐рдП рдЧрдП OAuth рдЯреЛрдХрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рд╕реА рднреА рдкрд░рд┐рд╡рд░реНрддрди рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХреЗрдЧрд╛ред

рдпрд╣ **AWS рд╕реЗ IAM рднреВрдорд┐рдХрд╛рдУрдВ** рдХреЗ рд╕рдорд╛рди рд╣реИред рд▓реЗрдХрд┐рди AWS рдореЗрдВ рдЬреИрд╕реЗ рдирд╣реАрдВ, **рдХреЛрдИ рднреА** рд╕реЗрд╡рд╛ рдЦрд╛рддрд╛ **рдХрд┐рд╕реА рднреА рд╕реЗрд╡рд╛ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ** (рдпрд╣ рдиреАрддрд┐ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрд╕реЗ рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ)ред

рдЖрдкрдХреЛ рдХрдИ рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рдорд┐рд▓реЗрдВрдЧреЗ рдЬреЛ рдЖрдкрдХреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ **GCP рдХрд╛ рдЙрдкрдпреЛрдЧ рд╢реБрд░реВ рдХрд░рдиреЗ рдкрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди** рд╣реЛрддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ:
```
PROJECT_NUMBER-compute@developer.gserviceaccount.com
PROJECT_ID@appspot.gserviceaccount.com
```
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рднреА рд╕рдВрднрд╡ рд╣реИ рдХрд┐ рдЖрдк **рдХрд╕реНрдЯрдо рд╕реЗрд╡рд╛ рдЕрдХрд╛рдЙрдВрдЯреНрд╕** рдмрдирд╛ рд╕рдХреЗрдВ рдФрд░ рд╕рдВрд▓рдЧреНрди рдХрд░ рд╕рдХреЗрдВ, рдЬреЛ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдВрдЧреЗ:
```
SERVICE_ACCOUNT_NAME@PROJECT_NAME.iam.gserviceaccount.com
```
### **рдкрд╣реБрдВрдЪ рджрд╛рдпрд░реЗ**

рдкрд╣реБрдВрдЪ рджрд╛рдпрд░реЗ **OAuth рдЯреЛрдХрди** рдХреЗ рд╕рд╛рде **рдЬреБрдбрд╝реЗ рд╣реЛрддреЗ рд╣реИрдВ** рддрд╛рдХрд┐ GCP API рдПрдВрдбрдкреЙрдЗрдВрдЯ рддрдХ рдкрд╣реБрдВрдЪ рдорд┐рд▓ рд╕рдХреЗред рдпреЗ **OAuth рдЯреЛрдХрди рдХреА рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВ**ред
рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЕрдЧрд░ рдХрд┐рд╕реА рдЯреЛрдХрди рдХрд╛ рдорд╛рд▓рд┐рдХ рдХрд┐рд╕реА рд╕рдВрд╕рд╛рдзрди рдХрд╛ рд╣реИ рд▓реЗрдХрд┐рди рдЙрд╕ рдЯреЛрдХрди рдХреЗ рдкрд╣реБрдВрдЪ рджрд╛рдпрд░реЗ рдореЗрдВ рдЙрд╕ рд╕рдВрд╕рд╛рдзрди рддрдХ рдкрд╣реБрдВрдЪ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЙрд╕ рдЯреЛрдХрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрди рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХрд╛ (рдЕрдк)рджреБрд░реБрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ред

Google рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ [рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд░рддрд╛ рд╣реИ](https://cloud.google.com/compute/docs/access/service-accounts#service\_account\_permissions) рдХрд┐ **рдкрд╣реБрдВрдЪ рджрд╛рдпрд░реЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд┐рдпрд╛ рдЬрд╛рдП рдФрд░ рдкреВрд░реА рддрд░рд╣ рд╕реЗ IAM рдкрд░ рдирд┐рд░реНрднрд░ рд░рд╣рд╛ рдЬрд╛рдП**ред рд╡реЗрдм рдкреНрд░рдмрдВрдзрди рдкреЛрд░реНрдЯрд▓ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЗрд╕реЗ рдкреНрд░рд╡рд░реНрддрд┐рдд рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдкрд╣реБрдВрдЪ рджрд╛рдпрд░реЗ рдХреЛ рдЕрднреНрдпрд╛рд╕рд╛рддреНрдордХ рд░реВрдк рд╕реЗ рдХрд╕реНрдЯрдо рд╕реЗрд╡рд╛ рдЦрд╛рддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрдВрд╕реНрдЯреЗрдВрд╕реЗрд╕ рдкрд░ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдЖрдк рдпрд╣ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ **рдХреМрди-рдХреМрди рд╕реЗ рджрд╛рдпрд░реЗ** **рдирд┐рд░реНрдзрд╛рд░рд┐рдд** рд╣реИрдВ **рдХреНрд╡реЗрд░реА рдХрд░рдХреЗ:**
```bash
curl 'https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=<access_token>'

{
"issued_to": "223044615559.apps.googleusercontent.com",
"audience": "223044615559.apps.googleusercontent.com",
"user_id": "139746512919298469201",
"scope": "openid https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/appengine.admin https://www.googleapis.com/auth/sqlservice.login https://www.googleapis.com/auth/compute https://www.googleapis.com/auth/accounts.reauth",
"expires_in": 2253,
"email": "username@testing.com",
"verified_email": true,
"access_type": "offline"
}
```
{% endcode %}

рдкрд┐рдЫрд▓реЗ **рд╕реНрдХреЛрдк** рд╡реЗ рд╣реИрдВ рдЬреЛ **`gcloud`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП **рдбрд┐рдлрд╝реЙрд▓реНрдЯ** рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рд╣реЛрддреЗ рд╣реИрдВред рдпрд╣ рдЗрд╕рд▓рд┐рдП рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЬрдм рдЖрдк **`gcloud`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдЖрдк рдкрд╣рд▓реЗ рдПрдХ OAuth рдЯреЛрдХрди рдмрдирд╛рддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВред

рдЙрдирдореЗрдВ рд╕реЗ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕реНрдХреЛрдк **`cloud-platform`** рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ **GCP рдореЗрдВ рдХрд┐рд╕реА рднреА рд╕реЗрд╡рд╛ рддрдХ рдкрд╣реБрдВрдЪрдирд╛ рд╕рдВрднрд╡ рд╣реИ**ред

рдЖрдк рдпрд╣рд╛рдБ рд╕реЗ [**рд╕рднреА рд╕рдВрднрд╛рд╡рд┐рдд рд╕реНрдХреЛрдк рдХреА рд╕реВрдЪреА рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ**](https://developers.google.com/identity/protocols/googlescopes)**ред**

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ **`gcloud`** рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рд╣реИрдВ, рддреЛ рдЕрдиреНрдп рд╕реНрдХреЛрдк рдХреЗ рд╕рд╛рде рдПрдХ рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ, рдХреБрдЫ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд░рдХреЗ:
```bash
# Maybe you can get a user token with other scopes changing the scopes array from ~/.config/gcloud/credentials.db

# Set new scopes for SDKs credentials
gcloud auth application-default login --scopes=https://www.googleapis.com/auth/userinfo.email,https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/sqlservice.login,https://www.googleapis.com/auth/appengine.admin,https://www.googleapis.com/auth/compute,https://www.googleapis.com/auth/accounts.reauth,https://www.googleapis.com/auth/admin.directory.user,https://www.googleapis.com/auth/admin.directory.group,https://www.googleapis.com/auth/admin.directory.domain,https://www.googleapis.com/auth/admin.directory.user

# Print new token
gcloud auth application-default print-access-token

# To use this token with some API you might need to use curl to indicate the project header with --header "X-Goog-User-Project: <project-name>"
```
{% endcode %}

## **Terraform IAM рдиреАрддрд┐рдпрд╛рдБ, рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рдФрд░ рд╕рджрд╕реНрдпрддрд╛рдПрдБ**

рдЬреИрд╕рд╛ рдХрд┐ рдЯреЗрд░рд╛реЮреЙрд░реНрдо рдиреЗ [https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/google\_project\_iam](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/google\_project\_iam) рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рд╣реИ, GCP рдХреЗ рд╕рд╛рде рдЯреЗрд░рд╛реЮреЙрд░реНрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдХрд┐рд╕реА рд╕рдВрд╕рд╛рдзрди рдкрд░ рдкреНрд░рдзрд╛рди рдПрдХреНрд╕реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЗ рд╣реИрдВ:

* **рд╕рджрд╕реНрдпрддрд╛рдПрдБ**: рдЖрдк **рдкреНрд░рдзрд╛рдиреЛрдВ рдХреЛ рдмрд┐рдирд╛ рдкреНрд░рддрд┐рдмрдВрдз рдХреЗ рднреВрдорд┐рдХрд╛рдУрдВ рдХреЗ рд╕рджрд╕реНрдп рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ**ред рдЖрдк рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдПрдХ рднреВрдорд┐рдХрд╛ рдХреЗ рд╕рджрд╕реНрдп рдХреЗ рд░реВрдк рдореЗрдВ рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдлрд┐рд░ рдПрдХ рд╕рдорд╛рди рднреВрдорд┐рдХрд╛ рдХреЗ рд╕рджрд╕реНрдп рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рд╕рдореВрд╣ рдХреЛ рднреА рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрди рдкреНрд░рдзрд╛рдиреЛрдВ (рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдФрд░ рд╕рдореВрд╣) рдХреЛ рдЕрдиреНрдп рднреВрдорд┐рдХрд╛рдУрдВ рдХреЗ рд╕рджрд╕реНрдп рдХреЗ рд░реВрдк рдореЗрдВ рднреА рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
* **рдмрд╛рдЗрдВрдбрд┐рдВрдЧ**: рдХрдИ **рдкреНрд░рдзрд╛рди рдПрдХ рднреВрдорд┐рдХрд╛ рд╕реЗ рдмрд╛рдЗрдВрдб рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ**ред рд╡реЗ **рдкреНрд░рдзрд╛рди рдЕрдм рднреА рдмрд╛рдЗрдВрдб рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдЕрдиреНрдп рднреВрдорд┐рдХрд╛рдУрдВ рдХреЗ рд╕рджрд╕реНрдп рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ**ред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЕрдЧрд░ рдПрдХ рдкреНрд░рдзрд╛рди рдЬреЛ рднреВрдорд┐рдХрд╛ рд╕реЗ рдмрд╛рдЗрдВрдб рдирд╣реАрдВ рд╣реИ, рдЙрд╕реЗ **рдмрд╛рдЗрдВрдб рдХреА рдЧрдИ рднреВрдорд┐рдХрд╛ рдХреЗ рд╕рджрд╕реНрдп рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**, рддреЛ рдЕрдЧрд▓реА рдмрд╛рд░ рдЬрдм **рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рд▓рд╛рдЧреВ рдХреА рдЬрд╛рддреА рд╣реИ, рд╕рджрд╕реНрдпрддрд╛ рдЧрд╛рдпрдм рд╣реЛ рдЬрд╛рдПрдЧреА**ред
* **рдиреАрддрд┐рдпрд╛рдБ**: рдПрдХ рдиреАрддрд┐ **рдЖрдзрд┐рдХрд╛рд░рд┐рдХ** рд╣реЛрддреА рд╣реИ, рдпрд╣ рднреВрдорд┐рдХрд╛рдПрдБ рдФрд░ рдкреНрд░рдзрд╛рдиреЛрдВ рдХреЛ рджрд░реНрд╢рд╛рддреА рд╣реИ рдФрд░ рдлрд┐рд░, **рдЙрди рдкреНрд░рдзрд╛рдиреЛрдВ рдХреЛ рдЕрдзрд┐рдХ рднреВрдорд┐рдХрд╛рдПрдБ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреА рд╣реИрдВ рдФрд░ рдЙрди рднреВрдорд┐рдХрд╛рдУрдВ рдХреЛ рдЕрдзрд┐рдХ рдкреНрд░рдзрд╛рди рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ** рдЬрдм рддрдХ рдЙрд╕ рдиреАрддрд┐ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ (рдпрд╣рд╛рдБ рддрдХ рдХрд┐ рдЕрдиреНрдп рдиреАрддрд┐рдпреЛрдВ, рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рдпрд╛ рд╕рджрд╕реНрдпрддрд╛рдУрдВ рдореЗрдВ рднреА рдирд╣реАрдВ)ред рдЗрд╕рд▓рд┐рдП, рдЬрдм рдПрдХ рднреВрдорд┐рдХрд╛ рдпрд╛ рдкреНрд░рдзрд╛рди рдиреАрддрд┐ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЙрд╕рдХреА рд╕рднреА рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╕реЗ **рдЙрд╕ рдиреАрддрд┐ рджреНрд╡рд╛рд░рд╛ рд╕реАрдорд┐рдд рд╣реЛрддреА рд╣реИрдВ**ред рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ, рдпрд╣ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рдЗрд╕реЗ рдЙрдореНрдореАрджрд╡рд╛рд░ рдХреЛ рдиреАрддрд┐ рдпрд╛ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдЕрдиреБрджрд╛рди рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рдХрд▓реНрдк рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ (рдЬреИрд╕реЗ рдПрдХ рдирдпрд╛ рдкреНрд░рдзрд╛рди рдмрдирд╛рдирд╛ рдФрд░ рдЙрд╕реЗ рдПрдХ рдирдпреА рднреВрдорд┐рдХрд╛ рдмрд╛рдЗрдВрдб рдХрд░рдирд╛)ред

## рд╕рдВрджрд░реНрдн

* [https://about.gitlab.com/blog/2020/02/12/plundering-gcp-escalating-privileges-in-google-cloud-platform/](https://about.gitlab.com/blog/2020/02/12/plundering-gcp-escalating-privileges-in-google-cloud-platform/)
* [https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy](https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy)

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks swag рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**](https://peass.creator-spring.com)
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣ рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдХреЛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗред

</details>
