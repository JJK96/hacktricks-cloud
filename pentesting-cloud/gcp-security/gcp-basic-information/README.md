# GCP - Βασικές Πληροφορίες

<details>

<summary><strong>Μάθετε το χάκινγκ στο AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Ειδικός Red Team του HackTricks στο AWS)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Αν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε την [**Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια στο GitHub.

</details>

## **Ιεραρχία Πόρων**

Το Google Cloud χρησιμοποιεί μια [Ιεραρχία Πόρων](https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy) που είναι παρόμοια, συλλογικά, με αυτήν ενός παραδοσιακού συστήματος αρχείων. Αυτό παρέχει ένα λογικό ροή γονέα/παιδιού με συγκεκριμένα σημεία σύνδεσης για πολιτικές και δικαιώματα πρόσβασης.

Σε υψηλό επίπεδο, φαίνεται έτσι:
```
Organization
--> Folders
--> Projects
--> Resources
```
Ένα εικονικό μηχάνημα (που ονομάζεται Compute Instance) είναι ένας πόρος. Ένας πόρος βρίσκεται σε ένα έργο, πιθανότατα δίπλα σε άλλα Compute Instances, κάδους αποθήκευσης κ.λπ.

<figure><img src="../../../.gitbook/assets/image (1) (1) (1).png" alt=""><figcaption><p><a href="https://cloud.google.com/static/resource-manager/img/cloud-hierarchy.svg">https://cloud.google.com/static/resource-manager/img/cloud-hierarchy.svg</a></p></figcaption></figure>

## **Μεταφορά Έργων**

Είναι δυνατή η **μεταφορά ενός έργου χωρίς κάποια οργάνωση** σε μια οργάνωση με τις άδειες `roles/resourcemanager.projectCreator` και `roles/resourcemanager.projectMover`. Αν το έργο βρίσκεται μέσα σε άλλη οργάνωση, απαιτείται επικοινωνία με την υποστήριξη του GCP για να **τα μετακινήσει έξω από την οργάνωση πρώτα**. Για περισσότερες πληροφορίες ελέγξτε [**αυτό**](https://medium.com/google-cloud/migrating-a-project-from-one-organization-to-another-gcp-4b37a86dd9e6).

## **Πολιτικές Οργάνωσης**

Επιτρέπουν τον κεντρικό έλεγχο των πόρων cloud της οργάνωσής σας:

* Κεντρικός έλεγχος για **ρυθμίσεις περιορισμών** σχετικά με τον τρόπο χρήσης των πόρων της οργάνωσής σας.
* Ορισμός και θέσπιση **οδηγών** για τις ομάδες ανάπτυξης σας ώστε να παραμείνουν εντός των ορίων συμμόρφωσης.
* Βοηθούν τους ιδιοκτήτες έργων και τις ομάδες τους να κινηθούν γρήγορα χωρίς φόβο για παραβίαση της συμμόρφωσης.

Αυτές οι πολιτικές μπορούν να δημιουργηθούν για να **επηρεάσουν την πλήρη οργάνωση, φακέλους ή έργα**. Οι απόγονοι του κατευθυνόμενου κόμβου της ιεραρχίας πόρων **κληρονομούν την πολιτική της οργάνωσης**.

Για να **ορίσετε** μια πολιτική οργάνωσης, **επιλέγετε ένα** [**περιορισμό**](https://cloud.google.com/resource-manager/docs/organization-policy/overview#constraints), ο οποίος είναι ένα συγκεκριμένο είδος περιορισμού είτε εναντίον ενός υπηρεσίας Google Cloud είτε εναντίον μιας ομάδας υπηρεσιών Google Cloud. Έπειτα **ρυθμίζετε αυτόν τον περιορισμό με τους επιθυμητούς περιορισμούς**.

<figure><img src="../../../.gitbook/assets/image (217).png" alt=""><figcaption><p><a href="https://cloud.google.com/resource-manager/img/org-policy-concepts.svg">https://cloud.google.com/resource-manager/img/org-policy-concepts.svg</a></p></figcaption></figure>

#### Συνηθισμένες περιπτώσεις χρήσης <a href="#common_use_cases" id="common_use_cases"></a>

* Περιορισμός κοινοποίησης πόρων με βάση τον τομέα.
* Περιορισμός της χρήσης των λογαριασμών υπηρεσιών ταυτοποίησης και πρόσβασης.
* Περιορισμός της φυσικής τοποθεσίας των νεοδημιουργημένων πόρων.
* Απενεργοποίηση δημιουργίας λογαριασμών υπηρεσιών.

<figure><img src="../../../.gitbook/assets/image (172).png" alt=""><figcaption></figcaption></figure>

Υπάρχουν πολλοί άλλοι περιορισμοί που σας δίνουν λεπτομερή έλεγχο των πόρων της οργάνωσής σας. Για **περισσότερες πληροφορίες, δείτε τη** [**λίστα όλων των περιορισμών υπηρεσιών Πολιτικής Οργάνωσης**](https://cloud.google.com/resource-manager/docs/organization-policy/org-policy-constraints)**.**

### **Προεπιλεγμένες Πολιτικές Οργάνωσης**

<details>

<summary>Αυτές είναι οι πολιτικές που θα προσθέσει η Google από προεπιλογή κατά την ρύθμιση της οργάνωσής σας στο GCP:</summary>

**Πολιτικές Διαχείρισης Πρόσβασης**

* **Περιορισμός επαφών με περιορισμένο τομέα:** Αποτρέπει την προσθήκη χρηστών στις Βασικές Επαφές έξω από τους καθορισμένους τομείς σας. Αυτό περιορίζει τις Βασικές Επαφές ώστε να επιτρέπουν μόνο διαχειριζόμενες ταυτότητες χρηστών στους επιλεγμένους τομείς σας να λαμβάνουν ειδοποιήσεις πλατφόρμας.
* **Περιορισμός κοινοποίησης με περιορισμένο τομέα:** Αποτρέπει την προσθήκη χρηστών σε πολιτικές IAM έξω από τους καθορισμένους τομείς σας. Αυτό περιορίζει τις πολιτικές IAM ώστε να επιτρέπουν μόνο διαχειριζόμενες ταυτότητες χρηστών στους επιλεγμένους τομείς σας να έχουν πρόσβαση σε πόρους μέσα σε αυτήν την οργάνωση.
* **Αποτροπή δημόσιας πρόσβασης:** Αποτρέπει τα κάδοι αποθήκευσης Cloud Storage από το να εκτίθενται στο κοινό. Αυτό εξασφαλίζει ότι ένας προγραμματιστής δεν μπορεί να ρυθμίσει τους κάδους αποθήκευσης Cloud Storage να έχουν μη εξουσιοδοτημένη πρόσβαση στο διαδίκτυο.
* **Ομοιόμορφη πρόσβαση σε επίπεδο κάδου:** Αποτρέπει τις λίστες ελέγχου πρόσβασης σε επίπεδο αντικειμένου (ACLs) στους κάδους αποθήκευσης Cloud Storage. Αυτό απλοποιεί τη διαχείριση της πρόσβασης εφαρμόζοντας συνεπώς πολιτικές IAM σε όλα τα αντικείμενα στους κάδους αποθήκευσης Cloud Storage.
* **Απαιτεί σύνδεση OS:** Τα VM που δημιουργούνται σε νέα έργα θα έχουν ενεργοποιημένη τη σύνδεση OS. Αυτό σας επιτρέπει να διαχειρίζεστε την πρόσβαση SSH στα παραδείγματά σας χρησιμοποιώντας το IAM χωρίς την ανάγκη δημιουργίας και διαχείρισης μεμονωμένων κλειδιών SSH.

**Επιπλέον πολιτικές ασφαλείας για λογαριασμούς υπηρεσιών**

* **Απενεργοποίηση αυτόματων χορηγήσεων IAM**: Αποτρέπει τους προεπιλεγμένους λογαριασμούς υπηρεσιών App Engine και Compute Engine από το να χορηγούν αυτόματα τον ρόλο Editor IAM σε ένα έργο κατά τη δημιουργία. Αυτό εξασφαλίζει ότι οι λογαριασμοί υπηρεσιών δεν λαμβάνουν υπερβολικά επιτρεπτικούς ρόλους IAM κατά τη δημιουργία.
* **Απενεργοποίηση δημιουργίας κλειδιών λογαριασμών υπηρεσιών**: Αποτρέπει τη δημιουργία δημόσιων κλειδιών λογαριασμών υπηρεσιών. Αυτό βοηθά στη μείωση του κινδύνου εκθέσεως μόνιμων διαπιστευτηρίων.
* **Απενεργοποίηση μεταφόρτωσης κλειδιών λογαριασμών υπηρεσιών**: Αποτρέπει τη μεταφόρτωση δημόσιων κλειδιών λογαριασμών υπηρεσιών. Αυτό βοηθά στη μείωση του κινδύνου διαρροής ή επαναχρησιμοποίησης υλικού κλειδιών.

**Πολιτικές διαμόρφωσης ασφαλούς δικτύου VPC**

* **Ορισμός επιτρεπόμενων εξωτερικών IP για παραδείγματα VM**: Αποτρέπει τη δημιουργία παραδειγμάτων Compute με δημόσια IP, τα
## Χρήστες <a href="#default-credentials" id="default-credentials"></a>

Στο **GCP console** δεν υπάρχει διαχείριση **Χρηστών ή Ομάδων**, αυτό γίνεται στο **Google Workspace**. Ωστόσο, μπορείτε να συγχρονίσετε έναν διαφορετικό πάροχο ταυτότητας στο Google Workspace.

Μπορείτε να έχετε πρόσβαση στους **χρήστες και τις ομάδες του Workspace** στο [**https://admin.google.com**](https://admin.google.com/).

Το **MFA** μπορεί να είναι **υποχρεωτικό** για τους χρήστες του Workspace, ωστόσο, ένας **επιτιθέμενος** θα μπορούσε να χρησιμοποιήσει ένα τοκέν για πρόσβαση στο GCP **μέσω της γραμμής εντολών χωρίς προστασία MFA** (θα προστατεύεται από MFA μόνο όταν ο χρήστης συνδεθεί για να το δημιουργήσει: `gcloud auth login`).

## Ομάδες

Όταν δημιουργείται μια οργάνωση, συνιστάται **ιδιαίτερα** η δημιουργία ορισμένων ομάδων. Εάν διαχειρίζεστε οποιαδήποτε από αυτές, ενδέχεται να έχετε διαρρεύσει όλη ή σημαντικό μέρος της οργάνωσης:

<table data-header-hidden><thead><tr><th width="299.3076923076923"></th><th></th></tr></thead><tbody><tr><td><strong>Ομάδα</strong></td><td><strong>Λειτουργία</strong></td></tr><tr><td><strong><code>gcp-organization-admins</code></strong><br><em>(απαιτούνται ομάδες ή ατομικοί λογαριασμοί για τον έλεγχο)</em></td><td>Διαχείριση οποιουδήποτε πόρου που ανήκει στην οργάνωση. Αναθέστε αυτόν τον ρόλο με σύνεση. Οι διαχειριστές οργανισμού έχουν πρόσβαση σε όλους τους πόρους του Google Cloud σας. Εναλλακτικά, επειδή αυτή η λειτουργία είναι υψηλά προνομιούχα, σκεφτείτε τη χρήση ατομικών λογαριασμών αντί για τη δημιουργία ομάδας.</td></tr><tr><td><strong><code>gcp-network-admins</code></strong><br><em>(απαιτούνται για έλεγχο)</em></td><td>Δημιουργία δικτύων, υποδικτύων, κανόνων του τοίχου προστασίας και συσκευών δικτύου όπως Cloud Router, Cloud VPN και cloud load balancers.</td></tr><tr><td><strong><code>gcp-billing-admins</code></strong><br><em>(απαιτούνται για έλεγχο)</em></td><td>Ρύθμιση λογαριασμών χρέωσης και παρακολούθηση της χρήσης τους.</td></tr><tr><td><strong><code>gcp-developers</code></strong><br><em>(απαιτούνται για έλεγχο)</em></td><td>Σχεδίαση, κωδικοποίηση και δοκιμή εφαρμογών.</td></tr><tr><td><strong><code>gcp-security-admins</code></strong><br></td><td>Καθιερώντας και διαχειρίζοντας πολιτικές ασφαλείας για ολόκληρο τον οργανισμό, συμπεριλαμβανομένης της διαχείρισης πρόσβασης και των <a href="https://cloud.google.com/resource-manager/docs/organization-policy/org-policy-constraints">περιορισμών πολιτικής οργάνωσης</a>. Δείτε τον <a href="https://cloud.google.com/architecture/security-foundations/authentication-authorization#users_and_groups">οδηγό θεμελίων ασφαλείας του Google Cloud</a> για περισσότερες πληροφορίες σχετικά με τον σχεδιασμό της υποδομής ασφαλείας του Google Cloud σας.</td></tr><tr><td><strong><code>gcp-devops</code></strong></td><td>Δημιουργία ή διαχείριση ακριβών αγωγών που υποστηρίζουν συνεχή ολοκλήρωση και παράδοση, παρακολούθηση και παροχή συστημάτων.</td></tr><tr><td><strong><code>gcp-logging-admins</code></strong></td><td></td></tr><tr><td><strong><code>gcp-logging-viewers</code></strong></td><td></td></tr><tr><td><strong><code>gcp-monitor-admins</code></strong></td><td></td></tr><tr><td><strong><code>gcp-billing-viewer</code></strong><br><em>(πλέον όχι από προεπιλογή)</em></td><td>Παρακολούθηση των δαπανών σε έργα. Τα τυπικά μέλη είναι μέρος της ομάδας οικονομικών.</td></tr><tr><td><strong><code>gcp-platform-viewer</code></strong><br><em>(πλέον όχι από προεπιλογή)</em></td><td>Αναθεώρηση πληροφοριών πόρων σε ολόκληρο τον οργανισμό Google Cloud.</td></tr><tr><td><strong><code>gcp-security-reviewer</code></strong><br><em>(πλέον όχι από προεπιλογή)</em></td><td>Αναθεώρηση ασφάλειας στο cloud.</td></tr><tr><td><strong><code>gcp-network-viewer</code></strong><br><em>(πλέον όχι από προεπιλογή)</em></td><td>Αναθεώρηση ρυθμίσεων δικτύου.</td></tr><tr><td><strong><code>grp-gcp-audit-viewer</code></strong><br><em>(πλέον όχι από προεπιλογή)</em></td><td>Προβολή αρχείων καταγραφής ελέγχου.</td></tr><tr><td><strong><code>gcp-scc-admin</code></strong><br><em>(πλέον όχι από προεπιλογή)</em></td><td>Διαχείριση του Security Command Center.</td></tr><tr><td><strong><code>gcp-secrets-admin</code></strong><br><em>(πλέον όχι από προεπιλογή)</em></td><td>Διαχείριση μυστικών στο Secret Manager.</td></tr></tbody></table>

## **Προεπιλεγμένη πολιτική κωδικού πρόσβασης**

* Επιβάλλοντας ισχυρούς κωδικούς πρόσβασης
* Ανάμεσα σε 8 και 100 χαρακτήρες
* Χωρίς επαναχρησιμοποίηση
* Χωρίς λήξη
* Εάν οι άνθρωποι έχουν πρόσβαση στο Workspace μέσω ενός παρόχου τρίτων, αυτές οι απαιτήσεις δεν εφαρμόζονται.

<figure><img src="../../../.gitbook/assets/image (20).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../.gitbook/assets/image (22).png" alt=""><figcaption></figcaption></figure>

## **Λογαριασμοί υπηρεσιών**

Αυτοί είναι οι αρχές που μπορούν να **έχουν** **συνδεθεί** σε πόρους και να έχουν πρόσβαση για να αλληλεπιδρούν εύκολα με το GCP. Για παράδειγμα, είναι δυνατόν να έχετε πρόσβαση στο **auth token** ενός Λογαριασμού Υπηρεσίας **συνδεδεμένου με ένα VM** στα μεταδεδομένα.\
Είναι δυνατόν να αντιμετωπίσετε ορισμένες **συγκρούσεις** κατά τη χρήση τόσο του **IAM όσο και των εμβέλειών πρόσβασης**. Για παράδειγμα, ο λογαριασμός υπηρεσίας σας μπορεί να έχει τον ρόλο IAM του `compute.instanceAdmin` αλλά το παράδειγμα που έχετε παραβιάσει έχει περιοριστεί με τον περιορισμό εμβέλειας του `https://www.googleapis.com/auth/compute.readonly`. Αυτό θα σας εμποδίσει να κάνετε οποιεσδήποτε αλλαγές χρησιμοποιώντας το OAuth token που ανατίθεται αυτόματα στο παράδειγμά σας.

Είναι παρόμοιο με τους **ρόλους IAM από το AWS**. Αλλά διαφορετικά από το AWS, **οποιοσδήποτε** λογαριασμός υπηρεσίας μπορεί να **συνδεθεί με οποιαδήποτε υπηρεσία** (δεν χρειάζεται να το επιτρέψει μέσω μιας πολιτικής).

Πολλοί από τους λογαριασμούς υπηρεσίας που θα βρείτε είναι πραγματικά **αυτόματα δημιουργημένοι από το GCP** όταν αρχίσετε να χρησιμοποιείτε μια υπηρεσία, όπως:
```
PROJECT_NUMBER-compute@developer.gserviceaccount.com
PROJECT_ID@appspot.gserviceaccount.com
```
Ωστόσο, είναι επίσης δυνατόν να δημιουργήσετε και να συνδέσετε στους πόρους **προσαρμοσμένους λογαριασμούς υπηρεσιών**, οι οποίοι θα φαίνονται όπως αυτό:
```
SERVICE_ACCOUNT_NAME@PROJECT_NAME.iam.gserviceaccount.com
```
### **Εύρος πρόσβασης**

Τα εύρη πρόσβασης **συνδέονται με τα δημιουργημένα τεκμήρια OAuth** για πρόσβαση στα σημεία API του GCP. Αυτά **περιορίζουν τα δικαιώματα** του τεκμηρίου OAuth.\
Αυτό σημαίνει ότι αν ένα τεκμήριο ανήκει σε Έναν Κάτοχο ενός πόρου αλλά δεν έχει στο εύρος του τεκμηρίου την πρόσβαση σε αυτόν τον πόρο, το τεκμήριο **δεν μπορεί να χρησιμοποιηθεί για (καταχρηστική) χρήση αυτών των προνομίων**.

Η Google προτείνει πραγματικά [να **μην χρησιμοποιούνται τα εύρη πρόσβασης και να βασιστείτε αποκλειστικά στο IAM**](https://cloud.google.com/compute/docs/access/service-accounts#service\_account\_permissions). Το web πύλη διαχείρισης επιβάλλει πραγματικά αυτό, αλλά τα εύρη πρόσβασης μπορούν ακόμα να εφαρμοστούν σε παραδείγματα χρησιμοποιώντας προγραμματιστικά προσαρμοσμένους λογαριασμούς υπηρεσιών.

Μπορείτε να δείτε ποια **εύρη** είναι **εκχωρημένα** με **ερώτημα:**

{% code overflow="wrap" %}
```bash
curl 'https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=<access_token>'

{
"issued_to": "223044615559.apps.googleusercontent.com",
"audience": "223044615559.apps.googleusercontent.com",
"user_id": "139746512919298469201",
"scope": "openid https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/appengine.admin https://www.googleapis.com/auth/sqlservice.login https://www.googleapis.com/auth/compute https://www.googleapis.com/auth/accounts.reauth",
"expires_in": 2253,
"email": "username@testing.com",
"verified_email": true,
"access_type": "offline"
}
```
{% endcode %}

Οι προηγούμενες **εξουσίες** είναι αυτές που δημιουργούνται από προεπιλογή χρησιμοποιώντας το **`gcloud`** για πρόσβαση σε δεδομένα. Αυτό συμβαίνει επειδή όταν χρησιμοποιείτε το **`gcloud`** δημιουργείτε πρώτα ένα διακριτικό OAuth, και στη συνέχεια το χρησιμοποιείτε για να επικοινωνήσετε με τα σημεία άκρων.

Η πιο σημαντική εξουσία από αυτές είναι η **`cloud-platform`**, η οποία ουσιαστικά σημαίνει ότι είναι δυνατή η **πρόσβαση σε οποιαδήποτε υπηρεσία στο GCP**.

Μπορείτε να **βρείτε μια λίστα με** [**όλες τις δυνατές εξουσίες εδώ**](https://developers.google.com/identity/protocols/googlescopes)**.**

Αν έχετε διαπιστευτήρια περιήγησης **`gcloud`**, είναι δυνατόν να **λάβετε ένα διακριτικό με άλλες εξουσίες,** κάνοντας κάτι παρόμοιο:
```bash
# Maybe you can get a user token with other scopes changing the scopes array from ~/.config/gcloud/credentials.db

# Set new scopes for SDKs credentials
gcloud auth application-default login --scopes=https://www.googleapis.com/auth/userinfo.email,https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/sqlservice.login,https://www.googleapis.com/auth/appengine.admin,https://www.googleapis.com/auth/compute,https://www.googleapis.com/auth/accounts.reauth,https://www.googleapis.com/auth/admin.directory.user,https://www.googleapis.com/auth/admin.directory.group,https://www.googleapis.com/auth/admin.directory.domain,https://www.googleapis.com/auth/admin.directory.user

# Print new token
gcloud auth application-default print-access-token

# To use this token with some API you might need to use curl to indicate the project header with --header "X-Goog-User-Project: <project-name>"
```
{% endcode %}

## **Πολιτικές IAM του Terraform, Δεσμεύσεις και Μέλη**

Όπως ορίζεται από το terraform στο [https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/google\_project\_iam](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/google\_project\_iam) χρησιμοποιώντας το terraform με το GCP υπάρχουν διαφορετικοί τρόποι για να χορηγήσετε πρόσβαση σε έναν αρχέτυπο πάνω σε ένα πόρο:

* **Μέλη**: Ορίζετε **αρχέτυπα ως μέλη ρόλων** **χωρίς περιορισμούς** σχετικά με τον ρόλο ή τα αρχέτυπα. Μπορείτε να ορίσετε έναν χρήστη ως μέλος ενός ρόλου και στη συνέχεια να ορίσετε μια ομάδα ως μέλος του ίδιου ρόλου και επίσης να ορίσετε αυτά τα αρχέτυπα (χρήστη και ομάδα) ως μέλη άλλων ρόλων.
* **Δεσμεύσεις**: Πολλά **αρχέτυπα μπορούν να δεσμευτούν σε ένα ρόλο**. Αυτά τα **αρχέτυπα μπορούν ακόμα να δεσμευτούν ή να είναι μέλη άλλων ρόλων**. Ωστόσο, αν ένα αρχέτυπο που δεν έχει δεσμευτεί στον ρόλο οριστεί ως **μέλος ενός δεσμευμένου ρόλου**, την επόμενη φορά που θα εφαρμοστεί η **δέσμευση, το μέλος θα εξαφανιστεί**.
* **Πολιτικές**: Μια πολιτική είναι **εξουσιοδοτική**, υποδεικνύει ρόλους και αρχέτυπα και στη συνέχεια, **αυτά τα αρχέτυπα δεν μπορούν να έχουν περισσότερους ρόλους και αυτοί οι ρόλοι δεν μπορούν να έχουν περισσότερα αρχέτυπα** εκτός αν αυτή η πολιτική τροποποιηθεί (ούτε καν σε άλλες πολιτικές, δεσμεύσεις ή μέλη). Επομένως, όταν ένας ρόλος ή αρχέτυπο καθορίζεται στην πολιτική, όλα τα προνόμιά τους είναι **περιορισμένα από αυτήν την πολιτική**. Φυσικά, αυτό μπορεί να παρακαμφθεί σε περίπτωση που το αρχέτυπο δίνεται η δυνατότητα να τροποποιήσει την πολιτική ή δικαιώματα εξέλιξης προνομίων (όπως δημιουργία ενός νέου αρχετύπου και δέσμευση ενός νέου ρόλου).

## Αναφορές

* [https://about.gitlab.com/blog/2020/02/12/plundering-gcp-escalating-privileges-in-google-cloud-platform/](https://about.gitlab.com/blog/2020/02/12/plundering-gcp-escalating-privileges-in-google-cloud-platform/)
* [https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy](https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy)

<details>

<summary><strong>Μάθετε το χάκινγκ στο AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Αν θέλετε να δείτε την **εταιρεία σας διαφημισμένη στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή την [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια στο GitHub.

</details>
