# GCP - Uchambuzi wa Cloud Build usiothibitishwa

{% hint style="success" %}
Jifunze na zoezi la Udukuzi wa AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya AWS (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Jifunze na zoezi la Udukuzi wa GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya GCP (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>unga mkono HackTricks</summary>

* Angalia [**mpango wa michango**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
{% endhint %}

## Cloud Build

Kwa habari zaidi kuhusu Cloud Build angalia:

{% content-ref url="../gcp-services/gcp-cloud-build-enum.md" %}
[gcp-cloud-build-enum.md](../gcp-services/gcp-cloud-build-enum.md)
{% endcontent-ref %}

### cloudbuild.yml

Ikiwa unapata ufikiaji wa kuandika kwenye hazina inayojumuisha faili iliyoitwa **`cloudbuild.yml`**, unaweza **kuweka mlango wa nyuma** kwenye faili hii, ambayo inabainisha **maagizo ambayo yatafanywa** ndani ya Cloud Build na kuvuja siri, kuhatarisha kile kinachofanywa na pia kuhatarisha **akaunti ya huduma ya Cloud Build.**

{% hint style="info" %}
Tambua kuwa GCP ina chaguo la kuruhusu wasimamizi kudhibiti utekelezaji wa mifumo ya ujenzi kutoka kwa PR za nje kupitia "Comment Control". Comment Control ni kipengele ambapo wenzake/wamiliki wa mradi **wanahitaji kutoa maoni "gcbrun" kuanzisha ujenzi** dhidi ya PR na kutumia kipengele hiki kwa asili inazuia mtu yeyote kwenye mtandao kuanzisha mifumo yako ya ujenzi.
{% endhint %}

Kwa habari zaidi unaweza kuchunguza ukurasa kuhusu jinsi ya kushambulia Github Actions (kama hii):

{% content-ref url="../../../pentesting-ci-cd/github-security/abusing-github-actions/" %}
[abusing-github-actions](../../../pentesting-ci-cd/github-security/abusing-github-actions/)
{% endcontent-ref %}

### Idhini za PR

Wakati kichocheo ni PR kwa sababu **mtu yeyote anaweza kufanya PR kwa hazina za umma** ingekuwa hatari sana kuwa tu **kuruhusu utekelezaji wa kichocheo na PR yoyote**. Kwa hivyo, kwa chaguo-msingi, utekelezaji utakuwa **moja kwa moja kwa wamiliki na wenzake**, na ili kutekeleza kichocheo na PR za watumiaji wengine mmiliki au mwenzake lazima atoe maoni `/gcbrun`.

<figure><img src="../../../.gitbook/assets/image (339).png" alt="" width="563"><figcaption></figcaption></figure>

{% hint style="danger" %}
Kwa hivyo, ikiwa hii imewekwa kama **`Haitakiwi`**, mshambuliaji anaweza kufanya **PR kwa tawi** ambalo litazindua utekelezaji kwa kuongeza utekelezaji wa msimbo mbaya kwenye faili ya **`cloudbuild.yml`** na kuhatarisha utekelezaji wa cloudbuild (tambua kuwa cloudbuild itapakua msimbo KUTOKA kwa PR, kwa hivyo itatekeleza **`cloudbuild.yml`** mbaya).
{% endhint %}

Zaidi ya hayo, ni rahisi kuona ikiwa utekelezaji fulani wa cloudbuild unahitaji kufanywa unapotuma PR kwa sababu inaonekana kwenye Github:

<figure><img src="../../../.gitbook/assets/image (340).png" alt=""><figcaption></figcaption></figure>

{% hint style="warning" %}
Kwa hivyo, hata kama cloudbuild haijatekelezwa, mshambuliaji ataweza kuona **jina la mradi wa GCP** ambao ni wa kampuni.
{% endhint %}

{% hint style="success" %}
Jifunze & zoezi la Udukuzi wa AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya AWS (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Jifunze & zoezi la Udukuzi wa GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya GCP (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>unga mkono HackTricks</summary>

* Angalia [**mpango wa michango**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
{% endhint %}
