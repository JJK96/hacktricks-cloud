# GCP - Uhifadhi wa Usanidi wa Artifakti

{% hint style="success" %}
Jifunze na zoezi la Udukuzi wa AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya AWS (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Jifunze na zoezi la Udukuzi wa GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya GCP (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>unga mkono HackTricks</summary>

* Angalia [**mpango wa michango**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
{% endhint %}

## Usanidi wa Artifakti

Kwa habari zaidi kuhusu Usanidi wa Artifakti angalia:

{% content-ref url="../gcp-services/gcp-artifact-registry-enum.md" %}
[gcp-artifact-registry-enum.md](../gcp-services/gcp-artifact-registry-enum.md)
{% endcontent-ref %}

### Kupotosha Kitegemezi

* Kipi kitatokea ikiwa **hifadhi za mbali na za kawaida** zinachanganywa katika **hifadhi ya kisasa** na pakiti inaonekana katika zote mbili?
* Ile yenye **kipaumbele cha juu kilichowekwa katika hifadhi ya kisasa** ndio itatumika
* Ikiwa **kipaumbele ni sawa**:
* Ikiwa **toleo** ni **sawa**, jina la **sera kwa herufi kwanza** katika hifadhi ya kisasa litatumika
* Vinginevyo, **toleo lililo juu zaidi** litatumika

{% hint style="danger" %}
Hivyo basi, ni **rahisisha** kufanya **mabaya toleo lililo juu (kupotosha kitegemezi)** katika hifadhi ya pakiti ya umma ikiwa hifadhi ya mbali ina kipaumbele cha juu au sawa
{% endhint %}

Mbinu hii inaweza kuwa na manufaa kwa **usanidi** na **upatikanaji usiothibitishwa** kwani kuitumia inahitaji tu kujua **jina la maktaba** iliyohifadhiwa katika Usanidi wa Artifakti na **kuunda maktaba hiyo hiyo katika hifadhi ya umma (PyPi kwa python kwa mfano)** na toleo lililo juu zaidi.

Kwa usanidi huu hizi ndizo hatua unazopaswa kufuata:

* **Mahitaji**: **Hifadhi ya kisasa** lazima **iwepo** na itumike, pakiti **ya ndani** yenye **jina** ambalo halipo katika **hifadhi ya umma** lazima itumike.
* Unda hifadhi ya mbali ikiwa haipo
* Ongeza hifadhi ya mbali kwenye hifadhi ya kisasa
* Hariri sera za usajili wa kisasa ili kutoa kipaumbele cha juu (au sawa) kwa hifadhi ya mbali.\
Chukua hatua kama:
* [gcloud artifacts repositories update --upstream-policy-file ...](https://cloud.google.com/sdk/gcloud/reference/artifacts/repositories/update#--upstream-policy-file)
* Pakua pakiti halali, ongeza nambari yako ya uovu na usajili katika hifadhi ya umma na toleo sawa. Kila wakati mwandishi wa programu anapoisakinisha, ataisakinisha yako!

Kwa habari zaidi kuhusu kupotosha kitegemezi angalia:

{% embed url="https://book.hacktricks.xyz/pentesting-web/dependency-confusion" %}

{% hint style="success" %}
Jifunze na zoezi la Udukuzi wa AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya AWS (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Jifunze na zoezi la Udukuzi wa GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya GCP (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>unga mkono HackTricks</summary>

* Angalia [**mpango wa michango**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
{% endhint %}
