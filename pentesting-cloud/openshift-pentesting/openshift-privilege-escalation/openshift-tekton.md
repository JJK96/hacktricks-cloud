---
açıklama: >-
Bu sayfa, tekton'un kümede yüklü olduğu ve bir namespace oluşturabildiğiniz (bazen düzenleme izinleri yeterli olabilir) bir ayrıcalık yükseltme senaryosunu göstermektedir.

# OpenShift - Tekton

**Bu sayfanın orijinal yazarı** [**Haroun**](https://www.linkedin.com/in/haroun-al-mounayar-571830211)

### Tekton nedir

Belgelendirmeye göre: _Tekton, geliştiricilere bulut sağlayıcılar ve yerinde sistemler arasında oluşturma, test etme ve dağıtma imkanı sunan güçlü ve esnek bir açık kaynak çerçevedir._ Hem Jenkins hem de Tekton, uygulamaları test etmek, oluşturmak ve dağıtmak için kullanılabilir, ancak Tekton Bulut Doğal'dır.

Tekton'da her şey YAML dosyalarıyla temsil edilir. Geliştiriciler, çalıştırmak istedikleri birden çok `Görev`i belirten `Pipelines` türünde Özel Kaynaklar (CR) oluşturabilir. Bir Pipeline'ı çalıştırmak için `PipelineRun` türünde kaynaklar oluşturulmalıdır.

Tekton yüklendiğinde her namespace'de `pipeline` adında bir hizmet hesabı (sa) oluşturulur. Bir Pipeline çalıştırıldığında, bu sa kullanılarak YAML dosyasında tanımlanan görevleri çalıştırmak için `pipeline` adında bir pod oluşturulur.

{% embed url="https://tekton.dev/docs/getting-started/pipelines/" %}
Pipelinelar Hakkında Tekton Belgesi
{% endembed %}

### Pipeline hizmet hesabı yetenekleri

Varsayılan olarak, pipeline hizmet hesabı `pipelines-scc` yeteneğini kullanabilir. Bu, tekton'un global varsayılan yapılandırmasından kaynaklanmaktadır. Aslında, tekton'un global yapılandırması da bir `TektonConfig` adlı bir openshift nesnesinde YAML olan bir yapılandırmadır ve kümede bazı okuyucu rolleriniz varsa görülebilir.
```yaml
apiVersion: operator.tekton.dev/v1alpha1
kind: TektonConfig
metadata:
name: config
spec:
...
...
platforms:
openshift:
scc:
default: "pipelines-scc"
```
### Yanlış Yapılandırma

Sorun, pipeline hizmet hesabı belirtecinin kullanabileceği varsayılan scc'nin kullanıcı tarafından kontrol edilebilir olmasıdır. Bunun, bir etiket kullanılarak ad alanı tanımında yapılabilir. Örneğin, aşağıdaki yaml tanımına sahip bir ad alanı oluşturabiliyorsam:
```yaml
apiVersion: v1
kind: Namespace
metadata:
name: test-namespace
annotations:
operator.tekton.dev/scc: privileged
```
### Çözüm

Tekton belgesi, `TektonConfig` nesnesine bir etiket ekleyerek scc'nin geçersiz kılınmasını nasıl kısıtlayacağını belirtmektedir.

{% embed url="https://tekton.dev/docs/operator/sccconfig/" %}
Tekton scc hakkında belge
{% endembed %}

Bu etikete `max-allowed` adı verilir.
```yaml
apiVersion: operator.tekton.dev/v1alpha1
kind: TektonConfig
metadata:
name: config
spec:
...
...
platforms:
openshift:
scc:
default: "restricted-v2"
maxAllowed: "privileged"
```

