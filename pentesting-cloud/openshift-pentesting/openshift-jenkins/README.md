# Jenkins katika Openshift

**Mwandishi halisi wa ukurasa huu ni** [**Fares**](https://www.linkedin.com/in/fares-siala/)

Ukurasa huu unatoa maelekezo jinsi unavyoweza kushambulia kipengele cha Jenkins kinachofanya kazi katika kikundi cha Openshift (au Kubernetes)


## Taarifa ya Kanusho

Kipengele cha Jenkins kinaweza kuwekwa katika kikundi cha Openshift au kikundi cha Kubernetes. Kulingana na muktadha wako, unaweza kuhitaji kubadilisha mzigo ulioonyeshwa, yaml au mbinu yoyote iliyodhihirishwa. Kwa habari zaidi kuhusu kushambulia jenkins unaweza kutazama [ukurasa huu](../../../pentesting-ci-cd/jenkins-security/README.md)

## Mahitaji ya Awali

1a. Upatikanaji wa mtumiaji katika kipengele cha Jenkins
AU
1b. Upatikanaji wa mtumiaji wenye ruhusa ya kuandika kwenye hazina ya SCM ambapo ujenzi wa moja kwa moja unachochea baada ya kubonyeza/kuunganisha

## Jinsi Inavyofanya Kazi

Kimsingi, karibu kila kitu nyuma ya pazia linaweza kufanya kazi sawa na kipengele cha kawaida cha Jenkins kinachofanya kazi katika VM.
Tofauti kuu ni muundo wa jumla na jinsi ujenzi unavyosimamiwa ndani ya kikundi cha openshift (au kubernetes).

### Ujenzi

Wakati ujenzi unapochochewa, kwanza unasimamiwa/kusimamiwa na nodi kuu ya jenkins kisha inatekelezwa kwa wakala/mtumwa/mfanyakazi. Katika muktadha huu, nodi kuu ni podi ya kawaida inayofanya kazi katika jina (ambalo linaweza kutofautiana na lile ambalo wafanyakazi wanafanya kazi). Hali hiyo hiyo inatumika kwa wafanyakazi/watumwa, hata hivyo wanaharibiwa mara ujenzi unapomalizika wakati nodi kuu inabaki daima. Ujenzi wako kawaida hufanyika ndani ya podi, ukitumia templeti ya podi ya msingi iliyowekwa na waendeshaji wa jenkins.

### Kuchochea Ujenzi

Una njia kadhaa kuu za kuchochea ujenzi kama vile:

1. Una upatikanaji wa UI kwenye jenkins

Njia rahisi sana na ya kufaa ni kutumia kazi ya Kurejeleza ya ujenzi uliopo. Inakuruhusu kurejeleza ujenzi uliotekelezwa hapo awali huku ikikuruhusu kusasisha skripti ya groovy. Hii inahitaji mamlaka kwenye folda ya jenkins na mstari wa mbele uliowekwa mapema.
Ikiwa unahitaji kuwa kimya, unaweza kufuta ujenzi uliochochewa ikiwa una ruhusa ya kutosha.

2. Una upatikanaji wa kuandika kwenye SCM na ujenzi wa moja kwa moja umewekwa kupitia kitanzi cha wavuti

Unaweza tu kuhariri skripti ya ujenzi (kama Jenkinsfile), kufanya mabadiliko na kubonyeza (hatimaye kuunda ombi la kuchangia ikiwa ujenzi unachochea tu kwenye muunganisho wa PR). Kumbuka kuwa njia hii ni kelele sana na inahitaji mamlaka ya juu kusafisha nyayo zako.

## Kubadilisha YAML ya Podi ya Ujenzi wa Jenkins

{% content-ref url="openshift-jenkins-build-overrides.md" %}
[openshift-jenkins-build-overrides.md](openshift-jenkins-build-overrides.md)
{% endcontent-ref %}
