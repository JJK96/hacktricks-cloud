# OpenShift - Jenkins

**Die oorspronklike skrywer van hierdie bladsy is** [**Fares**](https://www.linkedin.com/in/fares-siala/)

Hierdie bladsy gee 'n paar aanwysers oor hoe jy 'n Jenkins-instantie wat in 'n Openshift (of Kubernetes) cluster hardloop, kan aanval

## Vrywaring

'n Jenkins-instantie kan in beide 'n Openshift- of Kubernetes-cluster ge√Ømplementeer word. Afhangende van jou konteks, mag jy enige getoonde lading, yaml of tegniek moet aanpas. Vir meer inligting oor die aanval op Jenkins kan jy na [hierdie bladsy](../../../pentesting-ci-cd/jenkins-security/) kyk

## Vereistes

1a. Gebruikerstoegang in 'n Jenkins-instantie OF 1b. Gebruikerstoegang met skryftoestemming tot 'n SCM-opgaarplek waar 'n geoutomatiseerde bou geaktiveer word na 'n druk/samevoeging

## Hoe dit werk

Fundamenteel werk amper alles agter die skerms dieselfde as 'n gewone Jenkins-instantie wat in 'n VM hardloop. Die grootste verskil is die algehele argitektuur en hoe bouwerk in 'n openshift (of kubernetes) cluster bestuur word.

### Bouwerk

Wanneer 'n bou geaktiveer word, word dit eers deur die Jenkins-meesterknoop bestuur/georkestreer en dan aan 'n agent/slaaf/werker toegewys. In hierdie konteks is die meesterknoop net 'n gewone houer wat in 'n naamspasie hardloop (wat dalk verskil van die een waar werkers hardloop). Dieselfde geld vir die werkers/slawe, maar hulle word vernietig sodra die bou voltooi is terwyl die meester altyd aanbly. Jou bou word gewoonlik binne 'n houer uitgevoer, met behulp van 'n verstek houer sjabloon wat deur die Jenkins-administrateurs gedefinieer is.

### Aktivering van 'n bou

Jy het verskeie hoofmaniere om 'n bou te aktiveer soos:

1. Jy het UI-toegang tot Jenkins

'n Baie maklike en gerieflike manier is om die Herhaal-funksionaliteit van 'n bestaande bou te gebruik. Dit stel jou in staat om 'n vorige uitgevoerde bou te herhaal terwyl jy die groovy-skrip kan opdateer. Dit vereis voorregte op 'n Jenkins-vouer en 'n voorafbepaalde pyplyn. As jy skaam wil wees, kan jy jou geaktiveerde boue verwyder as jy genoeg toestemming het.

2. Jy het skryftoegang tot die SCM en geoutomatiseerde boue is gekonfigureer via 'n webhaak

Jy kan net 'n bou-skrip wysig (soos Jenkinsfile), commit en druk (uiteindelik 'n PR skep as boue slegs geaktiveer word op PR-samevoegings). Onthou dat hierdie pad baie lawaaierig is en verhewe voorregte benodig om jou spore skoon te maak.

## Jenkins Bouhouer YAML-oorruling

{% content-ref url="openshift-jenkins-build-overrides.md" %}
[openshift-jenkins-build-overrides.md](openshift-jenkins-build-overrides.md)
{% endcontent-ref %}
