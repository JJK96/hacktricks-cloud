# GWS - P√≥s Explora√ß√£o

{% hint style="success" %}
Aprenda e pratique Hacking AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Treinamento HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Aprenda e pratique Hacking GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Treinamento HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoie o HackTricks</summary>

* Confira os [**planos de assinatura**](https://github.com/sponsors/carlospolop)!
* **Junte-se ao** üí¨ [**grupo Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo telegram**](https://t.me/peass) ou **siga-nos** no **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe truques de hacking enviando PRs para os reposit√≥rios** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}

## Privil√©gios Elevados em Grupos do Google

Por padr√£o, em um **workspace** um **grupo** pode ser **acessado livremente** por qualquer membro da organiza√ß√£o.\
O **workspace** tamb√©m permite **conceder permiss√µes a grupos** (inclusive permiss√µes do GCP), ent√£o se grupos podem ser ingressados e possuem permiss√µes extras, um atacante pode **abusar desse caminho para elevar privil√©gios**.

Potencialmente, voc√™ precisa de acesso ao console para ingressar em grupos que permitem a entrada de qualquer pessoa na organiza√ß√£o. Verifique as informa√ß√µes dos grupos em [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups).

### Acesso √†s Informa√ß√µes de E-mail dos Grupos

Se voc√™ conseguiu **comprometer uma sess√£o de usu√°rio do Google**, a partir de [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups) voc√™ pode ver o hist√≥rico de e-mails enviados para os grupos de e-mail dos quais o usu√°rio √© membro, e voc√™ pode encontrar **credenciais** ou outros **dados sens√≠veis**.

## GCP <--> GWS Pivoting

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - Baixar Tudo o que o Google Sabe sobre uma Conta

Se voc√™ tem uma **sess√£o dentro da conta Google da v√≠tima**, voc√™ pode baixar tudo o que o Google salva sobre essa conta em [**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none)

## Vault - Baixar todos os dados do Workspace dos usu√°rios

Se uma organiza√ß√£o tem o **Google Vault habilitado**, voc√™ pode ser capaz de acessar [**https://vault.google.com**](https://vault.google.com/u/1/) e **baixar** todas as **informa√ß√µes**.

## Download de Contatos

Em [**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC) voc√™ pode baixar todos os **contatos** do usu√°rio.

## Cloudsearch

Em [**https://cloudsearch.google.com/**](https://cloudsearch.google.com) voc√™ pode pesquisar **todo o conte√∫do do Workspace** (e-mail, drive, sites...) ao qual um usu√°rio tem acesso. Ideal para **encontrar rapidamente informa√ß√µes sens√≠veis**.

## Google Chat

Em [**https://mail.google.com/chat**](https://mail.google.com/chat) voc√™ pode acessar um **Chat** do Google, e voc√™ pode encontrar informa√ß√µes sens√≠veis nas conversas (se houver).

## Minera√ß√£o do Google Drive

Ao **compartilhar** um documento, voc√™ pode **especificar** as **pessoas** que podem acess√°-lo uma por uma, **compartilh√°-lo** com toda a **empresa** (**ou** com alguns **grupos** espec√≠ficos) gerando um link.

Ao compartilhar um documento, nas configura√ß√µes avan√ßadas voc√™ tamb√©m pode **permitir que as pessoas pesquisem** por este arquivo (por **padr√£o** isso est√° **desativado**). No entanto, √© importante observar que uma vez que os usu√°rios visualizam um documento, eles podem pesquis√°-lo.

Por uma quest√£o de simplicidade, a maioria das pessoas ir√° gerar e compartilhar um link em vez de adicionar as pessoas que podem acessar o documento uma por uma.

Algumas maneiras propostas de encontrar todos os documentos:

* Pesquisar em chats internos, f√≥runs...
* **Rastrear** documentos conhecidos procurando **refer√™ncias** a outros documentos. Voc√™ pode fazer isso dentro de um App Script com [**PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser)

## **Anota√ß√µes**

Em [**https://keep.google.com/**](https://keep.google.com) voc√™ pode acessar as anota√ß√µes do usu√°rio, **informa√ß√µes sens√≠veis** podem estar salvas aqui.

### Modificar Scripts de Aplicativos

Em [**https://script.google.com/**](https://script.google.com/) voc√™ pode encontrar os Scripts de Aplicativos do usu√°rio.

## **Administrar Workspace**

Em [**https://admin.google.com**/](https://admin.google.com), voc√™ pode ser capaz de modificar as configura√ß√µes do Workspace de toda a organiza√ß√£o se tiver permiss√µes suficientes.

Voc√™ tamb√©m pode encontrar e-mails pesquisando em todas as faturas do usu√°rio em [**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch)

## Refer√™ncias

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hacking G Suite: The Power of Dark Apps Script Magic
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch e Beau Bullock - OK Google, How do I Red Team GSuite?

{% hint style="success" %}
Aprenda e pratique Hacking AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Treinamento HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Aprenda e pratique Hacking GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Treinamento HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoie o HackTricks</summary>

* Confira os [**planos de assinatura**](https://github.com/sponsors/carlospolop)!
* **Junte-se ao** üí¨ [**grupo Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo telegram**](https://t.me/peass) ou **siga-nos** no **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe truques de hacking enviando PRs para os reposit√≥rios** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}
