# GWS - Post Exploitation

{% hint style="success" %}
Lernen Sie & √ºben Sie AWS-Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Lernen Sie & √ºben Sie GCP-Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtzen Sie HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) Github-Repositorys senden.

</details>
{% endhint %}

## Google Groups Privilege Escalation

Standardm√§√üig kann in Workspace eine **Gruppe** von jedem Mitglied der Organisation **frei zugegriffen** werden.\
Workspace erm√∂glicht es auch, **Gruppen Berechtigungen zu erteilen** (auch GCP-Berechtigungen), daher kann ein Angreifer diesen Pfad missbrauchen, um Berechtigungen zu eskalieren.

M√∂glicherweise ben√∂tigen Sie Zugriff auf die Konsole, um Gruppen beizutreten, die von jedem in der Organisation beigetreten werden k√∂nnen. √úberpr√ºfen Sie die Gruppeninformationen unter [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups).

### Zugriff auf Gruppen-Mail-Informationen

Wenn es Ihnen gelungen ist, eine Google-Benutzersitzung zu **kompromittieren**, k√∂nnen Sie unter [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups) die Historie der an die Mailgruppen gesendeten E-Mails sehen, und Sie k√∂nnten **Anmeldeinformationen** oder andere **sensible Daten** finden.

## GCP <--> GWS Pivoting

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - Laden Sie alles herunter, was Google √ºber ein Konto wei√ü

Wenn Sie eine **Sitzung im Opfer-Google-Konto** haben, k√∂nnen Sie alles herunterladen, was Google √ºber dieses Konto unter [**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none) speichert.

## Vault - Laden Sie alle Workspace-Daten der Benutzer herunter

Wenn eine Organisation **Google Vault aktiviert** hat, k√∂nnen Sie m√∂glicherweise auf [**https://vault.google.com**](https://vault.google.com/u/1/) zugreifen und alle **Informationen** herunterladen.

## Kontakte herunterladen

Unter [**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC) k√∂nnen Sie alle **Kontakte** des Benutzers herunterladen.

## Cloudsearch

In [**https://cloudsearch.google.com/**](https://cloudsearch.google.com) k√∂nnen Sie einfach **durch alle Workspace-Inhalte** (E-Mail, Drive, Sites...) suchen, auf die ein Benutzer Zugriff hat. Ideal, um **schnell sensible Informationen** zu finden.

## Google Chat

In [**https://mail.google.com/chat**](https://mail.google.com/chat) k√∂nnen Sie auf einen Google **Chat** zugreifen, und Sie k√∂nnten sensible Informationen in den Unterhaltungen finden (falls vorhanden).

## Google Drive Mining

Beim **Teilen** eines Dokuments k√∂nnen Sie die **Personen** angeben, die darauf zugreifen k√∂nnen, entweder einzeln, es mit Ihrem **gesamten Unternehmen** teilen (**oder** mit bestimmten **Gruppen**) durch **Generierung eines Links**.

Beim Teilen eines Dokuments k√∂nnen Sie in den erweiterten Einstellungen auch zulassen, dass Personen nach dieser Datei suchen k√∂nnen (standardm√§√üig ist dies **deaktiviert**). Es ist jedoch wichtig zu beachten, dass sobald Benutzer ein Dokument anzeigen, sie danach suchen k√∂nnen.

Aus Gr√ºnden der Einfachheit werden die meisten Personen einen Link generieren und teilen, anstatt die Personen hinzuzuf√ºgen, die auf das Dokument zugreifen k√∂nnen.

Einige vorgeschlagene M√∂glichkeiten, um alle Dokumente zu finden:

* Suchen Sie in internen Chats, Foren...
* **Durchsuchen** Sie bekannte **Dokumente** nach **Verweisen** auf andere Dokumente. Dies k√∂nnen Sie mit einem App-Script mit [**PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser) tun.

## **Notizen behalten**

Unter [**https://keep.google.com/**](https://keep.google.com) k√∂nnen Sie auf die Notizen des Benutzers zugreifen, hier k√∂nnten **sensible Informationen** gespeichert sein.

### App-Skripte anpassen

Unter [**https://script.google.com/**](https://script.google.com/) finden Sie die App-Skripte des Benutzers.

## **Workspace verwalten**

Unter [**https://admin.google.com**/](https://admin.google.com) k√∂nnen Sie m√∂glicherweise die Workspace-Einstellungen der gesamten Organisation √§ndern, wenn Sie √ºber ausreichende Berechtigungen verf√ºgen.

Sie k√∂nnen auch E-Mails finden, indem Sie alle Rechnungen des Benutzers unter [**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch) durchsuchen.

## Referenzen

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hacking G Suite: The Power of Dark Apps Script Magic
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch und Beau Bullock - OK Google, How do I Red Team GSuite?

{% hint style="success" %}
Lernen Sie & √ºben Sie AWS-Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Lernen Sie & √ºben Sie GCP-Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtzen Sie HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) Github-Repositorys senden.

</details>
{% endhint %}
