# GWS - Post Exploitation

{% hint style="success" %}
Apprenez et pratiquez le piratage AWS :<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Formation HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Apprenez et pratiquez le piratage GCP : <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Formation HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Soutenez HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop)!
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
{% endhint %}

## Google Groups Privesc

Par d√©faut dans un espace de travail, un **groupe** peut √™tre **librement accessible** par n'importe quel membre de l'organisation.\
L'espace de travail permet √©galement d'**accorder des autorisations aux groupes** (m√™me des autorisations GCP), donc si des groupes peuvent √™tre rejoints et qu'ils ont des autorisations suppl√©mentaires, un attaquant peut **abuser de ce chemin pour escalader les privil√®ges**.

Vous avez potentiellement besoin d'acc√©der √† la console pour rejoindre des groupes qui peuvent √™tre rejoints par n'importe qui dans l'organisation. V√©rifiez les informations sur les groupes dans [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups).

### Acc√©der aux informations de messagerie des groupes

Si vous avez r√©ussi √† **compromettre une session utilisateur Google**, depuis [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups) vous pouvez voir l'historique des e-mails envoy√©s aux groupes de messagerie dont l'utilisateur est membre, et vous pourriez trouver des **identifiants** ou d'autres **donn√©es sensibles**.

## GCP <--> GWS Pivoting

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - T√©l√©charger tout ce que Google sait sur un compte

Si vous avez une **session √† l'int√©rieur du compte Google de la victime**, vous pouvez t√©l√©charger tout ce que Google sauvegarde √† propos de ce compte depuis [**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none)

## Vault - T√©l√©charger toutes les donn√©es de Workspace des utilisateurs

Si une organisation a **activ√© Google Vault**, vous pourriez √™tre en mesure d'acc√©der √† [**https://vault.google.com**](https://vault.google.com/u/1/) et de **t√©l√©charger** toutes les **informations**.

## T√©l√©chargement des contacts

Depuis [**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC) vous pouvez t√©l√©charger tous les **contacts** de l'utilisateur.

## Cloudsearch

Sur [**https://cloudsearch.google.com/**](https://cloudsearch.google.com) vous pouvez simplement rechercher **dans tout le contenu de Workspace** (e-mails, drive, sites...) auquel un utilisateur a acc√®s. Id√©al pour **trouver rapidement des informations sensibles**.

## Google Chat

Sur [**https://mail.google.com/chat**](https://mail.google.com/chat) vous pouvez acc√©der √† un Chat Google, et vous pourriez trouver des informations sensibles dans les conversations (s'il y en a).

## Exploration de Google Drive

Lorsque vous **partagez** un document, vous pouvez **sp√©cifier** les **personnes** qui peuvent y acc√©der une par une, le **partager** avec toute votre **entreprise** (**ou** avec certains **groupes**) en **g√©n√©rant un lien**.

Lorsque vous partagez un document, dans les param√®tres avanc√©s, vous pouvez √©galement **autoriser les personnes √† rechercher** ce fichier (par **d√©faut** ceci est **d√©sactiv√©**). Cependant, il est important de noter qu'une fois qu'un utilisateur consulte un document, il devient consultable par eux.

Pour des raisons de simplicit√©, la plupart des gens g√©n√©reront et partageront un lien au lieu d'ajouter les personnes qui peuvent acc√©der au document une par une.

Quelques fa√ßons propos√©es pour trouver tous les documents :

* Recherchez dans le chat interne, les forums...
* **Parcourez** les **documents** connus √† la recherche de **r√©f√©rences** vers d'autres documents. Vous pouvez le faire avec un script App avec [**PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser)

## **Prendre des notes**

Sur [**https://keep.google.com/**](https://keep.google.com) vous pouvez acc√©der aux notes de l'utilisateur, des **informations sensibles** pourraient √™tre enregistr√©es ici.

### Modifier les scripts d'application

Sur [**https://script.google.com/**](https://script.google.com/) vous pouvez trouver les scripts d'application de l'utilisateur.

## **Administrer Workspace**

Sur [**https://admin.google.com**/](https://admin.google.com), vous pourriez √™tre en mesure de modifier les param√®tres de Workspace de toute l'organisation si vous avez suffisamment d'autorisations.

Vous pouvez √©galement trouver des e-mails en recherchant dans toutes les factures de l'utilisateur sur [**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch)

## R√©f√©rences

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Piratage de G Suite : La puissance de la magie sombre des scripts d'application
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch et Beau Bullock - OK Google, Comment faire du Red Team sur GSuite?

{% hint style="success" %}
Apprenez et pratiquez le piratage AWS :<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Formation HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Apprenez et pratiquez le piratage GCP : <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Formation HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Soutenez HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop)!
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
{% endhint %}
