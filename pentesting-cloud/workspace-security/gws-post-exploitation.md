# GWS - Post Exploitation

{% hint style="success" %}
Impara e pratica l'hacking su AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Impara e pratica l'hacking su GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Sostieni HackTricks</summary>

* Controlla i [**piani di abbonamento**](https://github.com/sponsors/carlospolop)!
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi trucchi di hacking inviando PR a** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) nei repository di Github.

</details>
{% endhint %}

## Google Groups Privesc

Di default in workspace un **gruppo** pu√≤ essere **liberamente accessibile** da qualsiasi membro dell'organizzazione.\
Workspace permette anche di **concedere autorizzazioni ai gruppi** (anche autorizzazioni GCP), quindi se i gruppi possono essere uniti e hanno autorizzazioni extra, un attaccante potrebbe **sfruttare quel percorso per elevare i privilegi**.

Potresti aver bisogno dell'accesso alla console per unirti ai gruppi che consentono l'adesione da parte di chiunque nell'organizzazione. Controlla le informazioni sui gruppi in [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups).

### Accesso alle informazioni della posta dei gruppi

Se sei riuscito a **compromettere una sessione utente di Google**, da [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups) puoi vedere la cronologia delle email inviate ai gruppi di posta di cui l'utente √® membro, e potresti trovare **credenziali** o altri **dati sensibili**.

## GCP <--> GWS Pivoting

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - Scarica tutto ci√≤ che Google sa su un account

Se hai una **sessione all'interno dell'account Google delle vittime** puoi scaricare tutto ci√≤ che Google salva su quell'account da [**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none)

## Vault - Scarica tutti i dati di Workspace degli utenti

Se un'organizzazione ha **Google Vault abilitato**, potresti essere in grado di accedere a [**https://vault.google.com**](https://vault.google.com/u/1/) e **scaricare** tutte le **informazioni**.

## Download dei contatti

Da [**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC) puoi scaricare tutti i **contatti** dell'utente.

## Cloudsearch

In [**https://cloudsearch.google.com/**](https://cloudsearch.google.com) puoi cercare **attraverso tutti i contenuti di Workspace** (email, drive, siti...) a cui un utente ha accesso. Ideale per **trovare rapidamente informazioni sensibili**.

## Google Chat

In [**https://mail.google.com/chat**](https://mail.google.com/chat) puoi accedere a una chat di Google, e potresti trovare informazioni sensibili nelle conversazioni (se presenti).

## Google Drive Mining

Quando si **condivide** un documento puoi **specificare** le **persone** che possono accedervi una per una, **condividerlo** con l'**intera azienda** (**o** con alcuni **gruppi** specifici) generando un link.

Quando si condivide un documento, nelle impostazioni avanzate puoi anche **consentire alle persone di cercare** questo file (di **default** questa opzione √® **disabilitata**). Tuttavia, √® importante notare che una volta che gli utenti visualizzano un documento, possono cercarlo.

Per semplicit√†, la maggior parte delle persone generer√† e condivider√† un link anzich√© aggiungere le persone che possono accedere al documento una per una.

Alcuni modi proposti per trovare tutti i documenti:

* Cerca nella chat interna, nei forum...
* **Spider** i **documenti** conosciuti cercando **riferimenti** ad altri documenti. Puoi farlo con uno script di App utilizzando [**PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser)

## **Appunti**

In [**https://keep.google.com/**](https://keep.google.com) puoi accedere agli appunti dell'utente, potrebbero essere presenti **informazioni sensibili**.

### Modifica degli script dell'applicazione

In [**https://script.google.com/**](https://script.google.com/) puoi trovare gli script dell'applicazione dell'utente.

## **Amministra Workspace**

In [**https://admin.google.com**/](https://admin.google.com), potresti essere in grado di modificare le impostazioni di Workspace dell'intera organizzazione se hai abbastanza autorizzazioni.

Puoi anche trovare email cercando tra tutte le fatture dell'utente in [**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch)

## Riferimenti

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hacking G Suite: The Power of Dark Apps Script Magic
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch e Beau Bullock - OK Google, How do I Red Team GSuite?

{% hint style="success" %}
Impara e pratica l'hacking su AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Impara e pratica l'hacking su GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Sostieni HackTricks</summary>

* Controlla i [**piani di abbonamento**](https://github.com/sponsors/carlospolop)!
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi trucchi di hacking inviando PR a** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) nei repository di Github.

</details>
{% endhint %}
