# AWS - コントロールタワー列挙

{% hint style="success" %}
AWSハッキングの学習と練習:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCPハッキングの学習と練習: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksのサポート</summary>

* [**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェック！
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に参加するか、[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**をフォロー**してください。
* **HackTricks**と**HackTricks Cloud**のgithubリポジトリにPRを提出して**ハッキングトリックを共有**してください。

</details>
{% endhint %}

## コントロールタワー

{% hint style="info" %}
要約すると、コントロールタワーは組織内のすべてのアカウントにポリシーを定義できるサービスです。各アカウントを個別に管理する代わりに、コントロールタワーからポリシーを設定して適用できます。
{% endhint %}

AWSコントロールタワーは、Amazon Web Services（AWS）が提供する**サービス**で、組織がAWS内でセキュアでコンプライアンスを満たすマルチアカウント環境を設定および管理できるようにします。

AWSコントロールタワーは、特定の**組織要件**を満たすようにカスタマイズできる**事前定義されたベストプラクティスのブループリント**を提供します。これらのブループリントには、AWS Single Sign-On（SSO）、AWS Config、AWS CloudTrail、AWS Service Catalogなどの事前構成されたAWSサービスと機能が含まれています。

AWSコントロールタワーを使用すると、管理者は**セキュリティ**やコンプライアンスなどの組織要件を満たす**マルチアカウント環境を迅速に設定**できます。このサービスは、アカウントやリソースを表示および管理するための中央ダッシュボードを提供し、アカウント、サービス、ポリシーのプロビジョニングも自動化します。

さらに、AWSコントロールタワーは、環境が組織要件に準拠し続けることを保証する一連の事前構成されたポリシーである**ガードレール**を提供します。これらのポリシーは、特定のニーズを満たすようにカスタマイズできます。

全体として、AWSコントロールタワーは、AWS内でセキュアでコンプライアンスを満たすマルチアカウント環境を設定および管理するプロセスを簡素化し、組織が主要なビジネス目標に集中しやすくします。

### 列挙

コントロールタワーのコントロールを列挙するには、まず**組織を列挙する必要があります**:

{% content-ref url="../aws-organizations-enum.md" %}
[aws-organizations-enum.md](../aws-organizations-enum.md)
{% endcontent-ref %}

{% code overflow="wrap" %}
```bash
# Get controls applied in an account
aws controltower list-enabled-controls --target-identifier arn:aws:organizations::<acc_id>:ou/<ou-id>
```
{% endcode %}

{% hint style="warning" %}
Control Towerは**Account factory**を使用して、**アカウント内でCloudFormationテンプレートを実行**し、それらのアカウントでサービス（権限昇格、ポストエクスプロイテーション...）を実行することもできます。
{% hint %}

### ポストエクスプロイテーション＆持続性

{% content-ref url="../../aws-post-exploitation/aws-control-tower-post-exploitation.md" %}
[aws-control-tower-post-exploitation.md](../../aws-post-exploitation/aws-control-tower-post-exploitation.md)
{% endcontent-ref %}

{% hint style="success" %}
AWSハッキングの学習と実践：<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCPハッキングの学習と実践：<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksのサポート</summary>

* [**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェック！
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**telegramグループ**](https://t.me/peass)に**参加**するか、**Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**をフォロー**してください。
* **HackTricks**と**HackTricks Cloud**のGitHubリポジトリにPRを提出して、ハッキングトリックを共有してください。

</details>
{% endhint %}
