# Kubernetes Namespace Yükseltme

{% hint style="success" %}
AWS Hacking'i öğrenin ve uygulayın: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Eğitim AWS Kırmızı Takım Uzmanı (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking'i öğrenin ve uygulayın: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Eğitim GCP Kırmızı Takım Uzmanı (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) katılın veya [**telegram grubuna**](https://t.me/peass) katılın veya bizi **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking püf noktalarını paylaşarak PR göndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına katkıda bulunun.

</details>
{% endhint %}

Kubernetes'te genellikle **bir namespace'e içeri girmeyi** (bazı kullanıcı kimlik bilgilerini çalarak veya bir pod'u ele geçirerek) başardığınızda, genellikle **farklı bir namespace'e yükselmeniz daha ilginç şeyler bulabileceğiniz anlamına gelir**.

Farklı bir namespace'e kaçmak için deneyebileceğiniz bazı teknikler şunlardır:

### K8s yetkilerini kötüye kullanma

Çalınan hesabın, yükselmek istediğiniz namespace üzerinde hassas yetkilere sahip olması durumunda, NS içinde **hizmet hesaplarıyla pod'lar oluşturma**, ns içinde zaten var olan bir pod'da **shell çalıştırma** veya **gizli** SA belgelerini okuma gibi eylemleri kötüye kullanabilirsiniz.

Hangi yetkileri kötüye kullanabileceğiniz hakkında daha fazla bilgi için şunu okuyun:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### Node'a kaçış

Bir pod'u ele geçirdiyseniz ve kaçabilirseniz veya ayrıcalıklı bir pod oluşturup kaçabilirseniz, diğer SA belgelerini çalmak için çeşitli şeyler yapabilirsiniz:

* Node'da çalışan diğer docker konteynerlerine **bağlanmış SA belgelerini kontrol edin**
* Node'da **node'a ekstra izinler verilen yeni kubeconfig dosyalarını kontrol edin**
* Etkinse (veya kendiniz etkinleştirin) **diğer namespace'lerin yansıtılmış pod'larını oluşturmaya çalışın**, çünkü bu namespace'lerin varsayılan belirteç hesaplarına erişebilirsiniz (henüz bunu test etmedim)

Bu tekniklerin hepsi şurada açıklanmıştır:

{% content-ref url="attacking-kubernetes-from-inside-a-pod.md" %}
[attacking-kubernetes-from-inside-a-pod.md](attacking-kubernetes-from-inside-a-pod.md)
{% endcontent-ref %}

{% hint style="success" %}
AWS Hacking'i öğrenin ve uygulayın: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Eğitim AWS Kırmızı Takım Uzmanı (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking'i öğrenin ve uygulayın: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Eğitim GCP Kırmızı Takım Uzmanı (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) katılın veya [**telegram grubuna**](https://t.me/peass) katılın veya bizi **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking püf noktalarını paylaşarak PR göndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına katkıda bulunun.

</details>
{% endhint %}
