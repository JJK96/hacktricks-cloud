# Ελέγχος Κεραυνού Kubernetes

{% hint style="success" %}
Μάθε & εξάσκησε στο Hacking του AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Εκπαίδευση HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Μάθε & εξάσκησε στο Hacking του GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Εκπαίδευση HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Υποστήριξε το HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Συμμετέχετε** 💬 [**στην ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε κόλπα χάκερ υποβάλλοντας PRs** στα αποθετήρια [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}

## Βασικά του Kubernetes

Αν δεν ξέρετε τίποτα για το Kubernetes αυτό είναι ένα **καλό ξεκίνημα**. Διαβάστε το για να μάθετε για την **αρχιτεκτονική, τα στοιχεία και τις βασικές ενέργειες** στο Kubernetes:

{% content-ref url="kubernetes-basics.md" %}
[kubernetes-basics.md](kubernetes-basics.md)
{% endcontent-ref %}

### Εργαστήρια για εξάσκηση και μάθηση

* [https://securekubernetes.com/](https://securekubernetes.com)
* [https://madhuakula.com/kubernetes-goat/index.html](https://madhuakula.com/kubernetes-goat/index.html)

## Ενίσχυση του Kubernetes / Αυτόματα Εργαλεία

{% content-ref url="kubernetes-hardening/" %}
[kubernetes-hardening](kubernetes-hardening/)
{% endcontent-ref %}

## Χειροκίνητος Έλεγχος Κεραυνού Kubernetes

### Από τον Εξωτερικό Κόσμο

Υπάρχουν αρκετές **υπηρεσίες Kubernetes που μπορείτε να βρείτε εκτεθειμένες** στο Διαδίκτυο (ή μέσα σε εσωτερικά δίκτυα). Αν τις βρείτε, ξέρετε ότι υπάρχει περιβάλλον Kubernetes εκεί.

Ανάλογα με τη διαμόρφωση και τα προνόμιά σας, μπορείτε να καταχραστείτε αυτό το περιβάλλον, για περισσότερες πληροφορίες:

{% content-ref url="pentesting-kubernetes-services/" %}
[pentesting-kubernetes-services](pentesting-kubernetes-services/)
{% endcontent-ref %}

### Απαρίθμηση μέσα σε ένα Pod

Αν καταφέρετε να **καταστρέψετε ένα Pod**, διαβάστε την παρακάτω σελίδα για να μάθετε πώς να απαριθμήσετε και να προσπαθήσετε να **εξελίξετε προνόμια/δραπέτευση**:

{% content-ref url="attacking-kubernetes-from-inside-a-pod.md" %}
[attacking-kubernetes-from-inside-a-pod.md](attacking-kubernetes-from-inside-a-pod.md)
{% endcontent-ref %}

### Απαρίθμηση του Kubernetes με Διαπιστευτήρια

Μπορεί να έχετε καταφέρει να καταστρέψετε **διαπιστευτήρια χρήστη, ένα τοκεν χρήστη ή κάποιο τοκεν λογαριασμού υπηρεσίας**. Μπορείτε να το χρησιμοποιήσετε για να μιλήσετε στην υπηρεσία API του Kubernetes και να προσπαθήσετε να **απαριθμήσετε περισσότερα** γι' αυτό:

{% content-ref url="kubernetes-enumeration.md" %}
[kubernetes-enumeration.md](kubernetes-enumeration.md)
{% endcontent-ref %}

Ένα άλλο σημαντικό στοιχείο για την απαρίθμηση και την κατάχρηση δικαιωμάτων του Kubernetes είναι ο **Έλεγχος Πρόσβασης βασισμένος σε Ρόλους (RBAC) του Kubernetes**. Αν θέλετε να καταχραστείτε δικαιώματα, πρέπει πρώτα να διαβάσετε γι' αυτό εδώ:

{% content-ref url="kubernetes-role-based-access-control-rbac.md" %}
[kubernetes-role-based-access-control-rbac.md](kubernetes-role-based-access-control-rbac.md)
{% endcontent-ref %}

#### Γνωρίζοντας για το RBAC και έχοντας απαριθμήσει το περιβάλλον μπορείτε τώρα να προσπαθήσετε να καταχραστείτε τα δικαιώματα με:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### Ανύψωση σε διαφορετικό Namespace

Αν έχετε καταστρέψει ένα namespace μπορείτε πιθανώς να δραπετεύσετε σε άλλα namespaces με περισσότερους ενδιαφέροντες πόρους/δικαιώματα:

{% content-ref url="kubernetes-namespace-escalation.md" %}
[kubernetes-namespace-escalation.md](kubernetes-namespace-escalation.md)
{% endcontent-ref %}

### Από το Kubernetes στο Cloud

Αν έχετε καταστρέψει ένα λογαριασμό K8s ή ένα pod, μπορείτε να μετακινηθείτε σε άλλα νέφη. Αυτό είναι δυνατόν επειδή σε νέφη όπως το AWS ή το GCP είναι δυνατόν να **δώσετε δικαιώματα SA του K8s πάνω στο νέφος**.

{% content-ref url="kubernetes-pivoting-to-clouds.md" %}
[kubernetes-pivoting-to-clouds.md](kubernetes-pivoting-to-clouds.md)
{% endcontent-ref %}

{% hint style="success" %}
Μάθε & εξάσκησε στο Hacking του AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Εκπαίδευση HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Μάθε & εξάσκησε στο Hacking του GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Εκπαίδευση HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Υποστήριξε το HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Συμμετέχετε** 💬 [**στην ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε κόλπα χάκερ υποβάλλοντας PRs** στα αποθετήρια [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}
