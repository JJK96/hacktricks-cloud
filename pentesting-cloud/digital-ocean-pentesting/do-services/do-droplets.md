# DO - Droplets

{% hint style="success" %}
Μάθετε & εξασκηθείτε στο AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Εκπαίδευση HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Μάθετε & εξασκηθείτε στο GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Εκπαίδευση HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Υποστηρίξτε το HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Συμμετέχετε** 💬 στην [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Κοινοποιήστε κόλπα χάκερ υποβάλλοντας PRs** στα αποθετήρια [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}

## Βασικές Πληροφορίες

Στο DigitalOcean, ένα "droplet" είναι ένα **εικονικό ιδιωτικό διακομιστή (VPS)** που μπορεί να χρησιμοποιηθεί για τη φιλοξενία ιστότοπων και εφαρμογών. Ένα droplet είναι ένα **προ-διαμορφωμένο πακέτο υπολογιστικών πόρων**, συμπεριλαμβανομένης μιας συγκεκριμένης ποσότητας CPU, μνήμης και αποθήκευσης, το οποίο μπορεί να αναπτυχθεί γρήγορα και εύκολα στην υποδομή νέφους του DigitalOcean.

Μπορείτε να επιλέξετε από **κοινά λειτουργικά συστήματα**, μέχρι **εφαρμογές** που ήδη λειτουργούν (όπως WordPress, cPanel, Laravel...), ή ακόμα να ανεβάσετε και να χρησιμοποιήσετε **τις δικές σας εικόνες**.

Τα droplets υποστηρίζουν **σενάρια χρήστη (user data scripts)**.

<details>

<summary>Διαφορά μεταξύ ενός στιγμιότυπου (snapshot) και ενός αντιγράφου ασφαλείας (backup)</summary>

Στο DigitalOcean, ένα στιγμιότυπο (snapshot) είναι μια αντιγραφή του δίσκου ενός Droplet σε συγκεκριμένο χρονικό σημείο. Καταγράφει την κατάσταση του δίσκου του Droplet στο χρόνο που πραγματοποιήθηκε το στιγμιότυπο, συμπεριλαμβανομένου του λειτουργικού συστήματος, των εγκατεστημένων εφαρμογών και όλων των αρχείων και δεδομένων στο δίσκο.

Τα στιγμιότυπα μπορούν να χρησιμοποιηθούν για τη δημιουργία νέων Droplets με την ίδια διαμόρφωση με το αρχικό Droplet, ή για την επαναφορά ενός Droplet στην κατάσταση που ήταν όταν πραγματοποιήθηκε το στιγμιότυπο. Τα στιγμιότυπα αποθηκεύονται στην υπηρεσία αποθήκευσης αντικειμένων του DigitalOcean, και είναι σταδιακά, που σημαίνει ότι αποθηκεύονται μόνο οι αλλαγές από το τελευταίο στιγμιότυπο. Αυτό τα καθιστά αποδοτικά στη χρήση και οικονομικά αποδοτικά στην αποθήκευση.

Από την άλλη πλευρά, ένα αντίγραφο ασφαλείας (backup) είναι μια πλήρης αντιγραφή ενός Droplet, συμπεριλαμβανομένου του λειτουργικού συστήματος, των εγκατεστημένων εφαρμογών, αρχείων και δεδομένων, καθώς και των ρυθμίσεων και μεταδεδομένων του Droplet. Τα αντίγραφα ασφαλείας πραγματοποιούνται τακτικά, και καταγράφουν ολόκληρη την κατάσταση ενός Droplet σε συγκεκριμένο χρονικό σημείο.

Αντίθετα από τα στιγμιότυπα, τα αντίγραφα ασφαλείας αποθηκεύονται σε συμπιεσμένη και κρυπτογραφημένη μορφή, και μεταφέρονται εκτός της υποδομής του DigitalOcean σε απομακρυσμένη τοποθεσία για ασφάλεια. Αυτό καθιστά τα αντίγραφα ασφαλείας ιδανικά για ανάκτηση μετά από καταστροφή, καθώς παρέχουν μια πλήρη αντιγραφή ενός Droplet που μπορεί να ανακτηθεί σε περίπτωση απώλειας δεδομένων ή άλλων καταστροφικών συμβάντων.

Συνολικά, τα στιγμιότυπα είναι αντίγραφα του δίσκου ενός Droplet σε συγκεκριμένο χρονικό σημείο, ενώ τα αντίγραφα ασφαλείας είναι πλήρη αντίγραφα ενός Droplet, συμπεριλαμβανομένων των ρυθμίσεών του και των μεταδεδομένων του. Τα στιγμιότυπα αποθηκεύονται στην υπηρεσία αποθήκευσης αντικειμένων του DigitalOcean, ενώ τα αντίγραφα ασφαλείας μεταφέρονται εκτός της υποδομής του DigitalOcean σε απομακρυσμένη τοποθεσία. Και τα δύο στιγμιότυπα και αντίγραφα ασφαλείας μπορούν να χρησιμοποιηθούν για την επαναφορά ενός Droplet, αλλά τα στιγμιότυπα είναι πιο αποδοτικά στη χρήση και αποθήκευση, ενώ τα αντίγραφα ασφαλείας παρέχουν μια πιο ολοκληρωμένη λύση αντιγράφων ασφαλείας για ανάκτηση μετά από καταστροφή.

</details>

### Ταυτοποίηση

Για ταυτοποίηση είναι δυνατή η **ενεργοποίηση του SSH** μέσω ονόματος χρήστη και **κωδικού πρόσβασης** (ο κωδικός ορίζεται κατά τη δημιουργία του droplet). Ή **επιλογή ενός ή περισσότερων ανεβασμένων κλειδιών SSH**.

### Τοίχος Πυρασφάλειας

{% hint style="danger" %}
Από προεπιλογή **τα droplets δημιουργούνται ΧΩΡΙΣ ΤΟΙΧΟ ΠΥΡΑΣΦΑΛΕΙΑΣ** (όχι όπως σε άλλα νέφη όπως το AWS ή το GCP). Έτσι, αν θέλετε το DO να προστατεύσει τις θύρες του droplet (VM), πρέπει να το **δημιουργήσετε και να το συνδέσετε**.
{% endhint %}

Περισσότερες πληροφορίες:

{% content-ref url="do-networking.md" %}
[do-networking.md](do-networking.md)
{% endcontent-ref %}

### Απαρίθμηση
```bash
# VMs
doctl compute droplet list # IPs will appear here
doctl compute droplet backups <droplet-id>
doctl compute droplet snapshots <droplet-id>
doctl compute droplet neighbors <droplet-id> # Get network neighbors
doctl compute droplet actions <droplet-id> # Get droplet actions

# VM interesting actions
doctl compute droplet-action password-reset <droplet-id> # New password is emailed to the user
doctl compute droplet-action enable-ipv6 <droplet-id>
doctl compute droplet-action power-on <droplet-id>
doctl compute droplet-action disable-backups <droplet-id>

# SSH
doctl compute ssh <droplet-id> # This will just run SSH
doctl compute ssh-key list
doctl compute ssh-key import <key-name> --public-key-file /path/to/key.pub

# Certificates
doctl compute certificate list

# Snapshots
doctl compute snapshot list
```
{% hint style="danger" %}
**Τα Droplets έχουν σημεία μεταδεδομένων**, αλλά στο DO **δεν υπάρχει IAM** ή πράγματα όπως ο ρόλος από το AWS ή οι λογαριασμοί υπηρεσιών από το GCP.
{% endhint %}

### RCE

Με πρόσβαση στην κονσόλα είναι δυνατόν να **αποκτήσετε ένα κέλυφος μέσα στο droplet** με την πρόσβαση στο URL: **`https://cloud.digitalocean.com/droplets/<droplet-id>/terminal/ui/`**

Είναι επίσης δυνατό να εκκινήσετε μια **κονσόλα ανάκτησης** για να εκτελέσετε εντολές μέσα στον υπολογιστή φιλοξενίας με την πρόσβαση σε μια κονσόλα ανάκτησης στο **`https://cloud.digitalocean.com/droplets/<droplet-id>/console`** (αλλά σε αυτήν την περίπτωση θα χρειαστεί να γνωρίζετε τον κωδικό ρίζας).

{% hint style="success" %}
Μάθετε & εξασκηθείτε στο Hacking του AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Εκπαίδευση HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Μάθετε & εξασκηθείτε στο Hacking του GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Εκπαίδευση HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Υποστηρίξτε το HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Εγγραφείτε** 💬 [**στην ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα τηλεγραφήματος**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Κοινοποιήστε κόλπα χάκερ υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια στο GitHub.

</details>
{% endhint %}
