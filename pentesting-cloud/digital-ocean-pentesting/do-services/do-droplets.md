# DO - Droplets

{% hint style="success" %}
Lernen Sie AWS-Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Lernen Sie GCP-Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtzen Sie HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) Github-Repositorys einreichen.

</details>
{% endhint %}

## Grundlegende Informationen

Bei DigitalOcean handelt es sich bei einem "Droplet" um einen **virtuellen privaten Server (VPS)**, der zum Hosten von Websites und Anwendungen verwendet werden kann. Ein Droplet ist ein **vorkonfiguriertes Paket von Rechenressourcen**, einschlie√ülich einer bestimmten Menge an CPU, Speicher und Speicherplatz, das schnell und einfach auf der Cloud-Infrastruktur von DigitalOcean bereitgestellt werden kann.

Sie k√∂nnen aus **√ºblichen Betriebssystemen** w√§hlen, **Anwendungen**, die bereits ausgef√ºhrt werden (wie WordPress, cPanel, Laravel...), oder sogar **eigene Images hochladen und verwenden**.

Droplets unterst√ºtzen **Benutzerdatenskripte**.

<details>

<summary>Unterschied zwischen einem Snapshot und einem Backup</summary>

Bei DigitalOcean handelt es sich bei einem Snapshot um eine Momentaufnahme der Festplatte eines Droplets. Er erfasst den Zustand der Festplatte des Droplets zum Zeitpunkt der Erstellung des Snapshots, einschlie√ülich des Betriebssystems, installierter Anwendungen und aller Dateien und Daten auf der Festplatte.

Snapshots k√∂nnen verwendet werden, um neue Droplets mit der gleichen Konfiguration wie das urspr√ºngliche Droplet zu erstellen oder ein Droplet in den Zustand zur√ºckzuversetzen, in dem der Snapshot erstellt wurde. Snapshots werden im Objektspeicher von DigitalOcean gespeichert, und sie sind inkrementell, was bedeutet, dass nur die √Ñnderungen seit dem letzten Snapshot gespeichert werden. Dies macht sie effizient in der Verwendung und kosteng√ºnstig in der Speicherung.

Auf der anderen Seite ist ein Backup eine vollst√§ndige Kopie eines Droplets, einschlie√ülich des Betriebssystems, installierter Anwendungen, Dateien und Daten sowie der Einstellungen und Metadaten des Droplets. Backups werden in der Regel regelm√§√üig durchgef√ºhrt und erfassen den gesamten Zustand eines Droplets zu einem bestimmten Zeitpunkt.

Im Gegensatz zu Snapshots werden Backups in einem komprimierten und verschl√ºsselten Format gespeichert und von der Infrastruktur von DigitalOcean an einen entfernten Speicherort zur sicheren Aufbewahrung √ºbertragen. Dies macht Backups ideal f√ºr die Wiederherstellung im Katastrophenfall, da sie eine vollst√§ndige Kopie eines Droplets bereitstellen, die im Falle von Datenverlust oder anderen katastrophalen Ereignissen wiederhergestellt werden kann.

Zusammenfassend sind Snapshots Momentaufnahmen der Festplatte eines Droplets, w√§hrend Backups vollst√§ndige Kopien eines Droplets einschlie√ülich seiner Einstellungen und Metadaten sind. Snapshots werden im Objektspeicher von DigitalOcean gespeichert, w√§hrend Backups von der Infrastruktur von DigitalOcean an einen entfernten Speicherort √ºbertragen werden. Sowohl Snapshots als auch Backups k√∂nnen zur Wiederherstellung eines Droplets verwendet werden, aber Snapshots sind effizienter in der Verwendung und Speicherung, w√§hrend Backups eine umfassendere Backup-L√∂sung f√ºr die Katastrophenwiederherstellung bieten.

</details>

### Authentifizierung

F√ºr die Authentifizierung ist es m√∂glich, **SSH √ºber Benutzernamen und Passwort zu aktivieren** (Passwort wird beim Erstellen des Droplets festgelegt). Oder **eines oder mehrere der hochgeladenen SSH-Schl√ºssel ausw√§hlen**.

### Firewall

{% hint style="danger" %}
Standardm√§√üig werden **Droplets OHNE EINE FIREWALL erstellt** (nicht wie in anderen Clouds wie AWS oder GCP). Wenn Sie also m√∂chten, dass DO die Ports des Droplets (VM) sch√ºtzt, m√ºssen Sie **eine erstellen und anh√§ngen**.
{% endhint %}

Weitere Informationen unter:

{% content-ref url="do-networking.md" %}
[do-networking.md](do-networking.md)
{% endcontent-ref %}

### Enumeration
```bash
# VMs
doctl compute droplet list # IPs will appear here
doctl compute droplet backups <droplet-id>
doctl compute droplet snapshots <droplet-id>
doctl compute droplet neighbors <droplet-id> # Get network neighbors
doctl compute droplet actions <droplet-id> # Get droplet actions

# VM interesting actions
doctl compute droplet-action password-reset <droplet-id> # New password is emailed to the user
doctl compute droplet-action enable-ipv6 <droplet-id>
doctl compute droplet-action power-on <droplet-id>
doctl compute droplet-action disable-backups <droplet-id>

# SSH
doctl compute ssh <droplet-id> # This will just run SSH
doctl compute ssh-key list
doctl compute ssh-key import <key-name> --public-key-file /path/to/key.pub

# Certificates
doctl compute certificate list

# Snapshots
doctl compute snapshot list
```
{% hint style="danger" %}
**Droplets haben Metadaten-Endpunkte**, aber bei DO gibt es **kein IAM** oder Dinge wie Rollen von AWS oder Dienstkonten von GCP.
{% endhint %}

### RCE

Mit Zugriff auf die Konsole ist es m√∂glich, **eine Shell innerhalb des Droplets zu erhalten**, indem man auf die URL zugreift: **`https://cloud.digitalocean.com/droplets/<droplet-id>/terminal/ui/`**

Es ist auch m√∂glich, eine **Wiederherstellungskonsole zu starten**, um Befehle innerhalb des Hosts auszuf√ºhren, indem man auf eine Wiederherstellungskonsole unter **`https://cloud.digitalocean.com/droplets/<droplet-id>/console`** zugreift (aber in diesem Fall ben√∂tigen Sie das Root-Passwort).

{% hint style="success" %}
Lernen und √ºben Sie AWS-Hacking: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Lernen und √ºben Sie GCP-Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtzen Sie HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) Github-Repositories einreichen.

</details>
{% endhint %}
