# DO - Informa√ß√µes B√°sicas

{% hint style="success" %}
Aprenda e pratique Hacking na AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Aprenda e pratique Hacking na GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoie o HackTricks</summary>

* Verifique os [**planos de assinatura**](https://github.com/sponsors/carlospolop)!
* **Junte-se ao** üí¨ [**grupo Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo telegram**](https://t.me/peass) ou **siga-nos** no **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe truques de hacking enviando PRs para os reposit√≥rios** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}

## Informa√ß√µes B√°sicas

A DigitalOcean √© uma **plataforma de computa√ß√£o em nuvem que fornece aos usu√°rios uma variedade de servi√ßos**, incluindo servidores virtuais privados (VPS) e outros recursos para construir, implantar e gerenciar aplicativos. **Os servi√ßos da DigitalOcean s√£o projetados para serem simples e f√°ceis de usar**, tornando-os **populares entre desenvolvedores e pequenas empresas**.

Algumas das principais caracter√≠sticas da DigitalOcean incluem:

* **Servidores virtuais privados (VPS)**: A DigitalOcean fornece VPS que podem ser usados para hospedar sites e aplicativos. Esses VPS s√£o conhecidos por sua simplicidade e facilidade de uso, e podem ser implantados rapidamente e facilmente usando uma variedade de "droplets" pr√©-constru√≠dos ou configura√ß√µes personalizadas.
* **Armazenamento**: A DigitalOcean oferece uma variedade de op√ß√µes de armazenamento, incluindo armazenamento de objetos, armazenamento de blocos e bancos de dados gerenciados, que podem ser usados para armazenar e gerenciar dados de sites e aplicativos.
* **Ferramentas de desenvolvimento e implanta√ß√£o**: A DigitalOcean fornece uma variedade de ferramentas que podem ser usadas para construir, implantar e gerenciar aplicativos, incluindo APIs e droplets pr√©-constru√≠dos.
* **Seguran√ßa**: A DigitalOcean coloca forte √™nfase em seguran√ßa e oferece uma variedade de ferramentas e recursos para ajudar os usu√°rios a manter seus dados e aplicativos seguros. Isso inclui criptografia, backups e outras medidas de seguran√ßa.

No geral, a DigitalOcean √© uma plataforma de computa√ß√£o em nuvem que fornece aos usu√°rios as ferramentas e recursos necess√°rios para construir, implantar e gerenciar aplicativos na nuvem. Seus servi√ßos s√£o projetados para serem simples e f√°ceis de usar, tornando-os populares entre desenvolvedores e pequenas empresas.

### Principais Diferen√ßas em rela√ß√£o √† AWS

Uma das principais diferen√ßas entre a DigitalOcean e a AWS √© a **variedade de servi√ßos que oferecem**. **A DigitalOcean foca em fornecer servidores virtuais privados (VPS), armazenamento e ferramentas de desenvolvimento e implanta√ß√£o simples** e f√°ceis de usar. **A AWS**, por outro lado, oferece uma **gama muito mais ampla de servi√ßos**, incluindo VPS, armazenamento, bancos de dados, aprendizado de m√°quina, an√°lises e muitos outros servi√ßos. Isso significa que a AWS √© mais adequada para aplicativos complexos de n√≠vel empresarial, enquanto a DigitalOcean √© mais adequada para pequenas empresas e desenvolvedores.

Outra diferen√ßa chave entre as duas plataformas √© a **estrutura de pre√ßos**. **A precifica√ß√£o da DigitalOcean geralmente √© mais direta e f√°cil** de entender do que a da AWS, com uma variedade de planos de pre√ßos baseados no n√∫mero de droplets e outros recursos utilizados. A AWS, por outro lado, possui uma estrutura de pre√ßos mais complexa baseada em uma variedade de fatores, incluindo o tipo e a quantidade de recursos utilizados. Isso pode tornar mais dif√≠cil prever os custos ao usar a AWS.

## Hierarquia

### Usu√°rio

Um usu√°rio √© o que voc√™ espera, um usu√°rio. Ele pode **criar equipes** e **ser membro de diferentes equipes**.

### **Equipe**

Uma equipe √© um grupo de **usu√°rios**. Quando um usu√°rio cria uma equipe, ele tem o **papel de propriet√°rio nessa equipe** e inicialmente **configura as informa√ß√µes de faturamento**. **Outro** usu√°rio pode ent√£o ser **convidado** para a equipe.

Dentro da equipe pode haver v√°rios **projetos**. Um projeto √© apenas um **conjunto de servi√ßos em execu√ß√£o**. Pode ser usado para **separar diferentes est√°gios de infraestrutura**, como produ√ß√£o, staging, dev...

### Projeto

Como explicado, um projeto √© apenas um cont√™iner para todos os **servi√ßos** (droplets, espa√ßos, bancos de dados, kubernetes...) **executando juntos dentro dele**.\
Um projeto da Digital Ocean √© muito semelhante a um projeto da GCP sem IAM.

## Permiss√µes

### Equipe

Basicamente, todos os membros de uma equipe t√™m **acesso aos recursos da DO em todos os projetos criados dentro da equipe (com mais ou menos privil√©gios).**

### Fun√ß√µes

Cada **usu√°rio dentro de uma equipe** pode ter **uma** das seguintes tr√™s **fun√ß√µes** dentro dela:

| Fun√ß√£o     | Recursos Compartilhados | Informa√ß√µes de Faturamento | Configura√ß√µes da Equipe |
| ---------- | ------------------------ | --------------------------- | ----------------------- |
| **Propriet√°rio**  | Acesso total      | Acesso total         | Acesso total   |
| **Faturador** | Sem acesso        | Acesso total         | Sem acesso     |
| **Membro** | Acesso total      | Sem acesso           | Sem acesso     |

**Propriet√°rio** e **membro podem listar os usu√°rios** e verificar suas **fun√ß√µes** (o faturador n√£o pode).

## Acesso

### Nome de usu√°rio + senha (MFA)

Como na maioria das plataformas, para acessar a GUI voc√™ pode usar um conjunto de **nome de usu√°rio e senha v√°lidos** para **acessar** os **recursos** na nuvem. Depois de fazer login, voc√™ pode ver **todas as equipes das quais faz parte** em [https://cloud.digitalocean.com/account/profile](https://cloud.digitalocean.com/account/profile).\
E voc√™ pode ver toda a sua atividade em [https://cloud.digitalocean.com/account/activity](https://cloud.digitalocean.com/account/activity).

**MFA** pode ser **habilitado** em um usu√°rio e **obrigat√≥rio** para todos os usu√°rios em uma **equipe** acessarem a equipe.

### Chaves de API

Para usar a API, os usu√°rios podem **gerar chaves de API**. Elas sempre v√™m com permiss√µes de Leitura, mas as **permiss√µes de Escrita s√£o opcionais**.\
As chaves de API se parecem com isso:
```
dop_v1_1946a92309d6240274519275875bb3cb03c1695f60d47eaa1532916502361836
```
A ferramenta cli √© [**doctl**](https://github.com/digitalocean/doctl#installing-doctl). Inicialize-a (voc√™ precisa de um token) com:
```bash
doctl auth init # Asks for the token
doctl auth init --context my-context # Login with a different token
doctl auth list # List accounts
```
Por padr√£o, este token ser√° escrito em texto claro no Mac em `/Users/<username>/Library/Application Support/doctl/config.yaml`.

### Chaves de acesso ao Spaces

Estas s√£o chaves que d√£o **acesso aos Spaces** (como S3 na AWS ou Storage na GCP).

Elas s√£o compostas por um **nome**, um **keyid** e um **segredo**. Um exemplo poderia ser:
```
Name: key-example
Keyid: DO00ZW4FABSGZHAABGFX
Secret: 2JJ0CcQZ56qeFzAJ5GFUeeR4Dckarsh6EQSLm87MKlM
```
### Aplica√ß√£o OAuth

As aplica√ß√µes OAuth podem receber **acesso sobre a Digital Ocean**.

√â poss√≠vel **criar aplica√ß√µes OAuth** em [https://cloud.digitalocean.com/account/api/applications](https://cloud.digitalocean.com/account/api/applications) e verificar todas as **aplica√ß√µes OAuth permitidas** em [https://cloud.digitalocean.com/account/api/access](https://cloud.digitalocean.com/account/api/access).

### Chaves SSH

√â poss√≠vel adicionar **chaves SSH a uma equipe da Digital Ocean** a partir do **console** em [https://cloud.digitalocean.com/account/security](https://cloud.digitalocean.com/account/security).

Dessa forma, se voc√™ criar um **novo droplet, a chave SSH ser√° configurada** nele e voc√™ poder√° **fazer login via SSH** sem senha (observe que as [chaves SSH rec√©m-carregadas n√£o s√£o configuradas em droplets j√° existentes por motivos de seguran√ßa](https://docs.digitalocean.com/products/droplets/how-to/add-ssh-keys/to-existing-droplet/)).

### Token de Autentica√ß√£o de Fun√ß√µes

A maneira **de acionar uma fun√ß√£o via REST API** (sempre habilitada, √© o m√©todo que o cli usa) √© acionando uma solicita√ß√£o com um **token de autentica√ß√£o** como:
```bash
curl -X POST "https://faas-lon1-129376a7.doserverless.co/api/v1/namespaces/fn-c100c012-65bf-4040-1230-2183764b7c23/actions/functionname?blocking=true&result=true" \
-H "Content-Type: application/json" \
-H "Authorization: Basic MGU0NTczZGQtNjNiYS00MjZlLWI2YjctODk0N2MyYTA2NGQ4OkhwVEllQ2t4djNZN2x6YjJiRmFGc1FERXBySVlWa1lEbUxtRE1aRTludXA1UUNlU2VpV0ZGNjNqWnVhYVdrTFg="
```
## Registos

### Registos de Utilizador

Os **registos de um utilizador** podem ser encontrados em [**https://cloud.digitalocean.com/account/activity**](https://cloud.digitalocean.com/account/activity)

### Registos de Equipa

Os **registos de uma equipa** podem ser encontrados em [**https://cloud.digitalocean.com/account/security**](https://cloud.digitalocean.com/account/security)

## Refer√™ncias

* [https://docs.digitalocean.com/products/teams/how-to/manage-membership/](https://docs.digitalocean.com/products/teams/how-to/manage-membership/)

{% hint style="success" %}
Aprenda e pratique Hacking AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Aprenda e pratique Hacking GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoie o HackTricks</summary>

* Verifique os [**planos de subscri√ß√£o**](https://github.com/sponsors/carlospolop)!
* **Junte-se ao** üí¨ [**grupo Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo telegram**](https://t.me/peass) ou **siga-nos** no **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partilhe truques de hacking submetendo PRs para os** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) reposit√≥rios do github.

</details>
{% endhint %}
