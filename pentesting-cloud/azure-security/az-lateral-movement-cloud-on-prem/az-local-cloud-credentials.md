# Az - Informations d'identification locales dans le cloud

{% hint style="success" %}
Apprenez et pratiquez le piratage AWS :<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Formation HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Apprenez et pratiquez le piratage GCP : <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Formation HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Soutenez HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop)!
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
{% endhint %}

## Stockage local des jetons et consid√©rations de s√©curit√©

### Azure CLI (Interface de ligne de commande)

Les jetons et les donn√©es sensibles sont stock√©s localement par Azure CLI, soulevant des pr√©occupations en mati√®re de s√©curit√© :

1. **Jetons d'acc√®s** : Stock√©s en texte brut dans `accessTokens.json` situ√© √† `C:\Users\<username>\.Azure`.
2. **Informations d'abonnement** : `azureProfile.json`, dans le m√™me r√©pertoire, contient les d√©tails de l'abonnement.
3. **Fichiers journaux** : Le dossier `ErrorRecords` dans `.azure` peut contenir des journaux avec des informations d'identification expos√©es, telles que :
- Commandes ex√©cut√©es avec des informations d'identification int√©gr√©es.
- URLs acc√©d√©es √† l'aide de jetons, r√©v√©lant potentiellement des informations sensibles.

### Azure PowerShell

Azure PowerShell stocke √©galement des jetons et des donn√©es sensibles, qui peuvent √™tre consult√©s localement :

1. **Jetons d'acc√®s** : `TokenCache.dat`, situ√© √† `C:\Users\<username>\.Azure`, stocke les jetons d'acc√®s en texte brut.
2. **Secrets du principal de service** : Ils sont stock√©s en clair dans `AzureRmContext.json`.
3. **Fonction de sauvegarde de jeton** : Les utilisateurs ont la possibilit√© de persister les jetons en utilisant la commande `Save-AzContext`, qui doit √™tre utilis√©e avec prudence pour √©viter tout acc√®s non autoris√©.

## Outils automatiques pour les trouver

* [**Winpeas**](https://github.com/carlospolop/PEASS-ng/tree/master/winPEAS/winPEASexe)
* [**Get-AzurePasswords.ps1**](https://github.com/NetSPI/MicroBurst/blob/master/AzureRM/Get-AzurePasswords.ps1)

## Recommandations de s√©curit√©

√âtant donn√© le stockage de donn√©es sensibles en texte brut, il est crucial de s√©curiser ces fichiers et r√©pertoires en :
- Limitant les droits d'acc√®s √† ces fichiers.
- Surveillant r√©guli√®rement et auditant ces r√©pertoires pour d√©tecter tout acc√®s non autoris√© ou des modifications inattendues.
- Utilisant le chiffrement pour les fichiers sensibles lorsque c'est possible.
- Sensibilisant les utilisateurs aux risques et aux meilleures pratiques pour manipuler de telles informations sensibles.

{% hint style="success" %}
Apprenez et pratiquez le piratage AWS :<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Formation HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Apprenez et pratiquez le piratage GCP : <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Formation HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Soutenez HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop)!
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
{% endhint %}
