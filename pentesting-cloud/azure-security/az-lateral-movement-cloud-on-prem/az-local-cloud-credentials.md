# Az - Plaaslike Cloud-legitimasie

{% hint style="success" %}
Leer & oefen AWS-hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Opleiding AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Leer & oefen GCP-hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Opleiding GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kontroleer die [**inskrywingsplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** 💬 [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>
{% endhint %}

## Plaaslike Tokenberging en Sekuriteitsoorwegings

### Azure CLI (Opdraglyn-inferface)

Tokens en sensitiewe data word plaaslik gestoor deur Azure CLI, wat sekuriteitskwessies veroorsaak:

1. **Toegangstokens**: Gestoor in teksformaat binne `accessTokens.json` wat geleë is by `C:\Users\<gebruikersnaam>\.Azure`.
2. **Intekeningsinligting**: `azureProfile.json`, in dieselfde gids, hou intekeningsbesonderhede.
3. **Loglêers**: Die `ErrorRecords`-gids binne `.azure` mag lêers bevat met blootgestelde legitimasie, soos:
- Uitgevoerde opdragte met ingeslote legitimasie.
- URL's wat met tokens besoek word, wat moontlik sensitiewe inligting kan blootstel.

### Azure PowerShell

Azure PowerShell stoor ook tokens en sensitiewe data, wat plaaslik toeganklik is:

1. **Toegangstokens**: `TokenCache.dat`, geleë by `C:\Users\<gebruikersnaam>\.Azure`, stoor toegangstokens in teksformaat.
2. **Diensprinsipaalgeheime**: Hierdie word onversleuteld gestoor in `AzureRmContext.json`.
3. **Tokenbergingfunksie**: Gebruikers het die vermoë om tokens te behou deur die `Save-AzContext`-opdrag te gebruik, wat versigtig gebruik moet word om ongemagtigde toegang te voorkom.

## Outomatiese Gereedskap om hulle te vind

* [**Winpeas**](https://github.com/carlospolop/PEASS-ng/tree/master/winPEAS/winPEASexe)
* [**Get-AzurePasswords.ps1**](https://github.com/NetSPI/MicroBurst/blob/master/AzureRM/Get-AzurePasswords.ps1)

## Sekuriteitsaanbevelings

Met die oog op die berging van sensitiewe data in teksformaat, is dit noodsaaklik om hierdie lêers en gids te beveilig deur:
- Beperking van toegangsregte tot hierdie lêers.
- Gereelde monitering en ouditering van hierdie gidse vir ongemagtigde toegang of onverwagte veranderinge.
- Versleuteling van sensitiewe lêers waar moontlik.
- Gebruikers te onderrig oor die risiko's en beste praktyke vir die hantering van sulke sensitiewe inligting.

{% hint style="success" %}
Leer & oefen AWS-hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Opleiding AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Leer & oefen GCP-hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Opleiding GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kontroleer die [**inskrywingsplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** 💬 [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>
{% endhint %}
