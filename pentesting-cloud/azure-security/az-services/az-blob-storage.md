# Az - Blob Storage

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Basic Information

[рдбреЙрдХреНрд╕ рд╕реЗ:](https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-overview) Azure Blob storage Microsoft рдХрд╛ object **storage solution for the cloud** рд╣реИред Blob storage рдХреЛ massive amounts of unstructured data рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП optimized рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред Unstructured data рд╡рд╣ рдбреЗрдЯрд╛ рд╣реИ рдЬреЛ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рдбреЗрдЯрд╛ рдореЙрдбрд▓ рдпрд╛ рдкрд░рд┐рднрд╛рд╖рд╛ рдХрд╛ рдкрд╛рд▓рди рдирд╣реАрдВ рдХрд░рддрд╛, рдЬреИрд╕реЗ рдХрд┐ рдЯреЗрдХреНрд╕реНрдЯ рдпрд╛ рдмрд╛рдЗрдирд░реА рдбреЗрдЯрд╛ред

Blob storage рддреАрди рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рдВрд╕рд╛рдзрди рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ:

* **storage account** (рдЕрджреНрд╡рд┐рддреАрдп рдирд╛рдо)
* storage account рдореЗрдВ рдПрдХ **container** (рдлреЛрд▓реНрдбрд░)
* рдПрдХ container рдореЗрдВ рдПрдХ **blob**

<figure><img src="../../../.gitbook/assets/image (114).png" alt=""><figcaption></figcaption></figure>

### рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ storage

| **Blob storage**                 | <p><code>https://&#x3C;storage-account>.blob.core.windows.net</code><br><br><code>https://&#x3C;stg-acc>.blob.core.windows.net/&#x3C;container-name>?restype=container&#x26;comp=list</code></p> |
| -------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Azure Data Lake Storage Gen2** | `https://<storage-account>.dfs.core.windows.net`                                                                                                                                                 |
| **Azure Files**                  | `https://<storage-account>.file.core.windows.net`                                                                                                                                                |
| **Queue storage**                | `https://<storage-account>.queue.core.windows.net`                                                                                                                                               |
| **Table storage**                | `https://<storage-account>.table.core.windows.net`                                                                                                                                               |

### Storage рддрдХ рдкрд╣реБрдВрдЪ <a href="#about-blob-storage" id="about-blob-storage"></a>

* Azure AD principals рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ **RBAC roles** рд╕рдорд░реНрдерд┐рддред
* **Access Keys**: storage account рдХреА access keys рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред рдпрд╣ storage account рддрдХ **рдкреВрд░реНрдг рдкрд╣реБрдВрдЪ** рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред
* **Shared Access Signature** (SAS): **рд╕рдордп** **рд╕реАрдорд┐рдд** рдФрд░ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЕрдиреБрдорддрд┐рдпрд╛рдБред
* рдЖрдк рдПрдХ SAS url рдПрдХ **access key** рдХреЗ рд╕рд╛рде рдЙрддреНрдкрдиреНрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓)ред
* рдЪреВрдВрдХрд┐ SAS access key рд╕реЗ рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИ, рдпрджрд┐ рдЗрд╕реЗ рдирд╡реАрдиреАрдХреГрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ SAS рдХрд╛рдо рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рджреЗрддрд╛ рд╣реИред

### Public Exposure

рдпрджрд┐ "Allow Blob public access" **рд╕рдХреНрд╖рдо** рд╣реИ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЕрдХреНрд╖рдо), рддреЛ рдпрд╣ рд╕рдВрднрд╡ рд╣реИ:

* **public access to read blobs** рджреЗрдВ (рдЖрдкрдХреЛ рдирд╛рдо рдЬрд╛рдирдирд╛ рд╣реЛрдЧрд╛)ред
* **List container blobs** рдФрд░ **рдЙрдиреНрд╣реЗрдВ рдкрдврд╝реЗрдВ**ред

### Storage рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ

рдпрджрд┐ рдЖрдкрдХреЛ рдХреЛрдИ **storage** рдорд┐рд▓рддреА рд╣реИ рдЬрд┐рд╕рд╕реЗ рдЖрдк рдХрдиреЗрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддреЛ рдЖрдк рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП [**Microsoft Azure Storage Explorer**](https://azure.microsoft.com/es-es/products/storage/storage-explorer/) рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

## SAS URLs

[рдбреЙрдХреНрд╕ рд╕реЗ:](https://learn.microsoft.com/en-us/azure/storage/common/storage-sas-overview) рдПрдХ shared access signature (SAS) рдЖрдкрдХреЗ storage account рдореЗрдВ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ рд╕реБрд░рдХреНрд╖рд┐рдд рдкреНрд░рддрд┐рдирд┐рдзрд┐ рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред рдПрдХ SAS рдХреЗ рд╕рд╛рде, рдЖрдкрдХреЗ рдкрд╛рд╕ рдпрд╣ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА рд╕реВрдХреНрд╖реНрдорддрд╛ рд╣реИ рдХрд┐ рдПрдХ рдХреНрд▓рд╛рдЗрдВрдЯ рдЖрдкрдХреЗ рдбреЗрдЯрд╛ рддрдХ рдХреИрд╕реЗ рдкрд╣реБрдВрдЪ рд╕рдХрддрд╛ рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП:

* рдХреМрди рд╕реЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ рдХреНрд▓рд╛рдЗрдВрдЯ рдкрд╣реБрдВрдЪ рд╕рдХрддрд╛ рд╣реИред
* рдЙрди рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдирдХреЗ рдкрд╛рд╕ рдХреНрдпрд╛ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реИрдВред
* SAS рдХрд┐рддрдиреЗ рд╕рдордп рддрдХ рдорд╛рдиреНрдп рд╣реИред

рдПрдХ SAS URL рдЗрд╕ рдкреНрд░рдХрд╛рд░ рджрд┐рдЦрддрд╛ рд╣реИ: **`https://<container_name>.blob.core.windows.net/newcontainer?sp=r&st=2021-09-26T18:15:21Z&se=2021-10-27T02:14:21Z&spr=https&sv=2021-07-08&sr=c&sig=7S%2BZySOgy4aA3Dk0V1cJyTSIf1cW%2Fu3WFkhHV32%2B4PE%3D`**

рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП [**Storage Explorer**](https://azure.microsoft.com/en-us/features/storage-explorer/) рдпрд╛ python рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ:

{% code overflow="wrap" %}
```python
#pip3 install azure-storage-blob
from azure.storage.blob import BlobServiceClient

# List containers
conn_str="<SAS URL>"
svc = BlobServiceClient.from_connection_string(conn_str=conn_str)
for c in svc.list_containers():
print(c['name'])

# List blobs inside the containers
container = svc.get_container_client(container=c['name'])

for b in container.list_blobs():
print(b['name'])


# Download all the blobs
blob_name = b['name'].split("/")[::-1][0]
blob = svc.get_blob_client(container=c['name'],blob=b['name'])
with open(blob_name,"wb") as f:
f.write(blob.download_blob().readall())
```
{% endcode %}

### User delegation SAS <a href="#user-delegation-sas" id="user-delegation-sas"></a>

рдЖрдк рдПрдХ рдХрдВрдЯреЗрдирд░, рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА, рдпрд╛ рдмреНрд▓реЙрдм рддрдХ рдкрд╣реБрдВрдЪ рдХреЗ рд▓рд┐рдП **рд╕рд╛рдЭрд╛ рдПрдХреНрд╕реЗрд╕ рд╕рд┐рдЧреНрдиреЗрдЪрд░ (SAS)** рдЯреЛрдХрди рдХреЛ Azure Active Directory (Azure AD) **рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдпрд╛ рдПрдХрд╛рдЙрдВрдЯ рдХреА** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдПрдХ рдпреВрдЬрд░ рдбреЗрд▓реАрдЧреЗрд╢рди SAS рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдкрд╣рд▓реЗ рдПрдХ **рдпреВрдЬрд░ рдбреЗрд▓реАрдЧреЗрд╢рди рдХреА** рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЬрд┐рд╕реЗ рдЖрдк рдлрд┐рд░ SAS рдкрд░ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред

**рдпреВрдЬрд░ рдбреЗрд▓реАрдЧреЗрд╢рди рд╕рд╛рдЭрд╛ рдПрдХреНрд╕реЗрд╕ рд╕рд┐рдЧреНрдиреЗрдЪрд░ (SAS)** рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди **Azure Blob Storage** рдФрд░ **Azure Data Lake Storage Gen2** рджреЛрдиреЛрдВ рдореЗрдВ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ **рд╕реНрдЯреЛрд░реНрдб рдПрдХреНрд╕реЗрд╕ рдкреЙрд▓рд┐рд╕реАрдЬ** рдпреВрдЬрд░ рдбреЗрд▓реАрдЧреЗрд╢рди SAS рдХреЗ рд╕рд╛рде рд╕рдВрдЧрдд рдирд╣реАрдВ рд╣реИрдВред

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпреВрдЬрд░ рдбреЗрд▓реАрдЧреЗрд╢рди SAS **рд╕реНрдЯреЛрд░реЗрдЬ рдПрдХрд╛рдЙрдВрдЯ рдХреАрдЬ рдХреЗ рдмрдЬрд╛рдп Azure AD рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХреЗ рд╕рд╛рде рд╕реБрд░рдХреНрд╖рд┐рдд** рд╣реИред рдпрд╣ рдХреНрд▓рд╛рдЗрдВрдЯреНрд╕/рдПрдкреНрд▓рд┐рдХреЗрд╢рдВрд╕ рдХреЛ SAS рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреЛрд░реЗрдЬ рдХреАрдЬ рдХреЛ рд╕реНрдЯреЛрд░/рд░рд┐рдЯреНрд░реАрд╡ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрддрд╛ рд╣реИред

### Service SAS

рдПрдХ рд╕рд░реНрд╡рд┐рд╕ SAS **рд╕реНрдЯреЛрд░реЗрдЬ рдПрдХрд╛рдЙрдВрдЯ рдХреА** рдХреЗ рд╕рд╛рде рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИред рдПрдХ рд╕рд░реНрд╡рд┐рд╕ SAS **Azure Storage рд╕реЗрд╡рд╛рдУрдВ рдореЗрдВ рд╕реЗ рдХреЗрд╡рд▓ рдПрдХ** рд╕рдВрд╕рд╛рдзрди рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рдбреЗрд▓реАрдЧреЗрдЯ рдХрд░рддрд╛ рд╣реИ: Blob storage, Queue storage, Table storage, рдпрд╛ Azure Filesред рдПрдХ рд╕рд░реНрд╡рд┐рд╕-рд▓реЗрд╡рд▓ SAS рдХреЗ рд▓рд┐рдП URI рдЙрд╕ рд╕рдВрд╕рд╛рдзрди рдХреЗ URI рд╕реЗ рдмрдирд╛ рд╣реЛрддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП SAS рдкрд╣реБрдВрдЪ рдХреЛ рдбреЗрд▓реАрдЧреЗрдЯ рдХрд░реЗрдЧрд╛, рдЗрд╕рдХреЗ рдмрд╛рдж SAS рдЯреЛрдХрди рд╣реЛрддрд╛ рд╣реИред

Azure Active Directory (Azure AD) рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ **рдХрдВрдЯреЗрдирд░** рдпрд╛ **рдмреНрд▓реЙрдм** рдХреЗ рд▓рд┐рдП SAS рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ **рдпреВрдЬрд░ рдбреЗрд▓реАрдЧреЗрд╢рди SAS** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред

### Account SAS

рдПрдХ рдПрдХрд╛рдЙрдВрдЯ SAS рджреЛ рдореЗрдВ рд╕реЗ рдПрдХ **рд╕реНрдЯреЛрд░реЗрдЬ рдПрдХрд╛рдЙрдВрдЯ рдХреАрдЬ** (2 рд╣реИрдВ) рдХреЗ рд╕рд╛рде рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИред рдПрдХ рдПрдХрд╛рдЙрдВрдЯ SAS рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рд╕реНрдЯреЛрд░реЗрдЬ рд╕реЗрд╡рд╛рдУрдВ рдореЗрдВ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рдбреЗрд▓реАрдЧреЗрдЯ рдХрд░рддрд╛ рд╣реИред рдПрдХ рд╕рд░реНрд╡рд┐рд╕ рдпрд╛ рдпреВрдЬрд░ рдбреЗрд▓реАрдЧреЗрд╢рди SAS рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдкрд▓рдмреНрдз рд╕рднреА рдСрдкрд░реЗрд╢рдВрд╕ рдПрдХ рдПрдХрд╛рдЙрдВрдЯ SAS рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рднреА рдЙрдкрд▓рдмреНрдз рд╣реИрдВред

[рдбреЙрдХреНрд╕ рд╕реЗ:](https://learn.microsoft.com/en-us/rest/api/storageservices/create-account-sas) рдПрдХ рдПрдХрд╛рдЙрдВрдЯ SAS рдмрдирд╛рдХрд░, рдЖрдк:

* рдЙрди рд╕рд░реНрд╡рд┐рд╕-рд▓реЗрд╡рд▓ рдСрдкрд░реЗрд╢рдВрд╕ рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рдбреЗрд▓реАрдЧреЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдПрдХ рд╕рд░реНрд╡рд┐рд╕-рд╡рд┐рд╢рд┐рд╖реНрдЯ SAS рдХреЗ рд╕рд╛рде рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ `Get/Set Service Properties` рдФрд░ `Get Service Stats` рдСрдкрд░реЗрд╢рдВрд╕ред
* рдПрдХ рд╕рдордп рдореЗрдВ рдПрдХ рд╕реНрдЯреЛрд░реЗрдЬ рдПрдХрд╛рдЙрдВрдЯ рдореЗрдВ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рд╕реЗрд╡рд╛ рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рдбреЗрд▓реАрдЧреЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк рдПрдХ рдПрдХрд╛рдЙрдВрдЯ SAS рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ Azure Blob Storage рдФрд░ Azure Files рджреЛрдиреЛрдВ рдореЗрдВ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рдбреЗрд▓реАрдЧреЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
* рдХрдВрдЯреЗрдирд░реНрд╕, рдХреНрд╡реАрдЬрд╝, рдЯреЗрдмрд▓реНрд╕, рдФрд░ рдлрд╛рдЗрд▓ рд╢реЗрдпрд░реЛрдВ рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦрдиреЗ рдФрд░ рд╣рдЯрд╛рдиреЗ рдХреЗ рдСрдкрд░реЗрд╢рдВрд╕ рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рдбреЗрд▓реАрдЧреЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдПрдХ рдСрдмреНрдЬреЗрдХреНрдЯ-рд╡рд┐рд╢рд┐рд╖реНрдЯ SAS рдХреЗ рд╕рд╛рде рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИрдВред
* рдПрдХ IP рдкрддрд╛ рдпрд╛ IP рдкрддреЛрдВ рдХреА рдПрдХ рд░реЗрдВрдЬ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕рд╕реЗ рдЕрдиреБрд░реЛрдз рд╕реНрд╡реАрдХрд╛рд░ рдХрд┐рдП рдЬрд╛рдПрдВрдЧреЗред
* HTTP рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕рд╕реЗ рдЕрдиреБрд░реЛрдз рд╕реНрд╡реАрдХрд╛рд░ рдХрд┐рдП рдЬрд╛рдПрдВрдЧреЗ (рдпрд╛ рддреЛ HTTPS рдпрд╛ HTTP/HTTPS)ред

## Enumeration

{% tabs %}
{% tab title="az cli" %}
{% code overflow="wrap" %}
```bash
# Get storage accounts
az storage account list #Get the account name from here

# Get keys to authenticate
az storage account keys list --account-name <name>

# Get shares
az storage share list --account-name <name> --account-key <key>

# Get dirs/files inside the share
az storage file list --account-name <name> --share-name <share-name> --account-key <key>
## If type is "dir", you can continue enumerationg files inside of it
az storage file list --account-name <name> --share-name <prev_dir/share-name> --account-key <key>

# Download a complete share (with directories and files inside of them)
az storage file download-batch -d . --source <share-name> --account-name <name> --account-key <key>
```
{% endcode %}
{% endtab %}

{% tab title="Az PowerShell" %}
{% code overflow="wrap" %}
```powershell
# Get storage accounts
Get-AzStorageAccount | fl
# Get rules to access the storage account
Get-AzStorageAccount | select -ExpandProperty NetworkRuleSet
# Get IPs
(Get-AzStorageAccount | select -ExpandProperty NetworkRuleSet).IPRules
# Get containers of a storage account
Get-AzStorageContainer -Context (Get-AzStorageAccount -name <NAME> -ResourceGroupName <NAME>).context
# Get blobs inside container
Get-AzStorageBlob -Container epbackup-planetary -Context (Get-AzStorageAccount -name <name> -ResourceGroupName <name>).context
# Get a blob from a container
Get-AzStorageBlobContent -Container <NAME> -Context (Get-AzStorageAccount -name <NAME> -ResourceGroupName <NAME>).context -Blob <blob_name> -Destination .\Desktop\filename.txt
```
{% endcode %}
{% endtab %}
{% endtabs %}

## рд╕рдВрджрд░реНрдн

* [https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-introduction](https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-introduction)
* [https://learn.microsoft.com/en-us/azure/storage/common/storage-sas-overview](https://learn.microsoft.com/en-us/azure/storage/common/storage-sas-overview)

{% hint style="success" %}
AWS Hacking рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХреЛ рд╕рдорд░реНрдерди рджреЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдУрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ!
* **ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**telegram рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ рд╣рдореЗрдВ **Twitter** ЁЯРж рдкрд░ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>
{% endhint %}
