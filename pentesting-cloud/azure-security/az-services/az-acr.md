# Az - ACR

{% hint style="success" %}
AWS Hacking öğrenin ve uygulayın: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Eğitim AWS Kırmızı Takım Uzmanı (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking öğrenin ve uygulayın: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Eğitim GCP Kırmızı Takım Uzmanı (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) katılın veya [**telegram grubuna**](https://t.me/peass) katılın veya bizi **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking püf noktalarını paylaşarak PR'ler göndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına katkıda bulunun.

</details>
{% endhint %}

## Temel Bilgiler

Azure Container Registry (ACR), **Docker konteyner görüntülerini ve diğer artefaktları depolamak ve yönetmek** için Microsoft Azure tarafından sağlanan bir yönetilen hizmettir. Entegre geliştirici araçları, coğrafi replikasyon, rol tabanlı erişim kontrolü ve görüntü tarama gibi güvenlik önlemleri gibi özellikler sunar, otomatik yapılandırmalar, web kancaları ve tetikleyiciler ve ağ izolasyonu. Docker CLI ve Kubernetes gibi popüler araçlarla çalışır ve diğer Azure hizmetleriyle iyi entegre olur.

### Numaralandırma

Hizmeti numaralandırmak için [**Get-AzACR.ps1**](https://github.com/NetSPI/MicroBurst/blob/master/Misc/Get-AzACR.ps1) betiğini kullanabilirsiniz:

{% code overflow="wrap" %}
```bash
# List Docker images inside the registry
IEX (New-Object Net.Webclient).downloadstring("https://raw.githubusercontent.com/NetSPI/MicroBurst/master/Misc/Get-AzACR.ps1")

Set-ItemProperty -Path "HKLM:\SOFTWARE\Microsoft\Internet Explorer\Main" -Name "DisableFirstRunCustomize" -Value 2

Get-AzACR -username <username> -password <password> -registry <corp-name>.azurecr.io
```
{% endcode %}

{% tabs %}
{% tab title="az cli" %} 

## Azure Container Registry (ACR)

Azure Container Registry (ACR), Azure'da Docker görüntülerini depolamak ve yönetmek için kullanılan bir hizmettir. ACR, güvenli bir şekilde Docker görüntülerini depolamak için özel bir Docker Registry sağlar. ACR'yi kullanarak, Docker görüntülerinizi Azure bulutunda kolayca dağıtabilir ve güncelleyebilirsiniz. ACR, görüntü depolama, güvenlik, erişim kontrolü ve görüntü yönetimi gibi özellikler sunar. ACR, Docker CLI, Docker Compose veya Kubernetes gibi araçlarla entegre edilebilir. 

ACR'yi oluşturmak için aşağıdaki az acr create komutunu kullanabilirsiniz:

```bash
az acr create --name MyAcr --resource-group MyResourceGroup --sku Basic
```

Bu komut, "MyAcr" adında bir Azure Container Registry oluşturur ve "MyResourceGroup" adlı kaynak grubunda barındırır. ACR'nin SKU'su "Basic" olarak belirlenmiştir. ACR oluşturulduktan sonra, Docker görüntülerinizi ACR'ye yükleyebilir ve gerektiğinde kullanabilirsiniz. 

ACR hakkında daha fazla bilgi için [Azure Container Registry belgelerine](https://docs.microsoft.com/azure/container-registry/) göz atabilirsiniz. 

{% endtab %}
```bash
az acr list --output table
az acr show --name MyRegistry --resource-group MyResourceGroup
```
{% endtab %}

{% tab title="Az Powershell" %} 

Azure Container Registry (ACR) PowerShell modülü, Azure Container Registry ile etkileşimde bulunmak için kullanılır. Bu modül, ACR kaynaklarını yönetmek için çeşitli cmdlet'ler sağlar.

ACR modülünü yüklemek için aşağıdaki komutu kullanabilirsiniz:

```powershell
Install-Module -Name Az -AllowClobber -Scope CurrentUser -Repository PSGallery
Install-Module -Name Az.ContainerRegistry -AllowClobber -Scope CurrentUser -Repository PSGallery
```

ACR modülünü içe aktarmak için aşağıdaki komutu kullanabilirsiniz:

```powershell
Import-Module Az.ContainerRegistry
```

ACR modülü ile ACR kaynaklarını yönetmek için kullanabileceğiniz bazı yaygın cmdlet'ler şunlardır:

- `Get-AzContainerRegistry`: Tüm ACR kaynaklarını listeler.
- `New-AzContainerRegistry`: Yeni bir ACR oluşturur.
- `Remove-AzContainerRegistry`: Belirtilen ACR'yi kaldırır.
- `Set-AzContainerRegistry`: ACR yapılandırmasını günceller.

Bu cmdlet'ler sayesinde ACR kaynaklarını kolayca yönetebilirsiniz. 

{% endtab %}
```powershell
# List all ACRs in your subscription
Get-AzContainerRegistry

# Get a specific ACR
Get-AzContainerRegistry -ResourceGroupName "MyResourceGroup" -Name "MyRegistry"
```
{% endtab %}
{% endtabs %}

Giriş yapın ve kayıttan çekin
```bash
docker login <corp-name>.azurecr.io --username <username> --password <password>
docker pull <corp-name>.azurecr.io/<image>:<tag>
```
{% hint style="success" %}
AWS Hacking'i öğrenin ve uygulayın: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Eğitim AWS Kırmızı Takım Uzmanı (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking'i öğrenin ve uygulayın: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Eğitim GCP Kırmızı Takım Uzmanı (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) katılın veya [**telegram grubuna**](https://t.me/peass) katılın veya bizi **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking püf noktalarını paylaşarak PR göndererek HackTricks ve HackTricks Cloud github depolarına katkıda bulunun.**

</details>
{% endhint %}
