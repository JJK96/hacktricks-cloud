# AWS - рд╕реНрдЯреЗрдк рдлрдВрдХреНрд╢рдиреНрд╕ рдПрдиреБрдо

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдЕрдЧрд░ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рд╣реЛ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕ рджреЗрдЦреЗрдВ**](https://github.com/sponsors/carlospolop)!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>

## рд╕реНрдЯреЗрдк рдлрдВрдХреНрд╢рдиреНрд╕

AWS рд╕реНрдЯреЗрдк рдлрдВрдХреНрд╢рдиреНрд╕ рдПрдХ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рд╕реЗрд╡рд╛ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рдПрдХ рд╕рд░реНрд╡рд░рд▓реЗрд╕ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдореЗрдВ рдХрдИ AWS рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рд╕рдордиреНрд╡рд┐рдд рдФрд░ рдЖрд░реНрдХреЗрд╕реНрдЯреНрд░реЗрдЯ рдХрд░рдиреЗ рдХреА рд╕рдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред AWS рд╕реНрдЯреЗрдк рдлрдВрдХреНрд╢рдиреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЖрдк рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╡рд╣ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ AWS рд▓реИрдореНрдмрдбрд╛, рдЕрдореЗрдЬрд╝рди рдПрд╕ 3, рдЕрдореЗрдЬрд╝рди рдбрд╛рдЗрдирд╛рдореЛрдбреАрдмреА рдФрд░ рдмрд╣реБрдд рд╕реА рдЕрдиреНрдп рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдПрдХ рдХреНрд░рдо рдореЗрдВ рдЪрд▓рд╛рддреЗ рд╣реИрдВред рдпрд╣ рдЖрд░реНрдХреЗрд╕реНрдЯреНрд░реЗрд╢рди рд╕реЗрд╡рд╛ рдПрдХ рджреГрд╢реНрдпрд╛рддреНрдордХ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИ рдФрд░ **рд╕реНрдЯреЗрдЯ рдорд╢реАрди** рдХреНрд╖рдорддрд╛рдПрдБ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рдкреНрд░рддреНрдпреЗрдХ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХрд╛ рдкреНрд░рддреНрдпреЗрдХ рдХрджрдо рдПрдХ рдШреЛрд╖рдгрд╛рддреНрдордХ рддрд░реАрдХреЗ рд╕реЗ JSON рдЖрдзрд╛рд░рд┐рдд **рдЕрдореЗрдЬрд╝рди рд╕реНрдЯреЗрдЯреНрд╕ рднрд╛рд╖рд╛** (ASL) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред

AWS рд╕реНрдЯреЗрдк рдлрдВрдХреНрд╢рдиреНрд╕ рджреНрд╡рд╛рд░рд╛ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдврд╛рдВрдЪреЗ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдХреЗ, рдкреБрди: рдкреНрд░рдпрд╛рд╕, рддреНрд░реБрдЯрд┐рдпрд╛рдБ рдФрд░ рд╕рдорд╡рд░реНрддреА рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕рдВрднрд╛рд▓рдХрд░, рдЖрдкрдХреЛ рдкреНрд░рддрд┐рд╖реНрдард╛рди рдФрд░ рд╕реНрдХреЗрд▓реЗрдмрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рддрд╛ рд╣реИред рдпрд╣ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧреА рд╣реИ рдЬрдм рдПрдХрджрдо рдмрд╣реБрдд рд╕рд╛рд░реЗ рдХрджрдо рдФрд░ рдирд┐рд░реНрдгрдп рдмрд┐рдВрджреБрдУрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрдЯрд┐рд▓ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЖрд╕рд╛рдиреА рд╕реЗ рдбреЗрдЯрд╛ рдФрд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╕реНрдерд┐рддрд┐ рдХрд╛ рдкреНрд░рд╡рд╛рд╣ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕ рд╕реЗрд╡рд╛ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдореБрдЦреНрдп рдЙрдкрдпреЛрдЧ рдорд╛рдорд▓реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╣реЛрддреЗ рд╣реИрдВ:

- **рдбреЗрдЯрд╛ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг**: рдлрд╝рд╛рдЗрд▓, рд╡реАрдбрд┐рдпреЛ рдФрд░ рдЫрд╡рд┐ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг; рдирд┐рдХрд╛рд▓рдирд╛, рдкрд░рд┐рд╡рд░реНрддрди рдФрд░ рднрд╛рд░ (ETL) рдХрд╛ рдХрд╛рдо; рдФрд░ рдмреИрдЪ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рдЙрдЪреНрдЪ рдкреНрд░рджрд░реНрд╢рди рдЧрдгрдирд╛ (HPC) рд▓реЛрдбред
- **рдорд╢реАрди рд▓рд░реНрдирд┐рдВрдЧ**: рдзреЛрдЦрд╛рдзрдбрд╝реА рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдирд╛, рдЕрдиреБрдХреВрд▓рди, рд╕рд┐рдлрд╛рд░рд┐рд╢ рдФрд░ рдбреЗрдЯрд╛ рд╕рдореГрджреНрдзрд┐ред
- **рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдЖрд░реНрдХреЗрд╕реНрдЯреНрд░реЗрд╢рди**: рд╕рдордХрд╛рд▓рд┐рдХ рдпрд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдФрд░ рдХрдВрдЯреЗрдирд░ рдЖрд░реНрдХреЗрд╕реНрдЯреНрд░реЗрд╢рдиред
- **рдЖрдИрдЯреА рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рд╕реНрд╡рдЪрд╛рд▓рди**: рд╕реНрд╡рдЪрд╛рд▓рди, рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛; рдФрд░ рдорд╛рдирд╡ рд╕реНрд╡реАрдХреГрддрд┐ рдФрд░ рдЙрдиреНрдирддрд┐ред

## рдореБрдЦреНрдп рдЕрд╡рдзрд╛рд░рдгрд╛рдПрдБ

### рдорд╛рдирдХ рдмрдирд╛рдо рдПрдХреНрд╕рдкреНрд░реЗрд╕ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ

AWS рд╕реНрдЯреЗрдк рдлрдВрдХреНрд╢рдиреНрд╕ рджреЛ рдкреНрд░рдХрд╛рд░ рдХреЗ **рд╕реНрдЯреЗрдЯ рдорд╢реАрди рд╡рд░реНрдХрдлрд╝реНрд▓реЛ** рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ: рдорд╛рдирдХ рдФрд░ рдПрдХреНрд╕рдкреНрд░реЗрд╕ред

- **рдорд╛рдирдХ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ**: рдпрд╣ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдкреНрд░рдХрд╛рд░ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЪрд▓рдиреЗ рд╡рд╛рд▓реЗ, рдЯрд┐рдХрд╛рдК рдФрд░ рдкрд░реАрдХреНрд╖рдгреАрдп рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдпрд╣ **рдХреЗрд╡рд▓ рдПрдХ рдмрд╛рд░ рдХрд╛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди** рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХрд╛рд░реНрдп рдХреЗрд╡рд▓ рдПрдХ рдмрд╛рд░ рд╣реА рдЪрд▓рддреЗ рд╣реИрдВ рдЬрдм рддрдХ рдкреБрди: рдкреНрд░рдпрд╛рд╕ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд╣реАрдВ рд╣реИрдВред рдпрд╣ рд╡рд┐рд╕реНрддреГрдд рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рдЗрддрд┐рд╣рд╛рд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╡рд╛рд▓реЗ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХреЗ рд▓рд┐рдП рдЖрджрд░реНрд╢ рд╣реИ рдФрд░ рдПрдХ рд╡рд░реНрд╖ рддрдХ рдЪрд▓ рд╕рдХрддрд╛ рд╣реИред
- **рдПрдХреНрд╕рдкреНрд░реЗрд╕ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ**: рдпрд╣ рдкреНрд░рдХрд╛рд░ рдЙрдЪреНрдЪ рдорд╛рддреНрд░рд╛, рдЫреЛрдЯреЗ рдЕрд╡рдзрд┐ рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрджрд░реНрд╢ рд╣реИ, рдЬреЛ рдкрд╛рдВрдЪ рдорд┐рдирдЯ рддрдХ рдЪрд▓ рд╕рдХрддреЗ рд╣реИрдВред рдпреЗ **рдХрдо рд╕реЗ рдХрдо рдПрдХ рдмрд╛рд░ рдХрд╛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди** рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдбреЗрдЯрд╛ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдЬреИрд╕реЗ рдЖрдЗрдбреЗрдореНрдкреЛрдЯреЗрдВрдЯ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИрдВред рдпреЗ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рд▓рд╛рдЧрдд рдФрд░ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рд┐рдд рд╣реИрдВ, рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди, рдЕрд╡рдзрд┐ рдФрд░ рдореЗрдореЛрд░реА рдЙрдкрдпреЛрдЧ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╢реБрд▓реНрдХ рд▓реЗрддреЗ рд╣реИрдВред

### рд╕реНрдЯреЗрдЯреНрд╕

рд╕реНрдЯреЗрдЯреНрд╕ рд╕реНрдЯреЗрдЯ рдорд╢реАрдиреЛрдВ рдХреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЗрдХрд╛рдЗрдпрд╛рдБ рд╣реИрдВред рд╡реЗ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХреЗ рднреАрддрд░ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдХрджрдореЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ рдЙрд╕рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╡рд┐рднрд┐рдиреНрди рдХрд╛рд░реНрдпреЛрдВ рдХрд╛ рдирд┐рд░реНрд╡рд╛рдЪрди рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрддреА рд╣реИ:

- **рдХрд╛рд░реНрдп:** рдПрдХ рдиреМрдХрд░реА рдХрд╛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рдХрд░рддрд╛ рд╣реИ, рдЕрдХреНрд╕рд░ рдЕрдореЗрдЬрд╝рди рдПрд╕ 3 рдЬреИрд╕реА AWS рд╕реЗрд╡рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдПред
- **рд╡рд┐рдХрд▓реНрдк:** рдЗрдирдкреБрдЯ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдирд┐рд░реНрдгрдп рд▓реЗрддрд╛ рд╣реИред
- **рд╡рд┐рдлрд▓/рд╕рдлрд▓:** рдПрдХ рд╡рд┐рдлрд▓рддрд╛ рдпрд╛ рд╕рдлрд▓рддрд╛ рдХреЗ рд╕рд╛рде рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рд╕рдорд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред
- **рдкрд╛рд╕:** рдЗрдирдкреБрдЯ рдХреЛ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ рдкрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдпрд╛ рдбреЗрдЯрд╛ рдбрд╛рд▓рддрд╛ рд╣реИред
- **рдЗрдВрддрдЬрд╛рд░:** рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╕рдордп рдХреЗ рд▓рд┐рдП рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рдХреЛ рд╡рд┐рд▓рдВрдмрд┐рдд рдХрд░рддрд╛ рд╣реИред
- **рд╕рдорд╡рд░реНрддреА:** рд╕рдордХрд╛рд▓рд┐рдХ рд╢рд╛рдЦрд╛рдПрдБ рдкреНрд░рд╛рд░рдВрдн рдХрд░рддрд╛ рд╣реИред
- **рдореИрдк:** рд╡рд╕реНрддреБрдУрдВ рдкрд░ рдЪрд░рдгреЛрдВ рдХреЛ рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рджреЛрд╣рд░рд╛рддрд╛ рд╣реИред

### рдХрд╛рд░реНрдп

рдПрдХ **рдХрд╛рд░реНрдп** рд╕реНрдЯреЗрдЯ рдПрдХ рд╕реНрдЯреЗрдЯ рдорд╢реАрди рджреНрд╡рд╛рд░рд╛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рд┐рдд рдПрдХрд▓ рдХрд╛рд░реНрдп рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддрд╛ рд╣реИред рдХрд╛рд░реНрдп рд╡рд┐рднрд┐рдиреНрди рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ рд▓реИрдореНрдмрдбрд╛ рдлрд╝рдВрдХреНрд╢рди, AWS рд╕реЗрд╡рд╛рдПрдБ рдпрд╛ рдерд░реНрдб рдкрд╛рд░реНрдЯреА рдПрдкреАрдЖрдИ рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред

- **рдХреНрд░рд┐рдпрд╛рдПрдБ**: рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд╕реНрдЯрдо рд╡рд░реНрдХрд░реНрд╕, рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЪрд▓рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрддред
- рд╕рдВрд╕рд╛рдзрди: **`arn:aws:states:рдХреНрд╖реЗрддреНрд░:рдЦрд╛рддрд╛:рдХреНрд░рд┐рдпрд╛:рдирд╛рдо`**ред
- **рд▓реИрдореНрдмрдбрд╛ рдлрд╝рдВрдХреНрд╢рдиреНрд╕**: AWS рд▓реИрдореНрдмрдбрд╛ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рдХрд░рддрд╛ рд╣реИред
- рд╕рдВрд╕рд╛рдзрди: **`arn:aws:lambda:рдХреНрд╖реЗрддреНрд░:рдЦрд╛рддрд╛:рдХрд╛рд░реНрдп:рдХрд╛рд░реНрдп-рдирд╛рдо`**ред
- **AWS рд╕реЗрд╡рд╛рдПрдБ**: рдЕрдиреНрдп AWS рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╕реАрдзреЗ рдПрдХреАрдХрд░рдг, рдЬреИрд╕реЗ рдбрд╛рдЗрдирд╛рдореЛрдбреАрдмреА рдпрд╛ рдПрд╕ 3ред
- рд╕рдВрд╕рд╛рдзрди: **`arn:рд╡рд┐рднрд╛рдЬрди:states:рдХреНрд╖реЗрддреНрд░:рдЦрд╛рддрд╛:рд╕реЗрд╡рд╛рдирд╛рдо:APIрдирд╛рдо`**ред
- **рдП
```json
"HelloWorld": {
"Type": "Task",
"Resource": "arn:aws:states:::lambda:invoke",
"Parameters": {
"Payload.$": "$",
"FunctionName": "arn:aws:lambda:<region>:<account-id>:function:HelloWorld"
},
"End": true
}
```
### рд╡рд┐рдХрд▓реНрдк

рдПрдХ **Choice** рд╕реНрдерд┐рддрд┐ рдПрдХ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдореЗрдВ рд╢рд░реНрддрд╛рдзрд╛рд░рд┐рдд рддрд░реНрдХ рдЬреЛрдбрд╝рддреА рд╣реИ, рдЗрдирдкреБрдЯ рдбреЗрдЯрд╛ рдкрд░ рдирд┐рд░реНрдгрдп рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╢рд░реНрддреЛрдВ рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рддреА рд╣реИ рдФрд░ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕рдВрдмрдВрдзрд┐рдд рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рд╣реЛрддреА рд╣реИред

- **рддреБрд▓рдирд╛**: рдкреНрд░рддреНрдпреЗрдХ рд╡рд┐рдХрд▓реНрдк рдирд┐рдпрдо рдореЗрдВ рдПрдХ рддреБрд▓рдирд╛ рдСрдкрд░реЗрдЯрд░ рд╢рд╛рдорд┐рд▓ рд╣реИ (рдЬреИрд╕реЗ, **`NumericEquals`**, **`StringEquals`**) рдЬреЛ рдПрдХ рдЗрдирдкреБрдЯ рдЪрд░ рдХреЛ рдПрдХ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдорд╛рди рдпрд╛ рджреВрд╕рд░реЗ рдЪрд░ рд╕реЗ рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИред
- **рдЕрдЧрд▓рд╛ рдлрд╝реАрд▓реНрдб**: рд╡рд┐рдХрд▓реНрдк рд╕реНрдерд┐рддрд┐рдпрд╛рдБ **`End`** рдлрд╝реАрд▓реНрдб рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддреА рд╣реИрдВ, рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рд╡реЗ рдпрд╣ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреА рд╣реИрдВ рдХрд┐ рдпрджрд┐ рддреБрд▓рдирд╛ рд╕рддреНрдп рд╣реИ рддреЛ рдХрд┐рд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рд╣реЛрдирд╛ рд╣реИред

**Choice** рд╕реНрдерд┐рддрд┐ рдХрд╛ рдЙрджрд╛рд╣рд░рдг:
```json
{
"Variable": "$.timeStamp",
"TimestampEquals": "2000-01-01T00:00:00Z",
"Next": "TimeState"
}
```
### рд╡рд┐рдлрд▓/рд╕рдлрд▓

**`рд╡рд┐рдлрд▓`** рд╕реНрдерд┐рддрд┐ рдПрдХ рд╕реНрдЯреЗрдЯ рдорд╢реАрди рдХрд╛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рд░реЛрдХ рджреЗрддреА рд╣реИ рдФрд░ рдЗрд╕реЗ рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░рддреА рд╣реИред рдпрд╣ рдПрдХ рддреНрд░реБрдЯрд┐ рдирд╛рдо рдФрд░ рдХрд╛рд░рдг рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИ, рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╡рд┐рд╡рд░рдг рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред рдпрд╣ рд╕реНрдерд┐рддрд┐ рдЯрд░реНрдорд┐рдирд▓ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдпрд╣ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рдлреНрд▓реЛ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░ рджреЗрддреА рд╣реИред

**`рд╕рдлрд▓`** рд╕реНрдерд┐рддрд┐ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рдХреЛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд░реЛрдХ рджреЗрддреА рд╣реИред рдпрд╣ рд╕рд╛рдорд╛рдиреНрдпрдд: рдЙрд╕ рд╕рдордп рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рдХрд╛рд░реНрдпрдкреНрд░рдгрд╛рд▓реА рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдкреВрд░реА рд╣реЛ рдЬрд╛рддреА рд╣реИред рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдХреЛ **`Next`** рдлреАрд▓реНрдб рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред

{% tabs %}

{% tab title="рд╡рд┐рдлрд▓ рдЙрджрд╛рд╣рд░рдг" %}
```json
"FailState": {
"Type": "Fail",
"Error": "ErrorName",
"Cause": "Error details"
}
```
{% endtab %}

{% tab title="рдЙрджрд╛рд╣рд░рдг рд╕рдлрд▓рддрд╛" %}
```json
"SuccessState": {
"Type": "Succeed"
}
```
### рдкрд╛рд╕

рдПрдХ **рдкрд╛рд╕** рд╕реНрдерд┐рддрд┐ рдЕрдкрдирд╛ рдЗрдирдкреБрдЯ рдЕрдкрдиреЗ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ рдпрд╛ рддреЛ рдХрд┐рд╕реА рдХрд╛рдо рдХреЗ рдмрд┐рдирд╛ рдкрд╛рд╕ рдХрд░рддреА рд╣реИ рдпрд╛ рдлрд┐рд░ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ JSON рд╕реНрдерд┐рддрд┐ рдЗрдирдкреБрдЯ рдХреЛ рдмрджрд▓рддреА рд╣реИ, рдФрд░ рдлрд┐рд░ рдмрджрд▓реЗ рдЧрдП рдбреЗрдЯрд╛ рдХреЛ рдЕрдЧрд▓реА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдкрд╛рд╕ рдХрд░рддреА рд╣реИред рдпрд╣ рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдФрд░ рд╕реНрдерд┐рддрд┐ рдорд╢реАрди рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЖрдк рд╕реНрдерд┐рд░ рдбреЗрдЯрд╛ рдХреЛ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдЙрд╕реЗ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред
```json
"PassState": {
"Type": "Pass",
"Result": {"key": "value"},
"ResultPath": "$.newField",
"Next": "NextState"
}
```
### рдЗрдВрддрдЬрд╛рд░

**рдЗрдВрддрдЬрд╛рд░** рд╕реНрдерд┐рддрд┐ рд░рд╛рдЬреНрдп рдорд╢реАрди рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдЕрд╡рдзрд┐ рдХреЗ рд▓рд┐рдП рд╡рд┐рд▓рдВрдмрд┐рдд рдХрд░рддреА рд╣реИред рдЗрдВрддрдЬрд╛рд░ рд╕рдордп рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреАрди рдкреНрд░рдореБрдЦ рд╡рд┐рдзрд┐рдпрд╛рдБ рд╣реИрдВ:

- **X рд╕реЗрдХрдВрдбреНрд╕**: рдЗрдВрддрдЬрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╕реЗрдХрдВрдбреНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ред

```json
"WaitState": {
"Type": "Wait",
"Seconds": 10,
"Next": "NextState"
}
```

- **рдирд┐рд░рдкреЗрдХреНрд╖ рд╕рдордпрдЪрд┐рд╣реНрди**: рдЗрдВрддрдЬрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдЯреАрдХ рд╕рдордпред

```json
"WaitState": {
"Type": "Wait",
"Timestamp": "2024-03-14T01:59:00Z",
"Next": "NextState"
}
```

- **рдЧрддрд┐рд╢реАрд▓ рдЗрдВрддрдЬрд╛рд░**: **`SecondsPath`** рдпрд╛ **`TimestampPath`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрдирдкреБрдЯ рдкрд░ рдЖрдзрд╛рд░рд┐рддред

```json
jsonCopy code
"WaitState": {
"Type": "Wait",
"TimestampPath": "$.expirydate",
"Next": "NextState"
}
```


### рд╕рдорд╡рд░реНрддреА

**рд╕рдорд╡рд░реНрддреА** рд╕реНрдерд┐рддрд┐ рдЖрдкрдХреЛ рдЕрдкрдиреА рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдореЗрдВ рдХрдИ рд╢рд╛рдЦрд╛рдУрдВ рдХрд╛ рдХрд╛рд░реНрдп рд╕рдорд╡рд░реНрддреА рд░реВрдк рд╕реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред рдкреНрд░рддреНрдпреЗрдХ рд╢рд╛рдЦрд╛ рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рдЪрд▓рддреА рд╣реИ рдФрд░ рдЕрдкрдиреА рдЕрдкрдиреА рд░рд╛рдЬреНрдпреЛрдВ рдХреА рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХрд╛ рдкреНрд░рдХреНрд░рд┐рдпрдг рдХрд░рддреА рд╣реИред рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╕рднреА рд╢рд╛рдЦрд╛рдПрдБ рдкреВрд░реА рд╣реЛрдиреЗ рддрдХ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░рддрд╛ рд╣реИ рдкрд╣рд▓реЗ рд╕реЗ рдЕрдЧрд▓реЗ рд░рд╛рдЬреНрдп рдореЗрдВ рдмрдврд╝рдиреЗ рд╕реЗред рдЗрд╕рдХреЗ рдореБрдЦреНрдп рдХреНрд╖реЗрддреНрд░ рд╣реИрдВ:

- **рд╢рд╛рдЦрд╛рдПрдБ**: рд╕рдорд╡рд░реНрддреА рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкрдереЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдПрдХ рдЕреИрд░реЗред рдкреНрд░рддреНрдпреЗрдХ рд╢рд╛рдЦрд╛ рдПрдХ рдЕрд▓рдЧ рд╕реНрдерд┐рддрд┐ рдорд╢реАрди рд╣реИред
- **рдкрд░рд┐рдгрд╛рдо рдкрде**: рд╢рд╛рдЦрд╛рдУрдВ рдХреЗ рд╕рдВрдпреБрдХреНрдд рдЙрддреНрдкрд╛рджрди рдХреЛ рдХрд╣рд╛рдБ (рдЗрдирдкреБрдЯ рдореЗрдВ) рд░рдЦрдиреЗ рдХрд╛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИред
- **рдкреБрди: рдкреНрд░рдпрд╛рд╕ рдФрд░ рдкрдХрдбрд╝реЗрдВ**: рд╕рдорд╡рд░реНрддреА рд╕реНрдерд┐рддрд┐ рдХреЗ рд▓рд┐рдП рддреНрд░реБрдЯрд┐ рд╕рдВрдЪрд╛рд▓рди рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рдиред
```json
"ParallelState": {
"Type": "Parallel",
"Branches": [
{
"StartAt": "Task1",
"States": { ... }
},
{
"StartAt": "Task2",
"States": { ... }
}
],
"Next": "NextState"
}
```
### рдорд╛рдирдЪрд┐рддреНрд░

**рдорд╛рдирдЪрд┐рддреНрд░** рд░рд╛рдЬреНрдп рдПрдХ рдбреЗрдЯрд╛рд╕реЗрдЯ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рдЖрдЗрдЯрдо рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реЗрдЯ рдХреЗ рдХрджрдореЛрдВ рдХрд╛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рд╕рдВрднрд╛рд╡рд┐рдд рдмрдирд╛рддрд╛ рд╣реИред рдпрд╣ рдбреЗрдЯрд╛рдХреЛ рдкреИрд░рд▓рд▓ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдбреЗрдЯрд╛рд╕реЗрдЯ рдХреЗ рдЖрдЗрдЯрдореЛрдВ рдХреЛ рдХреИрд╕реЗ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЗрд╕ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ, рд╕реНрдЯреЗрдк рдлрдВрдХреНрд╢рдиреНрд╕ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдореЛрдб рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ:

- **рдЗрдирд▓рд╛рдЗрди рдореЛрдб**: рдкреНрд░рддреНрдпреЗрдХ JSON рдПрд░реЗ рдЖрдЗрдЯрдо рдХреЗ рд▓рд┐рдП рдХреБрдЫ рд░рд╛рдЬреНрдпреЛрдВ рдХрд╛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рдХрд░рддрд╛ рд╣реИред 40 рд╕реЗ рдХрдо рдкреИрд░рд▓рд▓ рдЗрдЯрд░реЗрд╢рди рд╡рд╛рд▓реЗ рдЫреЛрдЯреЗ рдкреИрдорд╛рдиреЗ рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИ, рдЬреЛ рдХрд┐ **`Map`** рд░рд╛рдЬреНрдп рдХреЛ рд╕рдорд╛рд╡реЗрд╢ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рдХреЛ рдЪрд▓рд╛рддрд╛ рд╣реИред

```json
"MapState": {
"Type": "Map",
"ItemsPath": "$.arrayItems",
"ItemProcessor": {
"ProcessorConfig": {
"Mode": "INLINE"
},
"StartAt": "AddState",
"States": {
"AddState": {
"Type": "Task",
"Resource": "arn:aws:states:::lambda:invoke",
"OutputPath": "$.Payload",
"Parameters": {
"FunctionName": "arn:aws:lambda:<region>:<account-id>:function:add-function"
},
"End": true
}
}
},
"End": true
"ResultPath": "$.detail.added",
"ItemsPath": "$.added"
}
```

- **рд╡рд┐рддрд░рд┐рдд рдореЛрдб**: рдЙрдЪреНрдЪ рд╕рдВрд╡рд░реНрдзрдирд╛ рдХреЗ рд╕рд╛рде рдмрдбрд╝реЗ рдкреИрд░рд▓рд▓ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЕрдореЗрдЬрд╝рди рдПрд╕ 3 рдореЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдЬреИрд╕реЗ рдмрдбрд╝реЗ рдбреЗрдЯрд╛рд╕реЗрдЯ рдХреЛ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░рдиреЗ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдЙрдЪреНрдЪ рд╕рдВрд╡рд░реНрдзрдирд╛ рдХреЗ рд╕рд╛рде 10,000 рдкреИрд░рд▓рд▓ рдЪрд╛рдЗрд▓реНрдб рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдПрдХреНрдЬреАрдХреНрдпреВрд╢рди рдХреЛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рдЗрди рдЪрд╛рдЗрд▓реНрдб рдХреЛ рдПрдХ рдЕрд▓рдЧ рдЪрд╛рдЗрд▓реНрдб рдПрдХреНрдЬреАрдХреНрдпреВрд╢рди рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓рд╛рддрд╛ рд╣реИред

```json
"DistributedMapState": {
"Type": "Map",
"ItemReader": {
"Resource": "arn:aws:states:::s3:getObject",
"Parameters": {
"Bucket": "my-bucket",
"Key": "data.csv"
}
},
"ItemProcessor": {
"ProcessorConfig": {
"Mode": "DISTRIBUTED",
"ExecutionType": "EXPRESS"
},
"StartAt": "ProcessItem",
"States": {
"ProcessItem": {
"Type": "Task",
"Resource": "arn:aws:lambda:region:account-id:function:my-function",
"End": true
}
}
},
"End": true
"ResultWriter": {
"Resource": "arn:aws:states:::s3:putObject",
"Parameters": {
"Bucket": "myOutputBucket",
"Prefix": "csvProcessJobs"
}
}
}
```


### рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рдЙрдкрдирд╛рдо

рд╕реНрдЯреЗрдк рдлрдВрдХреНрд╢рдиреНрд╕ рдЖрдкрдХреЛ рд░рд╛рдЬреНрдп рдорд╢реАрдиреЛрдВ рдХреЗ **рд╕рдВрд╕реНрдХрд░рдг** рдФрд░ **рдЙрдкрдирд╛рдо** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред рдПрдХ рд╕рдВрд╕реНрдХрд░рдг рдПрдХ рд░рд╛рдЬреНрдп рдорд╢реАрди рдХрд╛ рдПрдХ рд╕реНрдиреИрдкрд╢реЙрдЯ рдкреНрд░рд╕реНрддреБрдд рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЙрдкрдирд╛рдо рдПрдХ рд╕реНрдЯреЗрдЯ рдорд╢реАрди рдХреЗ рджреЛ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдкреЙрдЗрдВрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред

- **рд╕рдВрд╕реНрдХрд░рдг**: рдпреЗ рдПрдХ рд░рд╛рдЬреНрдп рдорд╢реАрди рдХреЗ рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд╕реНрдиреИрдкрд╢реЙрдЯ рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ рдЙрд╕ рд░рд╛рдЬреНрдп рдорд╢реАрди рдХреЗ рд╕рдмрд╕реЗ рд╣рд╛рд▓ рдХреЗ рд╕рдВрд╢реЛрдзрди рд╕реЗ рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВред рдкреНрд░рддреНрдпреЗрдХ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп рдПрдЖрд░рдПрди рджреНрд╡рд╛рд░рд╛ рдкрд╣рдЪрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рд░рд╛рдЬреНрдп рдорд╢реАрди рдПрдЖрд░рдПрди рдХреЛ рд╕рдВрд╕реНрдХрд░рдг рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рдХрд░ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдХреЛрд▓рди рджреНрд╡рд╛рд░рд╛ рдЕрд▓рдЧ рд╣реЛрддрд╛ рд╣реИ (**`arn:aws:states:region:account-id:stateMachine:StateMachineName:version-number`**). рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЛ рд╕рдВрдкрд╛рджрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛, рд▓реЗрдХрд┐рди рдЖрдк рд╕реНрдЯреЗрдЯ рдорд╢реАрди рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдХреЗ рдПрдХ рдирдпрд╛ рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╛ рд╡рд╛рдВрдЫрд┐рдд рд╕реНрдЯреЗрдЯ рдорд╢реАрди рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
- **рдЙрдкрдирд╛рдо**: рдпреЗ рдкреЙрдЗрдВрдЯрд░ рдПрдХ рд╣реА рд╕реНрдЯреЗрдЯ рдорд╢реАрди рдХреЗ рджреЛ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХрд╛ рд╕рдВрджрд░реНрдн рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдПрдХ рд╣реА рд╕реНрдЯреЗрдЯ рдорд╢реАрди рдХреЗ рд▓рд┐рдП рдХрдИ рдЙрдкрдирд╛рдо рдмрдирд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдкреНрд░рддреНрдпреЗрдХ рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп рдПрдЖрд░рдПрди рджреНрд╡рд╛рд░рд╛ рдкрд╣рдЪрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рд╕реНрдЯреЗрдЯ рдорд╢реАрди рдПрдЖрд░рдПрди рдХреЛ рдЙрдкрдирд╛рдо рдирд╛рдо рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рдХрд░ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдХреЛрд▓рди рджреНрд╡рд╛рд░рд╛ рдЕрд▓рдЧ рд╣реЛрддрд╛ рд╣реИ (**`arn:aws:states:region:account-id:stateMachine:StateMachineName:aliasName`**). рдЙрдкрдирд╛рдо рдПрдХ рд╕реНрдЯреЗрдЯ рдорд╢реАрди рдХреЗ рджреЛ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рдПрдХ рдХреА рдУрд░ рдЯреНрд░реИрдлрд╝рд┐рдХ рд░реВрдЯ рдХрд░рдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, рдПрдХ рдЙрдкрдирд╛рдо рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрд╕реНрдХрд░рдг рдХреА рдУрд░ рдЗрд╢рд╛рд░рд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдиреНрдп рдЙрдкрдирд╛рдореЛрдВ рдХреА рдУрд░ рдирд╣реАрдВред рдЗрдиреНрд╣реЗрдВ рдЖрд╡рд╢реНрдпрдХрддрд╛рдиреБрд╕рд╛рд░ рд╕реНрдЯреЗрдЯ рдорд╢реАрди рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╕рдВрд╕реНрдХрд░рдг рдХреА рдУрд░ рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рдФрд░ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдкреНрд░рдмрдВрдзрди рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рддрд╛ рд╣реИред

рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддреГрдд рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП **ASL** рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ: [**рдЕрдореЗрдЬрд╝рди рд╕реНрдЯреЗрдЯреНрд╕ рднрд╛рд╖рд╛**](https://states-language.net/spec.html).



## рд░рд╛рдЬреНрдп рдорд╢реАрдиреЛрдВ рдХреЗ рд▓рд┐рдП IAM рднреВрдорд┐рдХрд╛рдПрдБ

AWS рд╕реНрдЯреЗрдк рдлрдВрдХреНрд╢рдиреНрд╕ AWS Identity and Access Management (IAM) рднреВрдорд┐рдХрд╛рдПрдБ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдФрд░ рдХреНрд░рд┐рдпрд╛рдУрдВ рддрдХ рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддрд╛ рд╣реИред AWS рд╕реНрдЯреЗрдк рдлрдВрдХреНрд╢рдиреНрд╕ рдореЗрдВ рд╕реБрд░рдХреНрд╖рд╛ рдФрд░ IAM рднреВрдорд┐рдХрд╛рдУрдВ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдореБрдЦреНрдп рдкрд╣рд▓реБрдУрдВ рдХреЗ рдпрд╣рд╛рдБ рд╡рд┐рд╡рд░рдг рд╣реИрдВ:

- **рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рднреВрдорд┐рдХрд╛**: AWS рд╕реНрдЯреЗрдк рдлрдВрдХреНрд╢рдиреНрд╕ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рд░рд╛рдЬреНрдп рдорд╢реАрди рдПрдХ IAM рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рднреВрдорд┐рдХрд╛ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реЛрддрд╛ рд╣реИред рдпрд╣ рднреВрдорд┐рдХрд╛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреА рд╣реИ рдХрд┐ рд░рд╛рдЬреНрдп рдорд╢реАрди рдЖрдкрдХреЗ рдкрдХреНрд╖ рдореЗрдВ рдХреНрдпрд╛ рдХреНрд░рд┐рдпрд╛рдПрдБ рдХрд░ рд╕рдХрддреА рд╣реИред рдЬрдм рдПрдХ рд░рд╛рдЬреНрдп рдорд╢реАрди AWS рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд░рд╛рдЬреНрдпреЛрдВ рдХреЗ рдмреАрдЪ рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╣реЛрддреА рд╣реИ (рдЬреИрд╕реЗ Lambda рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдХрд░рдирд╛, DynamoDB рддрдХ рдкрд╣реБрдВрдЪрдирд╛, рдЖрджрд┐), рддреЛ рдпрд╣ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рднреВрдорд┐рдХрд╛ рдЗрди рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рд╕рдВрднрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рднреВрдорд┐рдХрд╛ рдХреЛ рдЕрдкрдирд╛рддрд╛ рд╣реИред
- **рдЕрдиреБрдорддрд┐рдпрд╛рдБ**: IAM рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рднреВрдорд┐рдХрд╛ рдХреЛ рдЕрдиреНрдп AWS рд╕реЗрд╡рд╛рдУрдВ рдкрд░ рдЖрд╡рд╢реНрдпрдХ рдХреНрд░рд┐рдпрд╛рдПрдБ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдкрдХреА рд░рд╛рдЬреНрдп рдорд╢реАрди рдХреЛ AWS Lambda рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЖрдордВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ IAM рднреВрдорд┐рдХрд╛ рдореЗрдВ **`lambda:InvokeFunction`** рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред рдЙрд╕реА рдкреНрд░рдХрд╛рд░, рдпрджрд┐ рдпрд╣ DynamoDB рдореЗрдВ рд▓рд┐рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдЙрдЪрд┐рдд рдЕрдиреБрдорддрд┐рдпрд╛рдБ (**`dynamodb:PutItem`**, **`dynamodb:UpdateItem`**, рдЖрджрд┐) рдкреНрд░рджрд╛рди рдХреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдПред
- **рдХрдо рд╕рдВрд░рдХреНрд╖рдг**: рд╕реНрдЯреЗрдк рдлрдВрдХреНрд╢рдиреНрд╕ рдХреЗ рд▓рд┐рдП IAM рднреВрдорд┐рдХрд╛рдУрдВ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╕рдордп рдХрдо рд╕рдВрд░рдХреНрд╖рдг рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рдХрд╛ рдкрд╛рд▓рди рдХрд░рдирд╛ рд╕реБрдЭрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд░рд╛рдЬреНрдп рдорд╢реАрди рдХреЛ рдЕрдкрдиреЗ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ рдЙрди рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЛ рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬреЛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛрддреА рд╣реИрдВ, рдФрд░ рди рдХреЛрдИ рдЕрдзрд┐рдХред IAM рдиреАрддрд┐рдпреЛрдВ рдХреЛ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдФрд░ рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕реАрдорд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЕрдирдЬрд╛рди рдкрд╣реБрдВрдЪ рдХреЗ рдЬреЛрдЦрд┐рдо рдХреЛ рдХрдо рдХрд░рддреЗ рд╣реБрдПред

## рдЧрдгрдирд╛

рд╕рднреА рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЧрдгрдирд╛ рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ ReadOnlyAccess рдиреАрддрд┐ рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред
```bash
# State machines #

## List state machines
aws stepfunctions list-state-machines
## Retrieve informatio about the specified state machine
aws stepfunctions describe-state-machine --state-machine-arn <value>

## List verions for the specified state machine
aws stepfunctions list-state-machine-versions --state-machine-arn <value>
## List aliases for the specified state machine
aws stepfunctions list-state-machine-aliases --state-machine-arn <value>
## Retrieve informatio about the specified state machine alias
aws stepfunctions describe-state-machine-alias --state-machine-alias-arn <value>

## List executions of a state machine
aws stepfunctions list-executions --state-machine-arn <value> [--status-filter <RUNNING | SUCCEEDED | FAILED | TIMED_OUT | ABORTED | PENDING_REDRIVE>] [--redrive-filter <REDRIVEN | NOT_REDRIVEN>]
## Retrieve information and relevant metadata about a state machine execution
aws stepfunctions describe-execution --execution-arn <value>
## Retrieve information about the state machine associated to the specified execution
aws stepfunctions describe-state-machine-for-execution --execution-arn <value>
## Retrieve the history of the specified execution as a list of events
aws stepfunctions get-execution-history --execution-arn <value> [--reverse-order | --no-reverse-order] [--include-execution-data | --no-include-execution-data]

## List tags for the specified Ste Functions resource
aws stepfunctions list-tags-for-resource --resource-arn <value>

## Validate the definition of a state machine without creating the resource
aws stepfunctions validate-state-machine-definition --definition <value> [--type <STANDARD | EXPRESS>]

# Activities #

## List existing activities
aws stepfunctions list-activities
## Retrieve information about the specified activity
aws stepfunctions describe-activity --activity-arn <value>

# Map Runs #

## List map runs of an execution
aws stepfunctions list-map-runs --execution-arn <value>
## Provide information about the configuration, progress and results of a Map Run
aws stepfunctions describe-map-run --map-run-arn <value>
## Lists executions of a Map Run
aws stepfunctions list-executions --map-run-arn <value> [--status-filter <RUNNING | SUCCEEDED | FAILED | TIMED_OUT | ABORTED | PENDING_REDRIVE>] [--redrive-filter <REDRIVEN | NOT_REDRIVEN>]
```
## рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░

рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреГрд╖реНрда рдореЗрдВ, рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ **рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП Step Functions рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**:

{% content-ref url="../aws-privilege-escalation/aws-stepfunctions-privesc.md" %}
[aws-stepfunctions-privesc.md](../aws-privilege-escalation/aws-stepfunctions-privesc.md)
{% endcontent-ref %}

## рдкреЛрд╕реНрдЯ рдПрдХреНрд╕рдкреНрд▓реЛрдЗрдЯреЗрд╢рди

{% content-ref url="../aws-post-exploitation/aws-stepfunctions-post-exploitation/" %}
[aws-stepfunctions-post-exploitation](../aws-post-exploitation/aws-stepfunctions-post-exploitation/)
{% endcontent-ref %}

# рд╕рдВрджрд░реНрдн

* [https://docs.aws.amazon.com/service-authorization/latest/reference/list_awsstepfunctions.html](https://docs.aws.amazon.com/service-authorization/latest/reference/list_awsstepfunctions.html)
* [https://docs.aws.amazon.com/step-functions/latest/dg/welcome.html](https://docs.aws.amazon.com/step-functions/latest/dg/welcome.html)
* [https://states-language.net/spec.html](https://states-language.net/spec.html)

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, HackTricks** рдФрд░ **HackTricks Cloud** github repos рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗред

</details>
