# AWS - CloudFront Enum

{% hint style="success" %}
Jifunze na zoezi la Udukuzi wa AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya AWS (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Jifunze na zoezi la Udukuzi wa GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya GCP (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa usajili**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## CloudFront

CloudFront ni **mtandao wa utoaji wa maudhui wa AWS unaosaidia kusambaza** maudhui yako ya tuli na ya kibunifu kupitia mtandao wake wa vituo vya pembezoni ulimwenguni. Unapotumia maudhui unayohifadhi kupitia Amazon CloudFront, ombi hilo linaelekezwa kwenye eneo la pembezoni lililo karibu zaidi ambalo hutoa latency ya chini kutoa utendaji bora. Wakati **kumbukumbu za ufikiaji wa CloudFront** zimeanzishwa, unaweza kurekodi ombi kutoka kwa kila mtumiaji anayeomba ufikiaji kwenye tovuti yako na usambazaji. Kama ilivyo na kumbukumbu za ufikiaji wa S3, kumbukumbu hizi pia **huhifadhiwa kwenye Amazon S3 kwa uhifadhi thabiti na endelevu**. Hakuna malipo ya kuwezesha kumbukumbu yenyewe, hata hivyo, kumbukumbu hizi zinahifadhiwa kwa matumizi ya uhifadhi ya S3.

Faili za kumbukumbu hukamata data kwa kipindi cha muda na kulingana na idadi ya maombi yanayopokelewa na Amazon CloudFront kwa usambazaji huo kutategemea idadi ya faili za kumbukumbu zinazozalishwa. Ni muhimu kujua kwamba faili hizi za kumbukumbu haziumbwi au kuandikwa kwenye S3. S3 ni mahali ambapo zinapelekwa mara tu faili ya kumbukumbu inapojaa. **Amazon CloudFront inahifadhi faili hizi za kumbukumbu hadi ziwe tayari kusambazwa kwa S3**. Tena, kulingana na ukubwa wa faili hizi za kumbukumbu, usambazaji huu unaweza kuchukua **kati ya saa moja na saa 24**.

**Kwa chaguo-msingi, kuingia kwa kuki kunalemazwa** lakini unaweza kuwezesha.

### Kazi

Unaweza kuunda kazi katika CloudFront. Kazi hizi zitakuwa na **kituo chake cha mwisho katika cloudfront** kilichoelezwa na itaendesha **msimbo wa NodeJS uliotangazwa**. Msimbo huu utaendeshwa ndani ya **sandbox** kwenye mashine inayoendeshwa chini ya mashine inayosimamiwa na AWS (utahitaji kuvuka sandbox ili kufanikiwa kutoroka kwa OS inayofunika).

Kwa kuwa kazi hazitekelezwi katika akaunti ya AWS ya watumiaji. hakuna jukumu la IAM limeambatishwa hivyo hakuna privesc moja kwa moja inayowezekana ikidhuru kipengele hiki.

### Uchambuzi
```bash
aws cloudfront list-distributions
aws cloudfront get-distribution --id <id> # Just get 1
aws cloudfront get-distribution-config --id <id>

aws cloudfront list-functions
aws cloudfront get-function --name TestFunction function_code.js

aws cloudfront list-distributions | jq ".DistributionList.Items[] | .Id, .Origins.Items[].Id, .Origins.Items[].DomainName, .AliasICPRecordals[].CNAME"
```
## Upatikanaji usiothibitishwa

{% content-ref url="../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md" %}
[aws-cloudfront-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md)
{% endcontent-ref %}

## Baada ya Uchimbaji

{% content-ref url="../aws-post-exploitation/aws-cloudfront-post-exploitation.md" %}
[aws-cloudfront-post-exploitation.md](../aws-post-exploitation/aws-cloudfront-post-exploitation.md)
{% endcontent-ref %}

{% hint style="success" %}
Jifunze na zoezi la Udukuzi wa AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Mafunzo ya HackTricks AWS Timu Nyekundu Mtaalam (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Jifunze na zoezi la Udukuzi wa GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Mafunzo ya HackTricks GCP Timu Nyekundu Mtaalam (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa michango**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
