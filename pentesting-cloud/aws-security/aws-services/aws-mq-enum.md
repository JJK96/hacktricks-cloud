# AWS - MQ Enum

{% hint style="success" %}
AWS Hacking'ı öğrenin ve uygulayın: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Eğitim AWS Kırmızı Takım Uzmanı (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking'ini öğrenin ve uygulayın: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Eğitim GCP Kırmızı Takım Uzmanı (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) katılın veya [**telegram grubuna**](https://t.me/peass) katılın veya bizi **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking püf noktalarını paylaşarak PR'lar göndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına katkıda bulunun.

</details>
{% endhint %}

## Amazon MQ

### Mesaj Aracılarına Giriş
**Mesaj aracıları**, farklı yazılım sistemleri arasında iletişimi kolaylaştıran aracılar olarak hizmet verir. Bu sistemler farklı platformlarda olabilir ve farklı dillerde programlanmış olabilir. **Amazon MQ**, AWS üzerinde mesaj aracılarının dağıtımını, işletimini ve bakımını kolaylaştırır. **Apache ActiveMQ** ve **RabbitMQ** için yönetilen hizmetler sunar, sorunsuz sağlama ve otomatik yazılım sürümü güncellemelerini sağlar.

### AWS - RabbitMQ
RabbitMQ, önde gelen bir **mesaj kuyruğu yazılımı** olarak da bilinen bir _mesaj aracı_ veya _kuyruk yöneticisi_ dir. Temelde, kuyrukların yapılandırıldığı bir sistemdir. Uygulamalar bu kuyruklarla etkileşime girerek **mesaj gönderip alırlar**. Bu bağlamda mesajlar, diğer uygulamalarda (potansiyel olarak farklı sunucularda) işlemleri başlatmak için komutlardan basit metin mesajlarına kadar çeşitli bilgiler taşıyabilir. Mesajlar, alıcı bir uygulama tarafından alınıp işlenene kadar kuyruk yöneticisi yazılımı tarafından tutulur. AWS, RabbitMQ sunucularını barındırmak ve yönetmek için kullanımı kolay bir çözüm sunar.

### AWS - ActiveMQ
Apache ActiveMQ®, esnekliğiyle tanınan önde gelen açık kaynaklı, Java tabanlı bir **mesaj aracı** dır. Birden fazla endüstri standardı protokolü destekler ve geniş bir dil ve platform yelpazesinde kapsamlı istemci uyumluluğu sunar. Kullanıcılar:

- JavaScript, C, C++, Python, .Net ve daha fazlasında yazılmış istemcilerle bağlantı kurabilirler.
- Farklı platformlardan uygulamaları entegre etmek için **AMQP** protokolünü kullanabilirler.
- Web uygulama mesaj alışverişleri için **web soketleri üzerinden STOMP** kullanabilirler.
- **MQTT** ile IoT cihazlarını yönetebilirler.
- Mevcut **JMS** altyapısını yönetebilir ve yeteneklerini genişletebilirler.

ActiveMQ'nun sağlamlığı ve esnekliği, çeşitli mesajlaşma gereksinimleri için uygun hale getirir.


## Numaralandırma
```bash
# List brokers
aws mq list-brokers

# Get broker info
aws mq describe-broker --broker-id <broker-id>
## Find endpoints in .BrokerInstances
## Find if public accessible in .PubliclyAccessible

# List usernames (only for ActiveMQ)
aws mq list-users --broker-id <broker-id>

# Get user info (PASSWORD NOT INCLUDED)
aws mq describe-user --broker-id <broker-id> --username <username>

# Lits configurations (only for ActiveMQ)
aws mq list-configurations
## Here you can find if simple or LDAP authentication is used

# Creacte Active MQ user
aws mq create-user --broker-id <value> --password <value> --username <value> --console-access
```
{% hint style="warning" %}
TODO: RabbitMQ ve ActiveMQ içerisinde nasıl numaralandırılacağını ve tüm kuyruklarda dinleme yapılacağını ve veri gönderme işleminin nasıl yapılacağını belirtin (Bunu nasıl yapacağınızı biliyorsanız PR gönderin)
{% endhint %}

## İst Privilegesi

{% content-ref url="../aws-privilege-escalation/aws-mq-privesc.md" %}
[aws-mq-privesc.md](../aws-privilege-escalation/aws-mq-privesc.md)
{% endcontent-ref %}

## Kimlik Doğrulamasız Erişim

{% content-ref url="../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md" %}
[aws-mq-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md)
{% endcontent-ref %}

## Kalıcılık

RabbitMQ web konsoluna erişim kimlik bilgilerini biliyorsanız, yönetici ayrıcalıklarına sahip yeni bir kullanıcı oluşturabilirsiniz.

## Referanslar

* [https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html](https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html)
* [https://activemq.apache.org/](https://activemq.apache.org/)

{% hint style="success" %}
AWS Hacking öğrenin ve pratik yapın: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Eğitim AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking öğrenin ve pratik yapın: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Eğitim GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Destek HackTricks</summary>

* [**Abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **💬 [Discord grubuna](https://discord.gg/hRep4RUj7f) veya [telegram grubuna](https://t.me/peass) katılın veya** bizi **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'da takip edin.**
* **Hacking püf noktalarını paylaşarak PR göndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına katkıda bulunun.

</details>
{% endhint %}
