# AWS - Κατάργηση Καταλόγου

{% hint style="success" %}
Μάθετε & εξασκηθείτε στο Hacking του AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Εκπαίδευση HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Μάθετε & εξασκηθείτε στο Hacking του GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Εκπαίδευση HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Υποστηρίξτε το HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Εγγραφείτε** στην 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε κόλπα hacking υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια στο GitHub.

</details>
{% endhint %}

## Amazon MQ

### Εισαγωγή στους Διαμεσολαβητές Μηνυμάτων
Οι **διαμεσολαβητές μηνυμάτων** λειτουργούν ως ενδιάμεσοι, διευκολύνοντας την επικοινωνία μεταξύ διαφορετικών συστημάτων λογισμικού, τα οποία μπορεί να είναι χτισμένα σε διαφορετικές πλατφόρμες και να έχουν προγραμματιστεί σε διαφορετικές γλώσσες. Το **Amazon MQ** απλοποιεί την ανάπτυξη, λειτουργία και συντήρηση των διαμεσολαβητών μηνυμάτων στο AWS. Παρέχει υπηρεσίες διαχείρισης για το **Apache ActiveMQ** και το **RabbitMQ**, εξασφαλίζοντας απρόσκοπτη παροχή και αυτόματες ενημερώσεις εκδόσεων λογισμικού.

### AWS - RabbitMQ
Το RabbitMQ είναι ένα διακεκριμένο λογισμικό **ουράς μηνυμάτων**, γνωστό επίσης ως _διαμεσολαβητής μηνυμάτων_ ή _διαχειριστής ουράς_. Βασικά είναι ένα σύστημα όπου οι ουρές ρυθμίζονται. Οι εφαρμογές αλληλεπιδρούν με αυτές τις ουρές για να **στέλνουν και να λαμβάνουν μηνύματα**. Τα μηνύματα σε αυτό το πλαίσιο μπορούν να μεταφέρουν μια ποικιλία πληροφοριών, από εντολές για την έναρξη διεργασιών σε άλλες εφαρμογές (πιθανώς σε διαφορετικούς διακομιστές) έως απλά κείμενα μηνύματα. Τα μηνύματα κρατούνται από το λογισμικό του διαχειριστή ουράς μέχρι να ανακτηθούν και να επεξεργαστούν από μια εφαρμογή που τα λαμβάνει. Το AWS παρέχει μια εύκολη λύση για τη φιλοξενία και τη διαχείριση διακομιστών RabbitMQ.

### AWS - ActiveMQ
Το Apache ActiveMQ® είναι ένας κορυφαίος ανοικτού κώδικα, βασισμένος σε Java **διαμεσολαβητής μηνυμάτων** γνωστός για την ευελιξία του. Υποστηρίζει πολλά πρωτόκολλα βιομηχανίας, προσφέροντας εκτεταμένη συμβατότητα πελατών σε μια ευρεία γκάμα γλωσσών και πλατφορμών. Οι χρήστες μπορούν:

- Να συνδεθούν με πελάτες που έχουν γραφτεί σε JavaScript, C, C++, Python, .Net και άλλα.
- Να εκμεταλλευτούν το πρωτόκολλο **AMQP** για την ενσωμάτωση εφαρμογών από διαφορετικές πλατφόρμες.
- Να χρησιμοποιήσουν το **STOMP** μέσω websockets για την ανταλλαγή μηνυμάτων σε εφαρμογές web.
- Να διαχειριστούν συσκευές IoT με το **MQTT**.
- Να διατηρήσουν την υπάρχουσα υποδομή **JMS** και να επεκτείνουν τις δυνατότητές της.

Η αξιοπιστία και η ευελιξία του ActiveMQ το καθιστούν κατάλληλο για μια πληθώρα απαιτήσεων μηνυμάτων.


## Κατάργηση
```bash
# List brokers
aws mq list-brokers

# Get broker info
aws mq describe-broker --broker-id <broker-id>
## Find endpoints in .BrokerInstances
## Find if public accessible in .PubliclyAccessible

# List usernames (only for ActiveMQ)
aws mq list-users --broker-id <broker-id>

# Get user info (PASSWORD NOT INCLUDED)
aws mq describe-user --broker-id <broker-id> --username <username>

# Lits configurations (only for ActiveMQ)
aws mq list-configurations
## Here you can find if simple or LDAP authentication is used

# Creacte Active MQ user
aws mq create-user --broker-id <value> --password <value> --username <value> --console-access
```
{% hint style="warning" %}
ΕΡΓΑΣΙΕΣ: Υποδείξτε πώς να απαριθμήσετε εσωτερικά τον RabbitMQ και τον ActiveMQ και πώς να ακούτε σε όλες τις ουρές και να στέλνετε δεδομένα (στείλτε PR αν γνωρίζετε πώς να το κάνετε αυτό)
{% endhint %}

## Ανύψωση δικαιωμάτων

{% content-ref url="../aws-privilege-escalation/aws-mq-privesc.md" %}
[aws-mq-privesc.md](../aws-privilege-escalation/aws-mq-privesc.md)
{% endcontent-ref %}

## Μη εξουσιοδοτημένη πρόσβαση

{% content-ref url="../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md" %}
[aws-mq-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md)
{% endcontent-ref %}

## Διατήρηση

Εάν γνωρίζετε τα διαπιστευτήρια για πρόσβαση στην ιστοσελίδα του RabbitMQ, μπορείτε να δημιουργήσετε ένα νέο χρήστη με δικαιώματα διαχειριστή.

## Αναφορές

* [https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html](https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html)
* [https://activemq.apache.org/](https://activemq.apache.org/)

{% hint style="success" %}
Μάθετε & εξασκηθείτε στο Hacking του AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Εκπαίδευση HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Μάθετε & εξασκηθείτε στο Hacking του GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Εκπαίδευση HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Υποστηρίξτε το HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Εγγραφείτε** 💬 στην ομάδα [**Discord**](https://discord.gg/hRep4RUj7f) ή στην ομάδα [**telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε κόλπα χάκινγκ υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια στο GitHub.

</details>
{% endhint %}
