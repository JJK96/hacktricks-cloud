# AWS - MQ Enum

{% hint style="success" %}
Jifunze na zoezi la Kuvamia AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya AWS (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Jifunze na zoezi la Kuvamia GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya GCP (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa michango**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za kuvamia kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
{% endhint %}

## Amazon MQ

### Utangulizi kwa Mawakala wa Ujumbe
**Mawakala wa ujumbe** hutumika kama wasuluhishi, kurahisisha mawasiliano kati ya mifumo tofauti ya programu, ambayo inaweza kujengwa kwenye majukwaa tofauti na kuandikwa kwa lugha tofauti. **Amazon MQ** inasaidia kuweka, uendeshaji, na matengenezo ya mawakala wa ujumbe kwenye AWS. Inatoa huduma zilizosimamiwa kwa **Apache ActiveMQ** na **RabbitMQ**, ikihakikisha utoaji wa laini na sasisho za programu kiotomatiki.

### AWS - RabbitMQ
RabbitMQ ni programu maarufu ya **upangaji wa ujumbe**, inayojulikana pia kama _mawakala wa ujumbe_ au _meneja wa foleni_. Kimsingi ni mfumo ambapo foleni zimeboreshwa. Programu huingiliana na foleni hizi kwa kusudi la **kutuma na kupokea ujumbe**. Ujumbe katika muktadha huu unaweza kubeba habari mbalimbali, ikiwa ni pamoja na amri za kuanzisha michakato kwenye programu nyingine (labda kwenye seva tofauti) hadi ujumbe wa maandishi rahisi. Ujumbe hushikiliwa na programu ya meneja wa foleni hadi unakusanywa na kusindikwa na programu inayopokea. AWS hutoa suluhisho rahisi kutumia kwa kuhifadhi na kusimamia seva za RabbitMQ.

### AWS - ActiveMQ
Apache ActiveMQ¬Æ ni mawakala maarufu wa ujumbe wa **msingi wa Java** unaofahamika kwa ujanibishaji wake. Inasaidia itifaki nyingi za viwanda, ikitoa utangamano mkubwa wa mteja kote kwenye lugha na majukwaa mbalimbali. Watumiaji wanaweza:

- Kuunganisha na wateja waliyoandikwa kwa JavaScript, C, C++, Python, .Net, na zaidi.
- Kutumia itifaki ya **AMQP** kuunganisha programu kutoka majukwaa tofauti.
- Kutumia **STOMP** juu ya soketi za wavuti kwa kubadilishana ujumbe wa programu za wavuti.
- Kusimamia vifaa vya IoT na **MQTT**.
- Kudumisha miundombinu ya **JMS** iliyopo na kupanua uwezo wake.

Uimara na mabadiliko ya ActiveMQ hufanya iweze kufaa kwa mahitaji mengi ya ujumbe.

## Uthibitishaji
```bash
# List brokers
aws mq list-brokers

# Get broker info
aws mq describe-broker --broker-id <broker-id>
## Find endpoints in .BrokerInstances
## Find if public accessible in .PubliclyAccessible

# List usernames (only for ActiveMQ)
aws mq list-users --broker-id <broker-id>

# Get user info (PASSWORD NOT INCLUDED)
aws mq describe-user --broker-id <broker-id> --username <username>

# Lits configurations (only for ActiveMQ)
aws mq list-configurations
## Here you can find if simple or LDAP authentication is used

# Creacte Active MQ user
aws mq create-user --broker-id <value> --password <value> --username <value> --console-access
```
{% hint style="warning" %}
TODO: Eleza jinsi ya kuchunguza RabbitMQ na ActiveMQ ndani na jinsi ya kusikiliza katika foleni zote na kutuma data (tuma PR ikiwa unajua jinsi ya kufanya hivi)
{% endhint %}

## Privesc

{% content-ref url="../aws-privilege-escalation/aws-mq-privesc.md" %}
[aws-mq-privesc.md](../aws-privilege-escalation/aws-mq-privesc.md)
{% endcontent-ref %}

## Upatikanaji usiothibitishwa

{% content-ref url="../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md" %}
[aws-mq-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md)
{% endcontent-ref %}

## Uthabiti

Ikiwa unajua siri za kufikia konsoli ya wavuti ya RabbitMQ, unaweza kuunda mtumiaji mpya mwenye mamlaka ya usimamizi.

## Marejeo

* [https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html](https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html)
* [https://activemq.apache.org/](https://activemq.apache.org/)

{% hint style="success" %}
Jifunze & zoezi la Udukuzi wa AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Mafunzo ya HackTricks AWS Timu Nyekundu Mtaalam (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Jifunze & zoezi la Udukuzi wa GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Mafunzo ya HackTricks GCP Timu Nyekundu Mtaalam (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa michango**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
{% endhint %}
