# AWS - Specchio VPC Malware

{% hint style="success" %}
Impara e pratica l'Hacking AWS: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Impara e pratica l'Hacking GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Sostieni HackTricks</summary>

* Controlla i [**piani di abbonamento**](https://github.com/sponsors/carlospolop)!
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi trucchi di hacking inviando PR ai** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repository di GitHub.

</details>
{% endhint %}

**Controlla** [**https://rhinosecuritylabs.com/aws/abusing-vpc-traffic-mirroring-in-aws**](https://rhinosecuritylabs.com/aws/abusing-vpc-traffic-mirroring-in-aws) **per ulteriori dettagli sull'attacco!**

L'ispezione passiva della rete in un ambiente cloud √® stata **sfidante**, richiedendo importanti modifiche di configurazione per monitorare il traffico di rete. Tuttavia, √® stata introdotta una nuova funzionalit√† chiamata "**Specchio Traffico VPC**" da AWS per semplificare questo processo. Con lo Specchio Traffico VPC, il traffico di rete all'interno dei VPC pu√≤ essere **duplicato** senza installare alcun software sulle istanze stesse. Questo traffico duplicato pu√≤ essere inviato a un sistema di rilevamento delle intrusioni di rete (IDS) per **analisi**.

Per affrontare la necessit√† di **implementazione automatica** dell'infrastruttura necessaria per specchiare ed esfiltrare il traffico VPC, abbiamo sviluppato uno script di prova chiamato "**malmirror**". Questo script pu√≤ essere utilizzato con **credenziali AWS compromesse** per configurare lo specchio per tutte le istanze EC2 supportate in un VPC di destinazione. √à importante notare che lo Specchio Traffico VPC √® supportato solo dalle istanze EC2 alimentate dal sistema AWS Nitro, e il target dello specchio VPC deve trovarsi nello stesso VPC degli host specchiati.

L'**impatto** dello specchio di traffico VPC maligno pu√≤ essere significativo, poich√© consente agli attaccanti di accedere a **informazioni sensibili** trasmesse all'interno dei VPC. La **probabilit√†** di tale specchio maligno √® alta, considerando la presenza di **traffico in testo normale** che scorre attraverso i VPC. Molte aziende utilizzano protocolli in testo normale all'interno delle loro reti interne per **motivi di prestazioni**, assumendo che gli attacchi tradizionali dell'uomo nel mezzo non siano possibili.

Per ulteriori informazioni e accesso allo [**script malmirror**](https://github.com/RhinoSecurityLabs/Cloud-Security-Research/tree/master/AWS/malmirror), pu√≤ essere trovato nel nostro **repository GitHub**. Lo script automatizza e semplifica il processo, rendendolo **rapido, semplice e ripetibile** per scopi di ricerca offensiva.

{% hint style="success" %}
Impara e pratica l'Hacking AWS: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Impara e pratica l'Hacking GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Sostieni HackTricks</summary>

* Controlla i [**piani di abbonamento**](https://github.com/sponsors/carlospolop)!
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi trucchi di hacking inviando PR ai** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repository di GitHub.

</details>
{% endhint %}
