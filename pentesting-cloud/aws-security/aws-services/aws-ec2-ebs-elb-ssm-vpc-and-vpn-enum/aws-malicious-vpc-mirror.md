# AWS - B√∂sartiger VPC-Spiegel

{% hint style="success" %}
Lernen Sie AWS-Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Lernen Sie GCP-Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtzen Sie HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repositorys senden.

</details>
{% endhint %}

**√úberpr√ºfen Sie** [**https://rhinosecuritylabs.com/aws/abusing-vpc-traffic-mirroring-in-aws**](https://rhinosecuritylabs.com/aws/abusing-vpc-traffic-mirroring-in-aws) **f√ºr weitere Details zum Angriff!**

Die passive Netzwerk√ºberwachung in einer Cloud-Umgebung war **herausfordernd** und erforderte erhebliche Konfigurations√§nderungen, um den Netzwerkverkehr zu √ºberwachen. Mit einer neuen Funktion namens "**VPC Traffic Mirroring**" hat AWS jedoch diesen Prozess vereinfacht. Mit VPC Traffic Mirroring kann der Netzwerkverkehr innerhalb von VPCs **dupliziert** werden, ohne Software auf den Instanzen selbst zu installieren. Dieser duplizierte Verkehr kann an ein Netzwerk-Intrusionserkennungssystem (IDS) zur **Analyse** gesendet werden.

Um den Bedarf an **automatisierter Bereitstellung** der erforderlichen Infrastruktur f√ºr das Spiegeln und Exfiltrieren von VPC-Verkehr zu decken, haben wir ein Proof-of-Concept-Skript namens "**malmirror**" entwickelt. Dieses Skript kann mit **kompromittierten AWS-Anmeldeinformationen** verwendet werden, um das Spiegeln f√ºr alle unterst√ºtzten EC2-Instanzen in einem Ziel-VPC einzurichten. Es ist wichtig zu beachten, dass VPC Traffic Mirroring nur von EC2-Instanzen unterst√ºtzt wird, die vom AWS Nitro-System betrieben werden, und das VPC-Spiegelziel muss sich im selben VPC wie die gespiegelten Hosts befinden.

Die **Auswirkungen** des b√∂sartigen VPC-Verkehrsspiegels k√∂nnen erheblich sein, da es Angreifern erm√∂glicht, auf **sensible Informationen** zuzugreifen, die innerhalb von VPCs √ºbertragen werden. Die **Wahrscheinlichkeit** eines solchen b√∂sartigen Spiegelns ist hoch, wenn man bedenkt, dass **Klartextverkehr** durch VPCs flie√üt. Viele Unternehmen verwenden Klartextprotokolle innerhalb ihrer internen Netzwerke aus **Leistungsgr√ºnden**, in der Annahme, dass herk√∂mmliche Man-in-the-Middle-Angriffe nicht m√∂glich sind.

F√ºr weitere Informationen und Zugriff auf das [**malmirror-Skript**](https://github.com/RhinoSecurityLabs/Cloud-Security-Research/tree/master/AWS/malmirror) finden Sie es in unserem **GitHub-Repository**. Das Skript automatisiert und vereinfacht den Prozess, sodass er f√ºr offensive Forschungszwecke **schnell, einfach und wiederholbar** ist.

{% hint style="success" %}
Lernen Sie AWS-Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Lernen Sie GCP-Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtzen Sie HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repositorys senden.

</details>
{% endhint %}
