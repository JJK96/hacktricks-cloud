# AWS - 悪意のあるVPCミラー

{% hint style="success" %}
AWSハッキングの学習と練習:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCPハッキングの学習と練習: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksをサポート</summary>

* [**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェック！
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に参加するか、[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**をフォロー**してください。
* **HackTricks**と**HackTricks Cloud**のGitHubリポジトリにPRを提出して**ハッキングテクニックを共有**してください。

</details>
{% endhint %}

**攻撃の詳細については** [**https://rhinosecuritylabs.com/aws/abusing-vpc-traffic-mirroring-in-aws**](https://rhinosecuritylabs.com/aws/abusing-vpc-traffic-mirroring-in-aws) **をチェックしてください！**

クラウド環境でのパッシブネットワーク検査は**困難**であり、ネットワークトラフィックを監視するために大規模な構成変更が必要でした。しかし、AWSが導入した「**VPC Traffic Mirroring**」という新機能により、このプロセスが簡素化されました。VPC Traffic Mirroringを使用すると、VPC内のネットワークトラフィックを**インスタンスにソフトウェアをインストールすることなく**複製することができます。この複製されたトラフィックは、ネットワーク侵入検知システム（IDS）に**送信**して**分析**することができます。

VPCトラフィックをミラーリングし、VPCトラフィックを盗聴および外部送信するために必要なインフラストラクチャを**自動化**する必要性に対処するために、「**malmirror**」という概念実証スクリプトを開発しました。このスクリプトは、**侵害されたAWS資格情報**を使用して、対象VPC内のすべてのサポートされているEC2インスタンスのミラーリングを設定するために使用できます。VPC Traffic Mirroringは、AWS Nitroシステムで動作するEC2インスタンスのみでサポートされており、VPCミラーターゲットは、ミラーリングされたホストと同じVPC内にある必要があります。

悪意のあるVPCトラフィックミラーリングの**影響**は重大であり、VPC内で送信される**機密情報**にアクセスできるようになります。**クリアテキストトラフィック**がVPCを流れていることを考慮すると、そのような悪意のあるミラーリングの**可能性**は高いです。多くの企業は、内部ネットワーク内で**パフォーマンス上の理由**からクリアテキストプロトコルを使用しており、従来の中間者攻撃が不可能であると仮定しています。

詳細情報や[malmirrorスクリプト](https://github.com/RhinoSecurityLabs/Cloud-Security-Research/tree/master/AWS/malmirror)へのアクセスについては、当社の**GitHubリポジトリ**で見つけることができます。このスクリプトは、攻撃的な研究目的のために**迅速かつ簡単かつ繰り返し可能**なプロセスを自動化し、効率化します。

{% hint style="success" %}
AWSハッキングの学習と練習:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCPハッキングの学習と練習: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksをサポート</summary>

* [**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェック！
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に参加するか、[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**をフォロー**してください。
* **HackTricks**と**HackTricks Cloud**のGitHubリポジトリにPRを提出して**ハッキングテクニックを共有**してください。

</details>
{% endhint %}
