# AWS - WAF Enum

{% hint style="success" %}
**AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдкреНрд░реИрдХреНрдЯрд┐рд╕ рдХрд░реЗрдВ:**<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг AWS рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
**GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдкреНрд░реИрдХреНрдЯрд┐рд╕ рдХрд░реЗрдВ:** <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг GCP рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ!
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдФрд░ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдХреЛ** **рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) **рдФрд░** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **github рд░реЗрдкреЛ рдореЗрдВред**

</details>
{% endhint %}

# AWS WAF

AWS WAF рдПрдХ **рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдлрд╝рд╛рдпрд░рд╡реЙрд▓** рд╣реИ рдЬреЛ **рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдпрд╛ рдПрдкреАрдЖрдИ** рдХреЛ рд╡рд┐рднрд┐рдиреНрди рд╡реЗрдм рдзреЛрдЦрд╛рдзрдбрд╝реАрдпреЛрдВ рд╕реЗ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдЬреЛ рдЙрдирдХреА рдЙрдкрд▓рдмреНрдзрддрд╛, рд╕реБрд░рдХреНрд╖рд╛, рдпрд╛ рд╕рдВрд╕рд╛рдзрди рдЦрдкрдд рдкрд░ рдкреНрд░рднрд╛рд╡ рдбрд╛рд▓ рд╕рдХрддреА рд╣реИред рдпрд╣ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЖрдиреЗ рд╡рд╛рд▓реА рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬрд┐рд╕реЗ **рд╕реБрд░рдХреНрд╖рд╛ рдирд┐рдпрдо** рд╕реЗрдЯ рдХрд░рдХреЗ рдЬреИрд╕реЗ SQL рдЗрдиреНрдЬреЗрдХреНрд╢рди рдпрд╛ рдХреНрд░реЙрд╕-рд╕рд╛рдЗрдЯ рд╕реНрдХреНрд░рд┐рдкреНрдЯрд┐рдВрдЧ рдЬреИрд╕реА рдкреНрд░рдореБрдЦ рд╣рдорд▓реЗ рд╡реЗрдХреНрдЯрд░реНрд╕ рдХреЛ рдХрдо рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЕрдкрдиреА рд╡реЗрдм рдЕрдкреНрд▓рд┐рдХреЗрд╢рди рдпрд╛ рдПрдкреАрдЖрдИ рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рдЦрддреЗ рд╣реИрдВред

## рдореБрдЦреНрдп рдЕрд╡рдзрд╛рд░рдгрд╛рдПрдБ

### рд╡реЗрдм ACL (рдПрдХреНрд╕реЗрд╕ рдХрдВрдЯреНрд░реЛрд▓ рд╕реВрдЪреА)

рдПрдХ рд╡реЗрдм ACL рдПрдХ рд╕рдВрдЧреНрд░рд╣ рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рдЕрдкрдиреА рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдпрд╛ рдПрдкреАрдЖрдИ рдкрд░ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЬрдм рдЖрдк рдПрдХ рд╡реЗрдм ACL рдХреЛ рд╕рдВрд╕рд╛рдзрди рд╕реЗ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ AWS WAF рдЙрд╕рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдирд┐рдпрдореЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХреНрд░рд┐рдпрд╛рдПрдБ рд▓реЗрддрд╛ рд╣реИред

### рдирд┐рдпрдо рд╕рдореВрд╣

рдПрдХ рдирд┐рдпрдо рд╕рдореВрд╣ рдПрдХ рдкреБрдирд░реНрдпреБрдХреНрдд рд╕рдВрдЧреНрд░рд╣ рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рдХрдИ рд╡реЗрдм ACL рдкрд░ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдирд┐рдпрдо рд╕рдореВрд╣ рд╡рд┐рднрд┐рдиреНрди рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдпрд╛ рдПрдкреАрдЖрдИ рдХреЗ рдмреАрдЪ рд╕рдВрд░рдХреНрд╖рд┐рдд рдирд┐рдпрдо рд╕реЗрдЯ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдФрд░ рдмрдирд╛рдП рд░рдЦрдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреЗ рд╣реИрдВред

### рдирд┐рдпрдо

рдПрдХ рдирд┐рдпрдо рдЖрдиреЗ рд╡рд╛рд▓реЗ рд╡реЗрдм рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП AWS WAF рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╢рд░реНрддреЛрдВ рдХрд╛ рдПрдХ рд╕реЗрдЯ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИред рджреЛ рдореБрдЦреНрдп рдкреНрд░рдХрд╛рд░ рдХреЗ рдирд┐рдпрдо рд╣реЛрддреЗ рд╣реИрдВ:

1. **рдирд┐рдпрдо рд╕рд╛рдорд╛рдиреНрдп**: рдЗрд╕ рдирд┐рдпрдо рдкреНрд░рдХрд╛рд░ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╢рд░реНрддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рд╡реЗрдм рдЕрдиреБрд░реЛрдз рдХреЛ рдЕрдиреБрдорддрд┐ рджреЗрдиреА рдЪрд╛рд╣рд┐рдП, рдмреНрд▓реЙрдХ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдпрд╛ рдЧрд┐рдирдирд╛ рдЪрд╛рд╣рд┐рдПред
2. **рд░реЗрдЯ-рдЖрдзрд╛рд░рд┐рдд рдирд┐рдпрдо**: рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЖрдИрдкреА рдкрддреЗ рд╕реЗ рдкрд╛рдВрдЪ рдорд┐рдирдЯ рдХреА рдЕрд╡рдзрд┐ рдХреЗ рджреМрд░рд╛рди рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рдЧрдгрдирд╛ рдХрд░рддрд╛ рд╣реИред рдпрд╣рд╛рдБ, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдПрдХ рд╕реАрдорд╛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдпрджрд┐ рдЙрд╕ рдЖрдИрдкреА рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдкрд╛рдВрдЪ рдорд┐рдирдЯ рдХреЗ рднреАрддрд░ рдЗрд╕ рд╕реАрдорд╛ рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛрддреА рд╣реИ, рддреЛ рдЙрд╕ рдЖрдИрдкреА рд╕реЗ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЕрдЧрд▓реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдмреНрд▓реЙрдХ рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рддрдХ рдЕрдиреБрд░реЛрдз рджрд░ рд╕реАрдорд╛ рд╕реЗ рдХрдо рдирд╣реАрдВ рд╣реЛ рдЬрд╛рддреАред рд░реЗрдЯ-рдЖрдзрд╛рд░рд┐рдд рдирд┐рдпрдореЛрдВ рдХреЗ рд▓рд┐рдП рдиреНрдпреВрдирддрдо рд╕реАрдорд╛ **2000 рдЕрдиреБрд░реЛрдз** рд╣реИред

### рдкреНрд░рдмрдВрдзрд┐рдд рдирд┐рдпрдо

AWS WAF рдкреВрд░реНрд╡-рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реНрдб, рдкреНрд░рдмрдВрдзрд┐рдд рдирд┐рдпрдо рд╕реЗрдЯ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬреЛ AWS рдФрд░ AWS рд╡рд┐рдкрдгрди рд╕реЗрд▓рд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдП рд░рдЦреЗ рдЬрд╛рддреЗ рд╣реИрдВред рдпреЗ рдирд┐рдпрдо рд╕реЗрдЯ рд╕рд╛рдорд╛рдиреНрдп рдЦрддрд░реЛрдВ рд╕реЗ рд╕реБрд░рдХреНрд╖рд╛ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдирдП рд╕реБрд░рдХреНрд╖рд╛ рдЦрд╛рдорд┐рдпреЛрдВ рдХрд╛ рд╕рдорд╛рдзрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рдЕрдкрдбреЗрдЯ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред

### рдЖрдИрдкреА рд╕реЗрдЯ

рдПрдХ рдЖрдИрдкреА рд╕реЗрдЯ рдПрдХ рд╕реВрдЪреА рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЖрдк рдЕрдиреБрдорддрд┐ рджреЗрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ рдмреНрд▓реЙрдХ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдЖрдИрдкреА рдкрддреЛрдВ рдпрд╛ рдЖрдИрдкреА рдкрддреЗ рд╢реНрд░реЗрдгрд┐рдпрд╛рдБ рдХреЛред рдЖрдИрдкреА рд╕реЗрдЯ рдЖрдИрдкреА-рдЖрдзрд╛рд░рд┐рдд рдирд┐рдпрдо рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рддреЗ рд╣реИрдВред

### рд░реЗрдЧреЗрдХреНрд╕ рдкреИрдЯрд░реНрди рд╕реЗрдЯ

рд░реЗрдЧреЗрдХреНрд╕ рдкреИрдЯрд░реНрди рд╕реЗрдЯ рдореЗрдВ рдПрдХ рдпрд╛ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдирд┐рдпрдорд┐рдд рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐рдпрд╛рдБ (рд░реЗрдЧреЗрдХреНрд╕) рд╣реЛрддреА рд╣реИрдВ рдЬреЛ рд╡реЗрдм рдЕрдиреБрд░реЛрдзреЛрдВ рдореЗрдВ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдкреИрдЯрд░реНрди рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреА рд╣реИрдВред рдпрд╣ рд╡рд┐рд╢реЗрд╖ рдЕрдиреБрдХреВрд▓рди рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рд╡рд┐рд╢реЗрд╖ рдЕрдХреНрд╖рд░реЛрдВ рдХреЗ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЛ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред

### рддрд╛рд▓рд╛ рдЯреЛрдХрди

рддрд╛рд▓рд╛ рдЯреЛрдХрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдбрдмрд▓реНрдпреВрдПрдПрдл рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдкрд░ рдЕрдкрдбреЗрдЯ рдХрд░рддреЗ рд╕рдордп рд╕рдорд╡рд░реНрддрди рдирд┐рдпрдВрддреНрд░рдг рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдкрд░рд┐рд╡рд░реНрддрди рдХрд┐рд╕реА рднреА рд░рд┐рд╕реЛрд░реНрд╕ рдХреЛ рдПрдХ рд╕рд╛рде рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХрдИ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдпрд╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рджреНрд╡рд╛рд░рд╛ рдЕрдирдЬрд╛рдиреЗ рдореЗрдВ рдЕрдзрд┐рд▓рд┐рдЦрд┐рдд рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВред

### рдПрдкреАрдЖрдИ рдХреБрдВрдЬреА

AWS WAF рдореЗрдВ рдПрдкреАрдЖрдИ рдХреБрдВрдЬреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреБрдЫ рдПрдкреАрдЖрдИ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдпреЗ рдХреБрдВрдЬреА рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╣реЛрддреА рд╣реИрдВ рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдкреНрд░рдмрдВрдзрд┐рдд рдХреА рдЬрд╛рддреА рд╣реИрдВ рддрд╛рдХрд┐ рдХреЗрд╡рд▓ рдЕрдзрд┐рдХреГрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ WAF рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХрд░ рд╕рдХреЗрдВред

- **рдЙрджрд╛рд╣рд░рдг**: CAPTCHA рдПрдкреАрдЖрдИ рдХрд╛ рдПрдХреАрдХрд░рдгред

### рдЕрдиреБрдорддрд┐ рдиреАрддрд┐

рдЕрдиреБрдорддрд┐ рдиреАрддрд┐ рдПрдХ IAM рдиреАрддрд┐ рд╣реИ рдЬреЛ рд╕реНрдкрд╖реНрдЯ рдХрд░рддреА рд╣реИ рдХрд┐ AWS WAF рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдкрд░ рдХреМрди рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдХреЗ, рдЖрдк WAF рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреЗрд╡рд▓ рдЕрдзрд┐рдХреГрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╡рд┐рдиреНрдпрд╛рд╕ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЕрдкрдбреЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╛ рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВред

### рджрд╛рдпрд░рд╛

AWS WAF рдореЗрдВ рджрд╛рдпрд░рд╛ рдкреИрд░рд╛рдореАрдЯрд░ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ WAF рдирд┐рдпрдо рдФрд░ рд╡рд┐рдиреНрдпрд╛рд╕ рдХрд┐рд╕ рд╡рд┐рднрд╛рдЧреАрдп рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдпрд╛ рдЕрдореЗрдЬрд╝рди рдХреНрд▓рд╛рдЙрдбрдлреНрд░рдВрдЯ рд╡рд┐рддрд░рдг рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрддреЗ рд╣реИрдВред

- **рд░реАрдЬрдирд▓**: рд░реАрдЬрдирд▓ рд╕реЗрд╡рд╛рдУрдВ рдЬреИрд╕реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓реЛрдб рдмреИрд▓реЗрдВрд╕рд░ (ALB), рдЕрдореЗрдЬрд╝рди рдПрдкреАрдЖрдИ рдЧреЗрдЯрд╡реЗ REST рдПрдкреАрдЖрдИ, AWS рдПрдкреНрд╕рд┐рдВрдХреНрд╕ GraphQL рдПрдкреАрдЖрдИ, рдЕрдореЗрдЬрд╝рди рдХреЛрдЧреНрдирд┐рдЯреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреВрд▓, AWS рдПрдк рд░рдирд░ рд╕реЗрд╡рд╛ рдФрд░ AWS рд╕рддреНрдпрд╛рдкрд┐рдд рдкрд╣реБрдВрдЪ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред рдЖрдк рдЙрд╕ AWS рдХреНрд╖реЗрддреНрд░ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддреЗ рд╣реИрдВ рдЬрд╣рд╛рдБ рдЗрди рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рд╕реНрдерд╛рди рд╣реИред
- **рдХреНрд▓рд╛рдЙрдбрдлреНрд░рдВрдЯ**: рдпрд╣
```bash
# Web ACLs #

## Retrieve a list of web access control lists (Web ACLs) available in your AWS account
aws wafv2 list-web-acls --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
## Retrieve details about the specified Web ACL
aws wafv2 get-web-acl --name <value> --id <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>

## Retrieve a list of resources associated with a specific web access control list (Web ACL)
aws wafv2 list-resources-for-web-acl --web-acl-arn <value> # Additional permissions needed depending on the protected resource type: cognito-idp:ListResourcesForWebACL, ec2:DescribeVerifiedAccessInstanceWebAclAssociations or apprunner:ListAssociatedServicesForWebAcl
## Retrieve the Web ACL associated with the specified AWS resource
aws wafv2 get-web-acl-for-resource --resource-arn <arn> # Additional permissions needed depending on the protected resource type: cognito-idp:GetWebACLForResource, ec2:GetVerifiedAccessInstanceWebAcl, wafv2:GetWebACL or apprunner:DescribeWebAclForService

# Rule groups #

## List of the rule groups available in your AWS account
aws wafv2 list-rule-groups --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
## Retrieve the details of a specific rule group
aws wafv2 get-rule-group [--name <value>] [--id <value>] [--arn <value>] [--scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>]
## Retrieve the IAM policy attached to the specified rule group
aws wafv2 get-permission-policy --resource-arn <rule-group-arn> # Just the owner of the Rule Group can do this operation

# Managed rule groups (by AWS or by a third-party) #

## List the managed rule groups that are available
aws wafv2 list-available-managed-rule-groups --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
## List the available versions of the specified managed rule group
aws wafv2 list-available-managed-rule-group-versions --vendor-name <value> --name <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
## Retrieve high-level information about a specific managed rule group
aws wafv2 describe-managed-rule-group --vendor-name <value> --name <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1> [--version-name <value>]
## Retrieve high-level information about all managed rule groups
aws wafv2 describe-all-managed-products --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
## Retrieve high-level information about all managed rule groups from a specific vendor
aws wafv2 describe-managed-products-by-vendor --vendor-name <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>

# IP sets #

## List the IP sets that are available in your AWS account
aws wafv2 list-ip-sets --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
## Retrieve the specific IP set
aws wafv2 get-ip-set --name <value> --id <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
## Retrieve the keys that are currently being managed by a rate-based rule.
aws wafv2 get-rate-based-statement-managed-keys --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>\
--web-acl-name <value> --web-acl-id <value> --rule-name <value> [--rule-group-rule-name <value>]

# Regex pattern sets #

## List all the regex pattern sets that you manage
aws wafv2 list-regex-pattern-sets --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
## Retrieves the specified regex pattern sets
aws wafv2 get-regex-pattern-set --name <value> --id <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>

# API Keys #

## List API keys for the specified scope
aws wafv2 list-api-keys --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
## Retrieve decrypted API key
aws wafv2 get-decrypted-api-key --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1> --api-key <value>

# Logs #

## List of logging configurations (storage location of the logs)
aws wafv2 list-logging-configurations --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1> [--log-scope <value>]
## Retrieve the logging configuration settings associated with a specific web ACL
aws wafv2 get-logging-configuration --resource-arn <value> [--log-scope <CUSTOMER | SECURITY_LAKE>] [--log-type <value>]

# Miscelaneous #

## Retrieve a list of the tags associated to the specified resource
aws wafv2 list-tags-for-resource resource-arn <value>

## Retrieve a sample of web requests that match a specified rule within a WebACL during a specified time range
aws wafv2 get-sampled-requests --web-acl-arn <value> --rule-metric-name <value> --time-window <value> --max-items <1-500> --scope <value>

## Obtains the web ACL capacity unit (WCU) requirements for a specified scope and ruleset
aws wafv2 check-capacity --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1> --rules <value>

## List of available releases for the AWS WAFv2 mobile SDK
aws wafv2 list-mobile-sdk-releases --platform <IOS | ANDROID>
## Retrieves information for the specified mobile SDK release
aws wafv2 get-mobile-sdk-release --platform <value> --release-version <value>

```
## рдкреЛрд╕реНрдЯ рдПрдХреНрд╕рдкреНрд▓реЛрдЗрдЯреЗрд╢рди / рдмрд╛рдпрдкрд╛рд╕

{% hint style="success" %}
рд╣рдорд▓рд╛рд╡рд░реЛрдВ рдХреА рджреГрд╖реНрдЯрд┐ рд╕реЗ, рдпрд╣ рд╕реЗрд╡рд╛ рд╣рдорд▓рд╛рд╡рд░ рдХреЛ WAF рд╕реБрд░рдХреНрд╖рд╛ рдФрд░ рдиреЗрдЯрд╡рд░реНрдХ рдЕрдирд╛рд╡рд░рдгреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░ рд╕рдХрддреА рд╣реИ рдЬреЛ рдЙрд╕реЗ рдЕрдиреНрдп рд╡реЗрдмреНрд╕ рдХреЛ рдХрдВрдкреНрд░рдорд╛рдЗрдЬ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░ рд╕рдХрддреА рд╣реИред

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдЗрд╕ рд╕реЗрд╡рд╛ рдХреЛ рднрдВрдЧ рдХрд░рдиреЗ рдореЗрдВ рднреА рд░реБрдЪрд┐ рд░рдЦ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рд╡реЗрдмреНрд╕ рдХреЛ WAF рджреНрд╡рд╛рд░рд╛ рд╕рдВрд░рдХреНрд╖рд┐рдд рди рдХрд┐рдпрд╛ рдЬрд╛рдПред
{% endhint %}

рдХрдИ рдореЗрдВ рд╣рдЯрд╛рдиреЗ рдФрд░ рдЕрдкрдбреЗрдЯ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдореЗрдВ **рд▓реЙрдХ рдЯреЛрдХрди** рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдЧрд╛ред рдпрд╣ рдЯреЛрдХрди рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдкрд░ рд╕рдорд╡рд░реНрддреА рдирд┐рдпрдВрддреНрд░рдг рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдкрд░рд┐рд╡рд░реНрддрди рдЧрд▓рддреА рд╕реЗ рдХрд┐рд╕реА рднреА рд╕рдордп рд╕рдВрдЦреНрдпрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдпрд╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рджреНрд╡рд╛рд░рд╛ рдПрдХ рд╣реА рд╕рдВрд╕рд╛рдзрди рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рдиреЗ рдкрд░ рдЕрдзрд┐рдХ рд╕реЗ рдЕрдзрд┐рдХ рдЕрдзрд┐рдХ рдирд╣реАрдВ рд╣реЛ рдЬрд╛рддреЗред рдЗрд╕ рдЯреЛрдХрди рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк рд╕рдВрдмрдВрдзрд┐рдд рд╕рдВрд╕рд╛рдзрди рдкрд░ рд╕рдВрдмрдВрдзрд┐рдд **рд╕реВрдЪреА** рдпрд╛ **рдкреНрд░рд╛рдкреНрдд** рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### **`wafv2:CreateRuleGroup`, `wafv2:UpdateRuleGroup`, `wafv2:DeleteRuleGroup`**

рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдкреНрд░рднрд╛рд╡рд┐рдд рд╕рдВрд╕рд╛рдзрди рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдХрдВрдкреНрд░рдорд╛рдЗрдЬ рдХрд░ рд╕рдХреЗрдЧрд╛ рджреНрд╡рд╛рд░рд╛:

- рдирд┐рдпрдо рд╕рдореВрд╣ рдмрдирд╛рдирд╛ рдЬреЛ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╡реИрдз рдЖрдИрдкреА рдкрддреЛрдВ рд╕реЗ рд╡реИрдз рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рдмреНрд▓реЙрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рд╕реЗ рд╕реЗрд╡рд╛ рдХреА рдирдХрд╛рд░рд╛рддреНрдордХ рдкреНрд░рднрд╛рд╡рд┐рдд рд╣реЛ рд╕рдХрддреА рд╣реИред
- рдирд┐рдпрдо рд╕рдореВрд╣реЛрдВ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдЙрд╕рдХреЗ рдХрд╛рд░реНрд░рд╡рд╛рдЗрдпреЛрдВ рдХреЛ **рдмреНрд▓реЙрдХ** рд╕реЗ **рдЕрдиреБрдорддрд┐** рдореЗрдВ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред
- рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕реБрд░рдХреНрд╖рд╛ рдЙрдкрд╛рдп рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдирд┐рдпрдо рд╕рдореВрд╣реЛрдВ рдХреЛ рд╣рдЯрд╛рдирд╛ред
```bash
# Create Rule Group
aws wafv2 create-rule-group --name <value> --capacity <value> --visibility-config <value> \
--scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1> [--rules <value>] [--description <value>]
# Update Rule Group
aws wafv2 update-rule-group --name <value> --id <value> --visibility-config <value> --lock-token <value>\
--scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1> [--rules <value>] [--description <value>]
# Delete Rule Group
aws wafv2 delete-rule-group --name <value> --id <value> --lock-token <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
```
рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджрд╛рд╣рд░рдг рдПрдХ рдирд┐рдпрдо рд╕рдореВрд╣ рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдЬреЛ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЖрдИрдкреА рдкрддреЛрдВ рд╕реЗ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рдмреНрд▓реЙрдХ рдХрд░реЗрдЧрд╛:
```bash
aws wafv2 create-rule-group --name BlockLegitimateIPsRuleGroup --capacity 1 --visibility-config SampledRequestsEnabled=false,CloudWatchMetricsEnabled=false,MetricName=BlockLegitimateIPsRuleGroup --scope CLOUDFRONT --region us-east-1 --rules file://rule.json
```
рдлрд╝рд╛рдЗрд▓ **rule.json** рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧреА:
```json
[
{
"Name":"BlockLegitimateIPsRule",
"Priority":0,
"Statement": {
"IPSetReferenceStatement": {
"ARN": "arn:aws:wafv2:us-east-1:123456789012:global/ipset/legitIPv4/1a2b3c4d-1a2b-1a2b-1a2b-1a2b3c4d5e6f"
}
},
"Action":{
"Block":{}
},
"VisibilityConfig":{
"SampledRequestsEnabled":false,
"CloudWatchMetricsEnabled":false,
"MetricName":"BlockLegitimateIPsRule"
}
}
]
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдВрдЪ, рдбреЗрдЯрд╛ рдЙрд▓реНрд▓рдВрдШрди, рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рдбреАрдУрдПрд╕ рд╣рдорд▓реЗред

### **`wafv2:CreateWebACL`, `wafv2:UpdateWebACL`, `wafv2:DeleteWebACL`**

рдЗрди рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде, рдПрдХ рд╣рдорд▓рд╛рд╡рд╛рд░ рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрдЧреА:

- рдПрдХ рдирдпрд╛ рд╡реЗрдм ACL рдмрдирд╛рдирд╛, рдирд┐рдпрдо рд╢рд╛рдорд┐рд▓ рдХрд░рдирд╛ рдЬреЛ рдпрд╛ рддреЛ рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рджрд╛рдЦрд┐рд▓ рдХрд░рдиреЗ рджреЗрддреЗ рд╣реИрдВ рдпрд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рдмреНрд▓реЙрдХ рдХрд░рддреЗ рд╣реИрдВ, WAF рдХреЛ рдЕрд╕рдХреНрд╖рдо рдмрдирд╛ рджреЗрддреЗ рд╣реИрдВ рдпрд╛ рдПрдХ рд╕реЗрд╡рд╛ рдХреЛ рдЕрд╕реНрд╡реАрдХреГрдд рдХрд░рдиреЗ рдХрд╛ рдХрд╛рд░рдг рдмрдирд╛ рджреЗрддреЗ рд╣реИрдВред
- рдореМрдЬреВрджрд╛ рд╡реЗрдм ACL рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛, рдирд┐рдпрдореЛрдВ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрдЧреА рддрд╛рдХрд┐ рдкрд╣рд▓реЗ рдЕрд╡рд░реЛрдзрд┐рдд рд╣рдорд▓реЛрдВ рдЬреИрд╕реЗ рдПрд╕рдХреНрдпреВрдПрд▓ рдЗрдиреНрдЬреЗрдХреНрд╢рди рдпрд╛ рдХреНрд░реЙрд╕-рд╕рд╛рдЗрдЯ рд╕реНрдХреНрд░рд┐рдкреНрдЯрд┐рдВрдЧ рдХреЛ рдЕрдиреБрдорддрд┐ рджреА рдЬрд╛ рд╕рдХреЗ, рдпрд╛ рдорд╛рдиреНрдп рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдмреНрд▓реЙрдХ рдХрд░рдХреЗ рд╕рд╛рдорд╛рдиреНрдп рдЯреНрд░реИрдлрд┐рдХ рдзрд╛рд░рдг рдХреЛ рд╡рд┐рдШрдЯрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
- рдПрдХ рд╡реЗрдм ACL рдХреЛ рд╣рдЯрд╛рдирд╛, рдкреНрд░рднрд╛рд╡рд┐рдд рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕рдВрд░рдХреНрд╖рд┐рдд рдЫреЛрдбрд╝ рджреЗрдирд╛, рдЗрд╕реЗ рд╡реЗрдм рд╣рдорд▓реЛрдВ рдХреЗ рдПрдХ рд╡реНрдпрд╛рдкрдХ рд╢реНрд░реЗрдгреА рдХреЗ рд▓рд┐рдП рдЙрдЬрд╛рдЧрд░ рдХрд░рдирд╛ред

{% hint style="info" %}

рдЖрдк рдХреЗрд╡рд▓ рдирд┐рд░реНрджрд┐рд╖реНрдЯ **WebACL** рдХреЛ рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдЕрдЧрд░ **ManagedByFirewallManager** рдирдХрд╛рд░рд╛ рд╣реИред

{% endhint %}
```bash
# Create Web ACL
aws wafv2 create-web-acl --name <value> --default-action <value> --visibility-config <value> \
--scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1> [--rules <value>] [--captcha-config <value>] [--description <value>]
# Update Web ACL
aws wafv2 update-web-acl --name <value> --id <value> --default-action <value> --visibility-config <value> --lock-token <value>\
--scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1> [--rules <value>] [--captcha-config <value>] [--description <value>]
# Delete Web ACL
aws wafv2 delete-web-acl --name <value> --id <value> --lock-token <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
```
**рдореВрд▓ рд╡реЗрдм ACL**:
```json
{
"WebACL": {
"Name": "AllowLegitimateIPsWebACL",
"Id": "1a2b3c4d-1a2b-1a2b-1a2b-1a2b3c4d5e6f",
"ARN": "arn:aws:wafv2:us-east-1:123456789012:regional/webacl/AllowLegitimateIPsWebACL/1a2b3c4d-1a2b-1a2b-1a2b-1a2b3c4d5e6f",
"DefaultAction": {
"Allow": {}
},
"Description": "",
"Rules": [
{
"Name": "AllowLegitimateIPsRule",
"Priority": 0,
"Statement": {
"IPSetReferenceStatement": {
"ARN": "arn:aws:wafv2:us-east-1:123456789012:regional/ipset/LegitimateIPv4/1a2b3c4d-1a2b-1a2b-1a2b-1a2b3c4d5e6f"
}
},
"Action": {
"Allow": {}
},
"VisibilityConfig": {
"SampledRequestsEnabled": false,
"CloudWatchMetricsEnabled": false,
"MetricName": "AllowLegitimateIPsRule"
}
}
],
"VisibilityConfig": {
"SampledRequestsEnabled": false,
"CloudWatchMetricsEnabled": false,
"MetricName": "AllowLegitimateIPsWebACL"
},
"Capacity": 1,
"ManagedByFirewallManager": false,
"LabelNamespace": "awswaf:123456789012:webacl:AllowLegitimateIPsWebACL:"
},
"LockToken": "1a2b3c4d-1a2b-1a2b-1a2b-1a2b3c4d5e6f"
}

```
рдХрдорд╛рдВрдб рд╡реЗрдм ACL рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:
```json
aws wafv2 update-web-acl --name AllowLegitimateIPsWebACL --scope REGIONAL --id 1a2b3c4d-1a2b-1a2b-1a2b-1a2b3c4d5e6f --lock-token 1a2b3c4d-1a2b-1a2b-1a2b-1a2b3c4d5e6f --default-action Block={} --visibility-config SampledRequestsEnabled=false,CloudWatchMetricsEnabled=false,MetricName=AllowLegitimateIPsWebACL --rules file://rule.json --region us-east-1
```
рдлрд╝рд╛рдЗрд▓ **rule.json** рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧреА:
```json
[
{
"Name": "BlockLegitimateIPsRule",
"Priority": 0,
"Statement": {
"IPSetReferenceStatement": {
"ARN": "arn:aws:wafv2:us-east-1:123456789012:regional/ipset/LegitimateIPv4/1a2b3c4d-1a2b-1a2b-1a2b-1a2b3c4d5e6f"
}
},
"Action": {
"Block": {}
},
"VisibilityConfig": {
"SampledRequestsEnabled": false,
"CloudWatchMetricsEnabled": false,
"MetricName": "BlockLegitimateIPRule"
}
}
]
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдВрдЪ, рдбреЗрдЯрд╛ рдЙрд▓реНрд▓рдВрдШрди рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рдбреАрдУрдПрд╕ рд╣рдорд▓реЗред

### **`wafv2:AssociateWebACL`, `wafv2:DisassociateWebACL`**

**`wafv2:AssociateWebACL`** рдЕрдиреБрдорддрд┐ рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдХреЛ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рд╕рд╛рде рд╡реЗрдм рдПрд╕реАрдПрд▓ (рдПрдХреНрд╕реЗрд╕ рдХрдВрдЯреНрд░реЛрд▓ рд╕реВрдЪреА) рдХреЛ рд╕рдВрдмрджреНрдз рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧреА, рд╕реБрд░рдХреНрд╖рд╛ рдирд┐рдпрдВрддреНрд░рдгреЛрдВ рдХреЛ рдЫрд▓рдХрд░ рд╕рдХрддреА рд╣реИ, рдЕрдирдзрд┐рдХреГрдд рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рджреЗрдЧреА, рдЬрд┐рд╕рд╕реЗ рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯреНрд╕ рдЬреИрд╕реЗ рдПрд╕рдХреНрдпреВрдПрд▓ рдЗрдиреНрдЬреЗрдХреНрд╢рди рдпрд╛ рдХреНрд░реЙрд╕-рд╕рд╛рдЗрдЯ рд╕реНрдХреНрд░рд┐рдкреНрдЯрд┐рдВрдЧ (рдПрдХреНрд╕рдПрд╕рдПрд╕) рдХреА рддрд░рд╣ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЙрд▓реНрдЯреЗ, **`wafv2:DisassociateWebACL`** рдЕрдиреБрдорддрд┐ рдХреЗ рд╕рд╛рде, рд╣рдорд▓рд╛рд╡рд░ рд╕реБрд░рдХреНрд╖рд╛ рд╕рдВрд░рдХреНрд╖рдг рдХреЛ рдЕрд╕рдХреНрд╖рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╕рдВрдХреНрд░рдордгреЛрдВ рдХреЗ рд▓рд┐рдП рдмрд┐рдирд╛ рдкрд╣рдЪрд╛рди рдХреЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред

рд╕рдВрд░рдХреНрд╖рд┐рдд рд╕рдВрд╕рд╛рдзрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЕрддрд┐рд░рд┐рдХреНрдд рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдВрдЧреА:

- **рд╕рдВрдмрджреНрдз**
- apigateway:SetWebACL
- apprunner:AssociateWebAcl
- appsync:SetWebACL
- cognito-idp:AssociateWebACL
- ec2:AssociateVerifiedAccessInstanceWebAcl
- elasticloadbalancing:SetWebAcl
- **рдЕрд╕рдВрдмрджреНрдз**
- apigateway:SetWebACL
- apprunner:DisassociateWebAcl
- appsync:SetWebACL
- cognito-idp:DisassociateWebACL
- ec2:DisassociateVerifiedAccessInstanceWebAcl
- elasticloadbalancing:SetWebAcl
```bash
# Associate
aws wafv2 associate-web-acl --web-acl-arn <value> --resource-arn <value>
# Disassociate
aws wafv2 disassociate-web-acl --resource-arn <value>
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: AWS WAF рджреНрд╡рд╛рд░рд╛ рд╕рдВрд░рдХреНрд╖рд┐рдд AWS рдкрд░рд┐рд╡реЗрд╢ рдореЗрдВ рд╕реБрд░рдХреНрд╖рд╛ рдХреА рдХрдореА, рд╢реЛрд╖рдг рдХрд╛ рдЬреЛрдЦрд┐рдо рдмрдврд╝рдирд╛, рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рд╕реЗрд╡рд╛ рд╡рд┐рдШрдЯрдиред

### **`wafv2:CreateIPSet` , `wafv2:UpdateIPSet`, `wafv2:DeleteIPSet`**

рдПрдХ рд╣рдорд▓рд╛рд╡рд░ AWS WAF рджреНрд╡рд╛рд░рд╛ рдкреНрд░рдмрдВрдзрд┐рдд IP рд╕реЗрдЯ рдмрдирд╛ рд╕рдХреЗрдЧрд╛, рдЕрдкрдбреЗрдЯ рдХрд░ рд╕рдХреЗрдЧрд╛ рдФрд░ рд╣рдЯрд╛ рд╕рдХреЗрдЧрд╛ред рдпрд╣ рдЦрддрд░рдирд╛рдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдирдП IP рд╕реЗрдЯ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рд╣реЛ, IP рд╕реЗрдЯ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рд╡реИрдз рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рдмреНрд▓реЙрдХ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ, рдорд╛рдиреНрдп IP рдкрддреЛрдВ рдХреЛ рд╣рдЯрд╛ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╕рдВрд░рдХреНрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрдорд┐рдд рдорд╣рддреНрд╡рдкреВрд░реНрдг IP рд╕реЗрдЯ рдХреЛ рд╣рдЯрд╛ рд╕рдХрддрд╛ рд╣реИред
```bash
# Create IP set
aws wafv2 create-ip-set --name <value> --ip-address-version <IPV4 | IPV6> --addresses <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
# Update IP set
aws wafv2 update-ip-set --name <value> --id <value> --addresses <value> --lock-token <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
# Delete IP set
aws wafv2 delete-ip-set --name <value> --id <value> --lock-token <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
```
рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджрд╛рд╣рд░рдг рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ **рд╡рд╛рдВрдЫрд┐рдд рдЖрдИрдкреА рд╕реЗрдЯ рджреНрд╡рд╛рд░рд╛ рдореМрдЬреВрджрд╛ рдЖрдИрдкреА рд╕реЗрдЯ рдХреЛ рдЕрдзрд┐рд▓реЗрдЦрд┐рдд рдХреИрд╕реЗ рдХрд░реЗрдВ**:
```bash
aws wafv2 update-ip-set --name LegitimateIPv4Set --id 1a2b3c4d-1a2b-1a2b-1a2b-1a2b3c4d5e6f --addresses 99.99.99.99/32 --lock-token 1a2b3c4d-1a2b-1a2b-1a2b-1a2b3c4d5e6f --scope CLOUDFRONT --region us-east-1
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдВрдЪ рдФрд░ рд╡реИрдз рдЯреНрд░реИрдлрд┐рдХ рдХрд╛ рдЕрд╡рд░реЛрдзред

### **`wafv2:CreateRegexPatternSet`** , **`wafv2:UpdateRegexPatternSet`**, **`wafv2:DeleteRegexPatternSet`**

рдЗрди рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рд╣рдорд▓рд╛рд╡рд▓рд╛ AWS WAF рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдирд┐рдпрдорд┐рдд рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдкреИрдЯрд░реНрди рд╕реЗрдЯ рдХреЛ рдорд╛рдирд┐рдпреЗ рдФрд░ рдЖрдзрд╛рд░рд┐рдд рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдФрд░ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реИред

- рдирдП рд░реЗрдЬреЗрдХреНрд╕ рдкреИрдЯрд░реНрди рдмрдирд╛рдиреЗ рд╕реЗ рдПрдХ рд╣рдорд▓рд╛рд╡рд▓рд╛ рдХреЛ рд╣рд╛рдирд┐рдХрд╛рд░рдХ рд╕рд╛рдордЧреНрд░реА рдХреЛ рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдореЗрдВ рдорджрдж рдорд┐рд▓реЗрдЧреА
- рдореМрдЬреВрджрд╛ рдкреИрдЯрд░реНрди рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдХреЗ, рдПрдХ рд╣рдорд▓рд╛рд╡рд▓рд╛ рд╕реБрд░рдХреНрд╖рд╛ рдирд┐рдпрдореЛрдВ рдХреЛ рдЫрд▓рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдорд┐рд▓реЗрдЧреА
- рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рдЧрддрд┐рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рдмреНрд▓реЙрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдП рдЧрдП рдкреИрдЯрд░реНрди рд╣рдЯрд╛рдиреЗ рд╕реЗ рдПрдХ рд╣рдорд▓рд╛рд╡рд▓рд╛ рдХреЛ рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рдкреЗрд▓реЛрдб рднреЗрдЬрдиреЗ рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рдЙрдкрд╛рдпреЛрдВ рдХреЛ рдЫрд▓рдиреЗ рдХреА рджрд┐рд╢рд╛ рдореЗрдВ рд▓реЗ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
```bash
# Create regex pattern set
aws wafv2 create-regex-pattern-set --name <value> --regular-expression-list <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1> [--description <value>]
# Update regex pattern set
aws wafv2 update-regex-pattern-set --name <value> --id <value> --regular-expression-list <value> --lock-token <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
# Delete regex pattern set
aws wafv2 delete-regex-pattern-set --name <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1> --id <value> --lock-token <value>
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рд╕реБрд░рдХреНрд╖рд╛ рдирд┐рдпрдВрддреНрд░рдг рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░рдирд╛, рдЬрд╛рдирд▓реЗрд╡рд╛ рд╕рд╛рдордЧреНрд░реА рдХреЛ рдЕрдиреБрдорддрд┐ рджреЗрдирд╛ рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рд░реВрдк рд╕реЗ AWS WAF рджреНрд╡рд╛рд░рд╛ рд╕рдВрд░рдХреНрд╖рд┐рдд рд╕реЗрд╡рд╛рдУрдВ рдФрд░ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рдирд╛ рдФрд░ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреЛ рдкреНрд░рдХрдЯ рдХрд░рдирд╛ рдпрд╛ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд░рдирд╛ред

### **(`wavf2:PutLoggingConfiguration` &** `iam:CreateServiceLinkedRole`), **`wafv2:DeleteLoggingConfiguration`**

рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдХреЗ рдкрд╛рд╕ **`wafv2:DeleteLoggingConfiguration`** рд╣реЛрдиреЗ рдкрд░ рдЙрд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╡реЗрдм ACL рд╕реЗ рд▓реЙрдЧрд┐рдВрдЧ рд╡рд┐рдиреНрдпрд╛рд╕ рдХреЛ рд╣рдЯрд╛ рджреЗрдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрдЧреАред рдЗрд╕рдХреЗ рдмрд╛рдж, **`wavf2:PutLoggingConfiguration`** рдФрд░ **`iam:CreateServiceLinkedRole`** рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде, рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рд▓реЙрдЧрд┐рдВрдЧ рд╡рд┐рдиреНрдпрд╛рд╕ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдкреБрдирдГ рд▓рдЧрд╛ рд╕рдХрддрд╛ рд╣реИ (рдЙрд╕реЗ рд╣рдЯрд╛рдиреЗ рдХреЗ рдмрд╛рдж) рддрд╛рдХрд┐ рд╡рд╣ рд▓реЙрдЧрд┐рдВрдЧ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд░реЛрдХ рд╕рдХреЗ рдпрд╛ рдЕрдирдзрд┐рдХреГрдд рдЧрдВрддрд╡реНрдпреЛрдВ рдкрд░ рд▓реЙрдЧ рдХреЛ рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░ рд╕рдХреЗ, рдЬреИрд╕реЗ Amazon S3 рдмрдХреЗрдЯ, Amazon CloudWatch Logs рд▓реЙрдЧ рд╕рдореВрд╣ рдпрд╛ рдЕрдВрдбрд░ рдХрдВрдЯреНрд░реЛрд▓ рдЕрдореЗрдЬрд╝рди рдХрд╛рдЗрдиреЗрд╕рд┐рд╕ рдбреЗрдЯрд╛ рдлрд╛рдпрд░рд╣реЛрд╕ред

рдирд┐рд░реНрдорд╛рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рджреМрд░рд╛рди, рд╕реЗрд╡рд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЖрд╡рд╢реНрдпрдХ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╕реЗрдЯ рдХрд░рддреА рд╣реИ рддрд╛рдХрд┐ рд▓реЙрдЧ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд▓реЙрдЧрд┐рдВрдЧ рдЧрдВрддрд╡реНрдп рдореЗрдВ рд▓рд┐рдЦреЗ рдЬрд╛ рд╕рдХреЗрдВ:

- **Amazon CloudWatch Logs:** AWS WAF рдирд┐рдпреБрдХреНрдд рдХрд┐рдП рдЧрдП CloudWatch Logs рд▓реЙрдЧ рд╕рдореВрд╣ рдкрд░ рдПрдХ рд╕рдВрд╕рд╛рдзрд┐рдд рдиреАрддрд┐ рдмрдирд╛рддрд╛ рд╣реИред рдпрд╣ рдиреАрддрд┐ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддреА рд╣реИ рдХрд┐ AWS WAF рдХреЗ рдкрд╛рд╕ рд▓реЙрдЧ рд╕рдореВрд╣ рдореЗрдВ рд▓реЙрдЧ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реИрдВред
- **Amazon S3 рдмрдХреЗрдЯ:** AWS WAF рдирд┐рдпреБрдХреНрдд рдХрд┐рдП рдЧрдП S3 рдмрдХреЗрдЯ рдкрд░ рдПрдХ рдмрдХреЗрдЯ рдиреАрддрд┐ рдмрдирд╛рддрд╛ рд╣реИред рдпрд╣ рдиреАрддрд┐ AWS WAF рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдмрдХреЗрдЯ рдореЗрдВ рд▓реЙрдЧ рдЕрдкрд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред
- **Amazon Kinesis рдбреЗрдЯрд╛ рдлрд╛рдпрд░рд╣реЛрд╕:** AWS WAF рдХреЗрд╡рд▓ Kinesis рдбреЗрдЯрд╛ рдлрд╛рдпрд░рд╣реЛрд╕ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реЗрд╡рд╛ рд╕рдВрдмрдВрдзрд┐рдд рднреВрдорд┐рдХрд╛ рдмрдирд╛рддрд╛ рд╣реИред рдпрд╣ рднреВрдорд┐рдХрд╛ AWS WAF рдХреЛ рд╡рд┐рдиреНрдпрд╕реНрдд рдлрд╛рдпрд░рд╣реЛрд╕ рд╕реНрдЯреНрд░реАрдо рдореЗрдВ рд▓реЙрдЧ рдкрд╣реБрдВрдЪрд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред

{% hint style="info" %}

рдПрдХ рд╡реЗрдм ACL рдкреНрд░рддрд┐ рдХреЗрд╡рд▓ рдПрдХ рд▓реЙрдЧрд┐рдВрдЧ рдЧрдВрддрд╡реНрдп рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИред

{% endhint %}
```bash
# Put logging configuration
aws wafv2 put-logging-configuration --logging-configuration <value>
# Delete logging configuration
aws wafv2 delete-logging-configuration --resource-arn <value> [--log-scope <CUSTOMER | SECURITY_LAKE>] [--log-type <value>]
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡:** рд╕реБрд░рдХреНрд╖рд╛ рдШрдЯрдирд╛рдУрдВ рдореЗрдВ рдкрд╛рд░рджрд░реНрд╢рд┐рддрд╛ рдХреЛ рдЕрд╕реНрдкрд╖реНрдЯ рдмрдирд╛рдирд╛, рдШрдЯрдирд╛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдХрдард┐рди рдмрдирд╛рдирд╛, рдФрд░ AWS WAF рд╕рдВрд░рдХреНрд╖рд┐рдд рд╡рд╛рддрд╛рд╡рд░рдгреЛрдВ рдореЗрдВ рдЫреБрдкреЗ рджреБрд░рд╛рдЪрд╛рд░реА рдЧрддрд┐рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рдирд╛ред

### **`wafv2:DeleteAPIKey`**

рдЗрд╕ рдЕрдиреБрдорддрд┐ рдХреЗ рд╕рд╛рде рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдХреЛ рдореМрдЬреВрджрд╛ API рдХреБрдВрдЬрд┐рдпреЛрдВ рдХреЛ рд╣рдЯрд╛ рджреЗрдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрдЧреА, рдЬрд┐рд╕рд╕реЗ CAPTCHA рдЕрдкреНрд░рднрд╛рд╡реА рд╣реЛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдЗрд╕ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рдмрд╛рдзрд┐рдд рдХрд░ рджреЗрдЧрд╛, рдЬреИрд╕реЗ рдХрд┐ рдлреЙрд░реНрдо рд╕рдмрдорд┐рд╢рди рдФрд░ рдПрдХреНрд╕реЗрд╕ рдирд┐рдпрдВрддреНрд░рдгред рдЗрд╕ CAPTCHA рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддреЗ рд╣реБрдП, рдпрд╣ рдпрд╛ рддреЛ рдПрдХ CAPTCHA рдмрд╛рдИрдкрд╛рд╕ рдХреА рдУрд░ рд▓реЗ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рд╕рдВрд╕рд╛рдзрди рдореЗрдВ рддреНрд░реБрдЯрд┐ рдкреНрд░рдмрдВрдзрди рд╕рд╣реА рдврдВрдЧ рд╕реЗ рд╕реЗрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рддреЛ рдПрдХ рдбреАрдУрдПрд╕ рдореЗрдВ рд▓реЗ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
```bash
# Delete API key
aws wafv2 delete-api-key --api-key <value> --scope <REGIONAL --region=<value> | CLOUDFRONT --region=us-east-1>
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: CAPTCHA рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдирд┐рд╖реЗрдзрд┐рдд рдХрд░реЗрдВ рдпрд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рд╡рд┐рдШрдЯрд┐рдд рдХрд░реЗрдВ, рдЬрд┐рд╕рд╕реЗ рд╕реБрд░рдХреНрд╖рд╛ рдЙрд▓реНрд▓рдВрдШрди рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рдбреЗрдЯрд╛ рдЪреЛрд░реА рд╣реЛ рд╕рдХрддреА рд╣реИред

### **`wafv2:TagResource`,┬а`wafv2:UntagResource`**

рдПрдХ рд╣рдорд▓рд╛рд╡рд░ AWS WAFv2 рд╕рдВрд╕рд╛рдзрдиреЛрдВ рд╕реЗ рдЯреИрдЧ рдЬреЛрдбрд╝ рд╕рдХреЗрдЧрд╛, рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░ рд╕рдХреЗрдЧрд╛, рдпрд╛ рд╣рдЯрд╛ рд╕рдХреЗрдЧрд╛, рдЬреИрд╕реЗ рд╡реЗрдм ACL, рдирд┐рдпрдо рд╕рдореВрд╣, рдЖрдИрдкреА рд╕реЗрдЯ, рд░реЗрдЬреЗрдХреНрд╕ рдкреИрдЯрд░реНрди рд╕реЗрдЯ, рдФрд░ рд▓реЙрдЧрд┐рдВрдЧ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рдиред
```bash
# Tag
aws wafv2 tag-resource --resource-arn <value> --tags <value>
# Untag
aws wafv2 untag-resource --resource-arn <value> --tag-keys <value>
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рд╕рдВрд╕рд╛рдзрди рдХреЗ рдЧрд▓рдд рдЫреЗрджрди, рд╕реВрдЪрдирд╛ рд▓реАрдХреЗрдЬ, рд▓рд╛рдЧрдд рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдФрд░ рдкрд░рд┐рдЪрд╛рд▓рди рд╡рд┐рдШрдЯрдиред

# рд╕рдВрджрд░реНрдн
* [https://www.citrusconsulting.com/aws-web-application-firewall-waf/#:~:text=Conditions%20allow%20you%20to%20specify,user%20via%20a%20web%20application](https://www.citrusconsulting.com/aws-web-application-firewall-waf/#:~:text=Conditions%20allow%20you%20to%20specify,user%20via%20a%20web%20application)
* [https://docs.aws.amazon.com/service-authorization/latest/reference/list_awswafv2.html](https://docs.aws.amazon.com/service-authorization/latest/reference/list_awswafv2.html)

{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг AWS рд░реЗрдб рдЯреАрдо рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг GCP рд░реЗрдб рдЯреАрдо рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ!
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдФрд░ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдХреЛ** **рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github рд░реЗрдкреЛ рдореЗрдВ PR рдЬрдорд╛ рдХрд░рдХреЗред

</details>
{% endhint %}
