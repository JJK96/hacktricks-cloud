# AWS - EMR Enum

{% hint style="success" %}
Leer & oefen AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Leer & oefen GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kyk na die [**intekenplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## EMR

AWS se Elastic MapReduce (EMR) diens, vanaf weergawe 4.8.0, het 'n **sekuriteitskonfigurasie** funksie bekendgestel wat data beskerming verbeter deur gebruikers toe te laat om enkripsie-instellings te spesifiseer vir data in rus en in transito binne EMR trosse, wat skaalbare groepe van EC2 gevalle is wat ontwerp is om groot data raamwerke soos Apache Hadoop en Spark te verwerk.

Sleutelkenmerke sluit in:

* **Tros Enkripsie Standaard**: By verstek is data in rus binne 'n tros nie ge√´nkripteer nie. Maar, deur enkripsie te aktiveer, kry gebruikers toegang tot verskeie funksies:
* **Linux Unified Key Setup**: Enkripteer EBS tros volumes. Gebruikers kan kies vir AWS Key Management Service (KMS) of 'n pasgemaakte sleutelverskaffer.
* **Oopbron HDFS Enkripsie**: Bied twee enkripsie-opsies vir Hadoop:
* Veilige Hadoop RPC (Remote Procedure Call), gestel op privaatheid, wat die Simple Authentication Security Layer gebruik.
* HDFS Blok oordrag enkripsie, gestel op waar, gebruik die AES-256 algoritme.
* **Enkripsie in Transito**: Fokus op die beveiliging van data tydens oordrag. Opsies sluit in:
* **Oopbron Transport Layer Security (TLS)**: Enkripsie kan geaktiveer word deur 'n sertifikaatverskaffer te kies:
* **PEM**: Vereis handmatige skepping en bundeling van PEM-sertifikate in 'n zip-l√™er, verwys vanaf 'n S3-emmer.
* **Pasgemaak**: Behels die byvoeging van 'n pasgemaakte Java-klas as 'n sertifikaatverskaffer wat enkripsie artefakte verskaf.

Sodra 'n TLS-sertifikaatverskaffer in die sekuriteitskonfigurasie ge√Øntegreer is, kan die volgende toepassingspesifieke enkripsie-funksies geaktiveer word, wat wissel na gelang van die EMR-weergawe:

* **Hadoop**:
* Mag verminderde ge√´nkripteerde shuffle gebruik met TLS.
* Veilige Hadoop RPC met Simple Authentication Security Layer en HDFS Blok Oordrag met AES-256 word geaktiveer met enkripsie in rus.
* **Presto** (EMR weergawe 5.6.0+):
* Interne kommunikasie tussen Presto nodes word beveilig met SSL en TLS.
* **Tez Shuffle Handler**:
* Gebruik TLS vir enkripsie.
* **Spark**:
* Gebruik TLS vir die Akka-protokol.
* Gebruik Simple Authentication Security Layer en 3DES vir Blok Oordrag Diens.
* Eksterne shuffle diens word beveilig met die Simple Authentication Security Layer.

Hierdie funksies verbeter gesamentlik die sekuriteitsposisie van EMR trosse, veral met betrekking tot databeskerming tydens berging en oordrag fases.

#### Enumerasie
```bash
aws emr list-clusters
aws emr describe-cluster --cluster-id <id>
aws emr list-instances --cluster-id <id>
aws emr list-instance-fleets --cluster-id <id>
aws emr list-steps --cluster-id <id>
aws emr list-notebook-executions
aws emr list-security-configurations
aws emr list-studios #Get studio URLs
```
#### Privesc

{% content-ref url="../aws-privilege-escalation/aws-emr-privesc.md" %}
[aws-emr-privesc.md](../aws-privilege-escalation/aws-emr-privesc.md)
{% endcontent-ref %}

## Verwysings

* [https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/](https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/)

{% hint style="success" %}
Leer & oefen AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Leer & oefen GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kyk na die [**intekenplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** üí¨ [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacking truuks deur PRs in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
