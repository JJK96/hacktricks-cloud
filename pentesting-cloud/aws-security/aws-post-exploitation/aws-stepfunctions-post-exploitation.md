# AWS - рд╕реНрдЯреЗрдк рдлрдВрдХреНрд╢рдиреНрд╕ рдкреЛрд╕реНрдЯ рдПрдХреНрд╕рдкреНрд▓реЛрдЗрдЯреЗрд╢рди

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> рдХреЗ рд╕рд╛рде рдЬреАрд░реЛ рд╕реЗ рд╣реАрд░реЛ рддрдХ AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ!</summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдЕрдЧрд░ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди **HackTricks** рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб** рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks_live**](https://twitter.com/hacktricks_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github рд░реЗрдкреЛ рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗред

</details>

## рд╕реНрдЯреЗрдк рдлрдВрдХреНрд╢рдиреНрд╕

рдЗрд╕ AWS рд╕реЗрд╡рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рджреЗрдЦреЗрдВ:

{% content-ref url="../aws-services/aws-stepfunctions-enum.md" %}
[aws-stepfunctions-enum.md](../aws-services/aws-stepfunctions-enum.md)
{% endcontent-ref %}

### `states:DeleteStateMachine`, `states:DeleteStateMachineVersion`, `states:DeleteStateMachineAlias`

рдЗрди рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рд╕реНрдерд┐рддрд┐ рдорд╢реАрди, рдЙрдирдХреЗ рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рдЙрдкрдирд╛рдо рдХреЛ рд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рд╣рдЯрд╛ рд╕рдХреЗрдЧрд╛ред рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХреЛ рдмрд╛рдзрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдбреЗрдЯрд╛ рд╣рд╛рдирд┐ рдХрд╛ рдкрд░рд┐рдгрд╛рдо рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдкреНрд░рднрд╛рд╡рд┐рдд рд╕реНрдерд┐рддрд┐ рдорд╢реАрдиреЛрдВ рдХреЛ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдФрд░ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдореЗрдВ рдХрд╛рдлреА рд╕рдордп рд▓рдЧ рд╕рдХрддрд╛ рд╣реИред рд╕рд╛рде рд╣реА, рдпрд╣ рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдХреЛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рдЯреНрд░реИрдХреНрд╕ рдХреЛ рдврдХрдиреЗ, рдЬрд╛рдВрдЪ рдХреА рдЬрд╛рдВрдЪ рдХреЛ рдмрд╛рдзрд┐рдд рдХрд░рдиреЗ рдФрд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕реНрд╡рдЪрд╛рд▓рди рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдФрд░ рд╕реНрдерд┐рддрд┐ рд╡рд┐рдиреНрдпрд╛рд╕ рдХреЛ рд╣рдЯрд╛рдХрд░ рд╕рдВрдЪрд╛рд▓рди рдХреЛ рдЕрд╡рд░реБрджреНрдз рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред

{% hint style="info" %}

- рдПрдХ рд╕реНрдерд┐рддрд┐ рдорд╢реАрди рдХреЛ рд╣рдЯрд╛рдиреЗ рдкрд░ рдЖрдк рдЙрд╕рдХреЗ рд╕рднреА рд╕рдВрдмрдВрдзрд┐рдд рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рдЙрдкрдирд╛рдо рд╣рдЯрд╛ рджреЗрддреЗ рд╣реИрдВред
- рдПрдХ рд╕реНрдерд┐рддрд┐ рдорд╢реАрди рдЙрдкрдирд╛рдо рдХреЛ рд╣рдЯрд╛рдиреЗ рдкрд░ рдЖрдк рдЙрд╕ рдЙрдкрдирд╛рдо рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╕реНрдерд┐рддрд┐ рдорд╢реАрди рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЛ рдирд╣реАрдВ рд╣рдЯрд╛ рд╕рдХрддреЗред
- рдПрдХ рд╕реНрдерд┐рддрд┐ рдорд╢реАрди рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рд╣рдЯрд╛рдирд╛ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдЙрдкрдирд╛рдо рд╕рдВрджрд░реНрднрд┐рдд рдХрд░ рд░рд╣рд╛ рд╣реИ, рдпрд╣ рд╕рдВрднрд╛рд╡рдирд╛ рдирд╣реАрдВ рд╣реИред

{% endhint %}
```bash
# Delete state machine
aws stepfunctions delete-state-machine --state-machine-arn <value>
# Delete state machine version
aws stepfunctions delete-state-machine-version --state-machine-version-arn <value>
# Delete state machine alias
aws stepfunctions delete-state-machine-alias --state-machine-alias-arn <value>
```
- **рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХрд╛ рд╡рд┐рдШрдЯрди, рдбреЗрдЯрд╛ рд╣рд╛рдирд┐, рдФрд░ рдкрд░рд┐рдЪрд╛рд▓рди рдбрд╛рдЙрдирдЯрд╛рдЗрдоред

### `states:UpdateMapRun`

рдЗрд╕ рдЕрдиреБрдорддрд┐ рдХреЗ рд╕рд╛рде рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдорд╛рдирдЪрд┐рддреНрд░ рд░рди рд╡рд┐рдлрд▓рддрд╛ рд╡рд┐рдиреНрдпрд╛рд╕ рдФрд░ рд╕рдорд╡рд░реНрддреА рд╕реЗрдЯрд┐рдВрдЧ рдХреЛ рд╣рд╕реНрддрд╛рдВрддрд░рд┐рдд рдХрд░ рд╕рдХреЗрдЧрд╛, рдЕрдзрд┐рдХрддрдо рдмрдЪреНрдЪреЗ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рдХреА рдЕрдиреБрдорддрд┐ рдХреЛ рдмрдврд╝рд╛рдиреЗ рдпрд╛ рдХрдо рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрдЧреА, рд╕реЗрд╡рд╛ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдкрд░ рд╕реАрдзреЗ рдкреНрд░рднрд╛рд╡ рдбрд╛рд▓ рд╕рдХрддрд╛ рд╣реИред рд╕рд╛рде рд╣реА, рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдзреАрд░реЗ рд╕реЗ рд╕рд╣рдиреАрдп рд╡рд┐рдлрд▓рддрд╛ рдкреНрд░рддрд┐рд╢рдд рдФрд░ рдЧрдгрдирд╛ рдХреЗ рд╕рд╛рде рдЦрд┐рд▓рд╡рд╛рдбрд╝ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕ рдореВрд▓реНрдп рдХреЛ 0 рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрдЧреА рддрд╛рдХрд┐ рд╣рд░ рдмрд╛рд░ рдЬрдм рдПрдХ рдЖрдЗрдЯрдо рд╡рд┐рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рдкреВрд░рд╛ рдорд╛рдирдЪрд┐рддреНрд░ рд░рди рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛, рд░рд╛рдЬреНрдп рдорд╢реАрди рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рдкрд░ рд╕реАрдзреЗ рдкреНрд░рднрд╛рд╡ рдбрд╛рд▓рддреЗ рд╣реБрдП рдФрд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХреЛ рд╡рд┐рдШрдЯрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
```bash
aws stepfunctions update-map-run --map-run-arn <value> [--max-concurrency <value>] [--tolerated-failure-percentage <value>] [--tolerated-failure-count <value>]
```
- **рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдкреНрд░рджрд░реНрд╢рди рдХрд╛ рдХрдореА, рдФрд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХрд╛рд░реНрдпрдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХрд╛ рд╡рд┐рдШрдЯрдиред

### `states:StopExecution`

рдЗрд╕ рдЕрдиреБрдорддрд┐ рдХреЗ рд╕рд╛рде рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдХрд┐рд╕реА рднреА рд╕реНрдерд┐рддрд┐ рдорд╢реАрди рдХрд╛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рд░реЛрдХ рд╕рдХрддрд╛ рд╣реИ, рдЬрд╛рд░реА рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдФрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдмрд╛рдзрд┐рдд рдХрд░рддрд╛ рд╣реИред рдЗрд╕рд╕реЗ рдЕрдзреВрд░реЗ рд▓реЗрди-рджреЗрди, рдард╣рд░реА рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдБ, рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рдбреЗрдЯрд╛ рдХрд╛ рднреНрд░рд╖реНрдЯрд╛рдЪрд╛рд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

{% hint style="warning" %}
рдпрд╣ рдХрд╛рд░реНрд░рд╡рд╛рдИ **рдПрдХреНрд╕рдкреНрд░реЗрд╕ рд╕реНрдерд┐рддрд┐ рдорд╢реАрдиреЛрдВ** рджреНрд╡рд╛рд░рд╛ рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИред
{% endhint %}
```bash
aws stepfunctions stop-execution --execution-arn <value> [--error <value>] [--cause <value>]
```
- **рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдЪрд▓ рд░рд╣реЗ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХрд╛ рд╡рд┐рдШрдЯрди, рдкрд░рд┐рдЪрд╛рд▓рди рдХрд╛ рд╕рдордп рдмрдВрдж рд╣реЛрдирд╛, рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рдбреЗрдЯрд╛ рдХрд╛ рднреНрд░рд╖реНрдЯрд╛рдЪрд╛рд░ред

### `states:TagResource`, `states:UntagResource`

рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рд╕реНрдЯреЗрдк рдлрд╝рдВрдХреНрд╢рдиреНрд╕ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рд╕реЗ рдЯреИрдЧ рдЬреЛрдбрд╝ рд╕рдХрддрд╛ рд╣реИ, рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдпрд╛ рд╣рдЯрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЖрдкрдХреЗ рд╕рдВрдЧрдарди рдХреЗ рд▓рд╛рдЧрдд рдЖрд╡рдВрдЯрди, рд╕рдВрд╕рд╛рдзрди рдЯреНрд░реИрдХрд┐рдВрдЧ, рдФрд░ рдЯреИрдЧ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рдиреАрддрд┐рдпреЛрдВ рдореЗрдВ рд╡рд┐рдШрдЯрди рд╣реЛ рд╕рдХрддрд╛ рд╣реИред
```bash
aws stepfunctions tag-resource --resource-arn <value> --tags Key=<key>,Value=<value>
aws stepfunctions untag-resource --resource-arn <value> --tag-keys <key>
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рд▓рд╛рдЧрдд рдЖрд╡рдВрдЯрди, рд╕рдВрд╕рд╛рдзрди рдЯреНрд░реИрдХрд┐рдВрдЧ, рдФрд░ рдЯреИрдЧ-рдЖрдзрд╛рд░рд┐рдд рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рдиреАрддрд┐рдпреЛрдВ рдХрд╛ рд╡рд┐рдШрдЯрдиред

<details>

<summary><strong>AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдЬреАрд░реЛ рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

рджреВрд╕рд░реЗ рддрд░реАрдХреЗ HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:

* рдЕрдЧрд░ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб** рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks_live**](https://twitter.com/hacktricks_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ **HackTricks** рдФрд░ **HackTricks Cloud** github repos рдореЗрдВред

</details>
