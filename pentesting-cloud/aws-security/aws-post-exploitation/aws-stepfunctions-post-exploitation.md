# AWS - Step Functions Na-uitbuiting

<details>

<summary><strong>Leer AWS hakwerk vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai** Kyk na die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS Familie**](https://opensea.io/collection/the-peass-family), ons versameling van eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou haktruuks deur PRs in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Step Functions

Vir meer inligting oor hierdie AWS-diens, kyk:

{% content-ref url="../aws-services/aws-stepfunctions-enum.md" %}
[aws-stepfunctions-enum.md](../aws-services/aws-stepfunctions-enum.md)
{% endcontent-ref %}

### `states:DeleteStateMachine`, `states:DeleteStateMachineVersion`, `states:DeleteStateMachineAlias`

'n Aanvaller met hierdie regte sou in staat wees om staatmasjiene, hul weergawes, en aliase permanent te verwyder. Dit kan kritieke werkstrome ontwrig, data verlies tot gevolg h√™, en aansienlike tyd verg om die geaffekteerde staatmasjiene te herstel en te herstel. Daarbenewens sou dit 'n aanvaller in staat stel om die spore wat gebruik is, te verdoof, forensiese ondersoeke te ontwrig, en moontlik operasies te verlam deur noodsaaklike outomatiseringsprosesse en staatkonfigurasies te verwyder.

{% hint style="info" %}

- Deur 'n staatmasjien te verwyder, verwyder jy ook al sy geassosieerde weergawes en aliase.
- Deur 'n staatmasjien-alias te verwyder, verwyder jy nie die staatmasjienweergawes wat na hierdie alias verwys nie.
- Dit is nie moontlik om 'n staatmasjienweergawe te verwyder wat tans deur een of meer aliase verwys word nie.

{% endhint %}
```bash
# Delete state machine
aws stepfunctions delete-state-machine --state-machine-arn <value>
# Delete state machine version
aws stepfunctions delete-state-machine-version --state-machine-version-arn <value>
# Delete state machine alias
aws stepfunctions delete-state-machine-alias --state-machine-alias-arn <value>
```
- **Potensi√´le Impak**: Versteuring van kritieke werkstrome, dataverlies, en operasionele afbreektyd.

### `states:UpdateMapRun`

'n Aanvaller met hierdie toestemming sou in staat wees om die Map Run mislukkingkonfigurasie en parallelle instelling te manipuleer, en sodoende die maksimum aantal kindwerkstroomuitvoerings te verhoog of te verlaag, wat direk die prestasie van die diens be√Ønvloed. Daarbenewens sou 'n aanvaller met die toegang die aanvaarde mislukkingspersentasie en telling kan manipuleer, en sodoende hierdie waarde na 0 kan verlaag sodat elke keer as 'n item misluk, die hele kaartloop misluk, wat direk die uitvoering van die staatmasjien be√Ønvloed en moontlik kritieke werkstrome versteur.
```bash
aws stepfunctions update-map-run --map-run-arn <value> [--max-concurrency <value>] [--tolerated-failure-percentage <value>] [--tolerated-failure-count <value>]
```
- **Potensi√´le Impak**: Prestasie-agteruitgang, en ontwrigting van kritieke werkstrome.

### `states:StopExecution`

'n Aanvaller met hierdie toestemming kan die uitvoering van enige staatmasjien stop, wat aan die gang werkstrome en prosesse ontwrig. Dit kan lei tot onvolledige transaksies, gestopte besigheidsoperasies, en potensi√´le dataverstoring.

{% hint style="warning" %}
Hierdie aksie word nie ondersteun deur **uitdruklike staatmasjiene** nie.
{% endhint %}
```bash
aws stepfunctions stop-execution --execution-arn <value> [--error <value>] [--cause <value>]
```
- **Potensi√´le Impak**: Versteuring van aanhoudende werkstrome, operasionele afbreek en potensi√´le data korrupsie.

### `states:TagResource`, `states:UntagResource`

'n Aanvaller kan etikette byvoeg, wysig, of verwyder van Step Functions bronne, wat jou organisasie se koste-toewysing, bron-opsporing, en toegangsbeheerbeleid op etikette kan versteur.
```bash
aws stepfunctions tag-resource --resource-arn <value> --tags Key=<key>,Value=<value>
aws stepfunctions untag-resource --resource-arn <value> --tag-keys <key>
```
**Potensi√´le Impak**: Onderbreking van koste-toewysing, hulpbron-opsporing, en tag-gebaseerde toegangsbeheer beleid.

<details>

<summary><strong>Leer AWS hak vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat** Kyk na die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS Familie**](https://opensea.io/collection/the-peass-family), ons versameling van eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou haktruuks deur PRs in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
