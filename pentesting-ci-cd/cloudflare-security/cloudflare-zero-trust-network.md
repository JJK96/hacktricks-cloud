# Cloudflare Zero Trust Network

<details>

{% hint style="success" %}
AWSハッキングの学習と練習:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCPハッキングの学習と練習: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksのサポート</summary>

* [**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェック！
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に参加するか、[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**をフォロー**してください。
* **HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリにPRを提出して**ハッキングテクニックを共有**してください。

</details>
{% endhint %}

**Cloudflare Zero Trust Network**アカウントには、設定やサービスが構成できるものがあります。このページでは、各セクションのセキュリティ関連設定を分析します。

<figure><img src="../../.gitbook/assets/image (206).png" alt=""><figcaption></figcaption></figure>

## Analytics

* [ ] **環境を知る**のに役立ちます

## **Gateway**

* [ ] **`Policies`**では、**DNS**、**ネットワーク**、または**HTTP**リクエストによるアプリケーションへのアクセスを**制限**するポリシーを生成できます。
* 使用する場合、**ポリシー**を作成して**悪意のあるサイトへのアクセスを制限**できます。
* これは**ゲートウェイが使用されている場合にのみ関連する**ものであり、そうでない場合は防御ポリシーを作成する理由はありません。

## Access

### Applications

各アプリケーションで：

* [ ] **Policies**でアプリケーションへのアクセス権限を持つ**誰**がいるかを確認し、**アプリケーションにアクセスする必要があるユーザーだけ**がアクセスできることを確認します。
* アクセスを許可するために**`Access Groups`**が使用される（**追加のルール**も設定できます）
* [ ] **利用可能なアイデンティティプロバイダ**を確認し、**あまりにもオープンではない**ことを確認します
* [ ] **`Settings`**で：
* [ ] **CORSが有効になっていない**ことを確認します（有効になっている場合は、**安全**であり、すべてを許可していないことを確認します）
* [ ] Cookieは**Strict Same-Site**属性、**HTTP Only**、およびアプリケーションがHTTPの場合は**binding cookie**が**有効**である必要があります。
* より良い**保護**のために**ブラウザレンダリング**も有効にすることを検討してください。[**リモートブラウザ分離に関する詳細はこちら**](https://blog.cloudflare.com/cloudflare-and-remote-browser-isolation/)**。**

### **Access Groups**

* [ ] 生成されたアクセスグループが、許可すべきユーザーに**適切に制限**されていることを確認します。
* **デフォルトのアクセスグループが非常にオープン**でないことを特に確認することが重要です（**多くの人を許可していない**）デフォルトでは、その**グループ**にいる誰でも**アプリケーションにアクセス**できるようになります。
* **EVERYONE**に**アクセス**を与えることや、100%必要な場合を除いては**推奨されない非常にオープンなポリシー**を設定することが可能であることに注意してください。

### Service Auth

* [ ] すべてのサービストークンが**1年以内に期限切れ**になっていることを確認します

### Tunnels

TODO

## My Team

TODO

## Logs

* [ ] ユーザーからの**予期しないアクション**を検索できます

## Settings

* [ ] **プランタイプ**を確認します
* **クレジットカードの所有者名**、**最後の4桁**、**有効期限**、および**住所**を確認できます
* **サービスを実際に使用していないユーザーを削除**するために**ユーザーシートの有効期限**を追加することをお勧めします

<details>

{% hint style="success" %}
AWSハッキングの学習と練習:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCPハッキングの学習と練習: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksのサポート</summary>

* [**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェック！
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に参加するか、[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**をフォロー**してください。
* **HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリにPRを提出して**ハッキングテクニックを共有**してください。

</details>
{% endhint %}
