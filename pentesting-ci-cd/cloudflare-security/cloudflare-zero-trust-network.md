# Rede de Confian√ßa Zero da Cloudflare

<details>

{% hint style="success" %}
Aprenda e pratique Hacking AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Treinamento HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Aprenda e pratique Hacking GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Treinamento HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoie o HackTricks</summary>

* Verifique os [**planos de assinatura**](https://github.com/sponsors/carlospolop)!
* **Junte-se ao** üí¨ [**grupo Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo telegram**](https://t.me/peass) ou **siga-nos** no **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe truques de hacking enviando PRs para os reposit√≥rios** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}

Em uma conta da **Rede de Confian√ßa Zero da Cloudflare**, existem algumas **configura√ß√µes e servi√ßos** que podem ser configurados. Nesta p√°gina, vamos **analisar as configura√ß√µes relacionadas √† seguran√ßa de cada se√ß√£o:**

<figure><img src="../../.gitbook/assets/image (206).png" alt=""><figcaption></figcaption></figure>

## An√°lises

* [ ] √ötil para **conhecer o ambiente**

## **Gateway**

* [ ] Em **`Pol√≠ticas`** √© poss√≠vel gerar pol√≠ticas para **restringir** por **DNS**, **rede** ou **requisi√ß√£o HTTP** quem pode acessar aplicativos.
* Se usado, **pol√≠ticas** podem ser criadas para **restringir** o acesso a sites maliciosos.
* Isso √© **apenas relevante se um gateway estiver sendo usado**, caso contr√°rio, n√£o h√° motivo para criar pol√≠ticas defensivas.

## Acesso

### Aplicativos

Em cada aplicativo:

* [ ] Verifique **quem** pode acessar o aplicativo nas **Pol√≠ticas** e verifique que **apenas** os **usu√°rios** que **precisam de acesso** ao aplicativo podem acessar.
* Para permitir o acesso, ser√£o usados **`Grupos de Acesso`** (e tamb√©m podem ser definidas **regras adicionais**)
* [ ] Verifique os **provedores de identidade dispon√≠veis** e certifique-se de que **n√£o sejam muito abertos**
* [ ] Em **`Configura√ß√µes`**:
* [ ] Verifique se o **CORS n√£o est√° habilitado** (se estiver habilitado, verifique se √© **seguro** e n√£o est√° permitindo tudo)
* Os cookies devem ter o atributo **Strict Same-Site**, **HTTP Only** e o **cookie de liga√ß√£o** deve estar **habilitado** se o aplicativo for HTTP.
* Considere tamb√©m habilitar a **renderiza√ß√£o do navegador** para uma melhor **prote√ß√£o**. Mais informa√ß√µes sobre [**isolamento remoto do navegador aqui**](https://blog.cloudflare.com/cloudflare-and-remote-browser-isolation/)**.**

### **Grupos de Acesso**

* [ ] Verifique se os grupos de acesso gerados est√£o **corretamente restritos** aos usu√°rios que devem permitir.
* √â especialmente importante verificar se o **grupo de acesso padr√£o n√£o √© muito aberto** (n√£o est√° permitindo muitas pessoas) pois por **padr√£o** qualquer pessoa nesse **grupo** poder√° **acessar aplicativos**.
* Note que √© poss√≠vel dar **acesso** a **TODOS** e a outras **pol√≠ticas muito abertas** que n√£o s√£o recomendadas a menos que sejam 100% necess√°rias.

### Autentica√ß√£o de Servi√ßo

* [ ] Verifique se todos os tokens de servi√ßo **expiram em 1 ano ou menos**

### T√∫neis

TODO

## Minha Equipe

TODO

## Logs

* [ ] Voc√™ pode procurar por **a√ß√µes inesperadas** de usu√°rios

## Configura√ß√µes

* [ ] Verifique o **tipo de plano**
* √â poss√≠vel ver o **nome do propriet√°rio do cart√£o de cr√©dito**, os **√∫ltimos 4 d√≠gitos**, a **data de validade** e o **endere√ßo**
* √â recomend√°vel **adicionar uma Expira√ß√£o de Assento de Usu√°rio** para remover usu√°rios que realmente n√£o usam este servi√ßo

<details>

{% hint style="success" %}
Aprenda e pratique Hacking AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Treinamento HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Aprenda e pratique Hacking GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Treinamento HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoie o HackTricks</summary>

* Verifique os [**planos de assinatura**](https://github.com/sponsors/carlospolop)!
* **Junte-se ao** üí¨ [**grupo Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo telegram**](https://t.me/peass) ou **siga-nos** no **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe truques de hacking enviando PRs para os reposit√≥rios** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}
