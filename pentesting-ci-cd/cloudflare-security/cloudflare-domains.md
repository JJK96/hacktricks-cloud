# Cloudflare Alanları

<details>

{% hint style="success" %}
AWS Hacking öğrenin ve uygulayın:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Eğitim AWS Kırmızı Takım Uzmanı (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking öğrenin ve uygulayın: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Eğitim GCP Kırmızı Takım Uzmanı (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın veya bizi **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin**.
* **Hacking püf noktalarını paylaşarak** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına PR gönderin.

</details>
{% endhint %}

Cloudflare'de yapılandırılmış her TLD'de yapılandırılabilecek bazı **genel ayarlar ve hizmetler** bulunmaktadır. Bu sayfada her bölümün **güvenlikle ilgili ayarlarını analiz edeceğiz:**

<figure><img src="../../.gitbook/assets/image (101).png" alt=""><figcaption></figcaption></figure>

## Genel Bakış

* [ ] Hesabın **ne kadar** hizmet kullandığına dair bir **fikir edinin**
* [ ] Ayrıca **bölge kimliği** ve **hesap kimliğini** bulun

## Analitik

* [ ] **`Güvenlik`** bölümünde herhangi bir **Oran sınırlaması** olup olmadığını kontrol edin

## DNS

* [ ] DNS **kayıtlarında** **ilginç** (duyarlı?) verileri kontrol edin
* [ ] Sadece **adına** dayanarak **duyarlı bilgiler** içerebilecek **alt alanlarını** kontrol edin (örneğin admin173865324.domin.com gibi)
* [ ] **Proxy yapılmayan** web sayfalarını kontrol edin
* [ ] **Proxy yapılmış web sayfalarını** CNAME veya IP adresi ile **doğrudan erişilebilir** olup olmadığını kontrol edin
* [ ] **DNSSEC**'in **etkin** olduğunu kontrol edin
* [ ] Tüm CNAME'lerde **CNAME Düzleştirme**nin **kullanıldığını** kontrol edin
* Bu, **alt alan ele geçirme zafiyetlerini gizlemeye** ve yükleme sürelerini iyileştirmeye yardımcı olabilir
* [ ] Alanların [**sahte olmaya karşı savunmasız olup olmadığını**](https://book.hacktricks.xyz/network-services-pentesting/pentesting-smtp#mail-spoofing) kontrol edin

## **E-posta**

YAPILACAK

## Spectrum

YAPILACAK

## SSL/TLS

### **Genel Bakış**

* [ ] **SSL/TLS şifrelemesi** **Tam** veya **Tam (Katı)** olmalıdır. Başka bir seçenek belirli bir noktada **açık metin trafiği** gönderecektir.
* [ ] **SSL/TLS Tavsiye Edici** etkin olmalıdır

### Kenar Sertifikaları

* [ ] **Her zaman HTTPS Kullan** etkin olmalıdır
* [ ] **HTTP Katı Taşıma Güvenliği (HSTS)** etkin olmalıdır
* [ ] **Minimum TLS Sürümü 1.2** olmalıdır
* [ ] **TLS 1.3 etkin** olmalıdır
* [ ] **Otomatik HTTPS Yeniden Yazımı** etkin olmalıdır
* [ ] **Sertifika Şeffaflık İzleme** etkin olmalıdır

## **Güvenlik**

* [ ] **`WAF`** bölümünde **Güvenlik Duvarı** ve **oran sınırlama kurallarının** kötüye kullanımları önlemek için kullanıldığını kontrol etmek ilginç olabilir.
* **`Atlat`** eylemi bir istek için **Cloudflare güvenlik** özelliklerini devre dışı bırakacaktır. Bu kullanılmamalıdır.
* [ ] **`Sayfa Kalkanı`** bölümünde, kullanılan herhangi bir sayfanın **etkin** olup olmadığını kontrol etmek önerilir
* [ ] **`API Kalkanı`** bölümünde, kullanılan herhangi bir API'nin Cloudflare'de açık olup olmadığını kontrol etmek önerilir
* [ ] **`DDoS`** bölümünde, **DDoS korumalarını** etkinleştirmek önerilir
* [ ] **`Ayarlar`** bölümünde:
* [ ] **`Güvenlik Seviyesi`**nin **orta** veya daha yüksek olup olmadığını kontrol edin
* [ ] **`Zorluk Geçişi`**nin en fazla 1 saat olup olmadığını kontrol edin
* [ ] **`Tarayıcı Bütünlük Kontrolü`**nün **etkin** olup olmadığını kontrol edin
* [ ] **`Gizlilik Geçişi Desteği`**nin **etkin** olup olmadığını kontrol edin

### **CloudFlare DDoS Koruması**

* Mümkünse **Bot Savaşı Modu** veya **Süper Bot Savaşı Modu**'nu etkinleştirin. Programatik olarak erişilen bazı API'leri koruyorsanız (örneğin bir JS ön uç sayfasından), bu erişimi bozmadan bunu etkinleştiremeyebilirsiniz.
* **WAF**'da: **URL yoluna göre oran sınırları** veya **doğrulanmış botlara** (Oran sınırlama kuralları) veya IP, Çerez, yönlendiriciye dayalı erişimi **engellemek** için kurallar oluşturabilirsiniz. Böylece bir web sayfasından gelmeyen veya bir çereze sahip olmayan istekleri engelleyebilirsiniz.
* Saldırı doğrulanmış bir bot tarafından ise, en azından botlara bir **oran sınırlaması ekleyin**.
* Saldırı belirli bir yola yönelikse, önleme mekanizması olarak bu yola bir **oran sınırlaması ekleyin**.
* **IP adreslerini**, IP aralıklarını, ülkeleri veya AS'leri **WAF'daki Araçlar** bölümünden **beyaz listeye alabilirsiniz**.
* **Yönetilen kuralların** zafiyetlerin istismarlarını önlemeye yardımcı olup olamayacağını kontrol edin.
* **Araçlar** bölümünde belirli IP'leri ve **kullanıcı ajanlarına** **engel koyabilir veya zorluk verebilirsiniz**.
* DDoS'ta bazı kuralları **daha kısıtlayıcı hale getirmek için** bazı kuralları **geçersiz kılabilirsiniz**.
* **Ayarlar**: **Güvenlik Seviyesini** **Yüksek** olarak ayarlayın ve **Saldırı Altında** iseniz ve **Tarayıcı Bütünlük Kontrolünün etkin** olduğundan emin olun.
* Cloudflare Alanları -> Analitik -> Güvenlik -> **Oran sınırlamasının etkin** olup olmadığını kontrol edin
* Cloudflare Alanları -> Güvenlik -> Olaylar -> **Algılanan kötü amaçlı Olayları kontrol edin**

## Erişim

{% content-ref url="cloudflare-zero-trust-network.md" %}
[cloudflare-zero-trust-network.md](cloudflare-zero-trust-network.md)
{% endcontent-ref %}

## Hız

_Güvenlikle ilgili bir seçenek bulamadım_

## Önbellekleme

* [ ] **`Yapılandırma`** bölümünde **CSAM Tarama Aracı**nı etkinleştirmeyi düşünün

## **Çalışan Yolları**

_Zaten_ [_cloudflare çalışanlarını_](./#workers) kontrol etmelisiniz

## Kurallar

YAPILACAK

## Ağ

* [ ] **`HTTP/2`** etkinse, **`HTTP/2'yi Hedefe`** etkinleştirin
* [ ] **`HTTP/3 (QUIC ile)`** etkin olmalıdır
* [ ] **Kullanıcılarınızın gizliliği** önemliyse, **`Soğan Yönlendirme`**'nin etkin olduğundan emin olun

## **Trafik**

YAPILACAK

## Özel Sayfalar

* [ ] Güvenlikle ilgili bir hata tetiklendiğinde özel sayfaları yapılandırmak isteğe bağlıdır (örneğin bir engelleme, oran sınırlama veya Saldırı Altındayım modu)
## Uygulamalar

TODO

## Veri Kazıma Kalkanı

* [ ] **E-posta Adresi Gizleme**'nin **etkin** olduğunu kontrol edin
* [ ] **Sunucu Tarafı Hariç Tutma**'nın **etkin** olduğunu kontrol edin

## **Zaraz**

TODO

## **Web3**

TODO

<details>

{% hint style="success" %}
AWS Hacking'i öğrenin ve uygulayın:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Eğitim AWS Kırmızı Takım Uzmanı (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking'i öğrenin ve uygulayın: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Eğitim GCP Kırmızı Takım Uzmanı (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) katılın veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **HackTricks** ve **HackTricks Cloud** github depolarına PR göndererek hackleme püf noktalarını paylaşın.

</details>
{% endhint %}
