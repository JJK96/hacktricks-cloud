# Cloudflare Domeine

<details>

{% hint style="success" %}
Leer & oefen AWS-hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Opleiding AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Leer & oefen GCP-hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Opleiding GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Controleer die [**inskrywingsplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>
{% endhint %}

In elke TLD wat in Cloudflare opgestel is, is daar sekere **algemene instellings en dienste** wat opgestel kan word. Op hierdie bladsy gaan ons die **sekuriteitsverwante instellings van elke afdeling analiseer:**

<figure><img src="../../.gitbook/assets/image (101).png" alt=""><figcaption></figcaption></figure>

## Oorsig

* [ ] Kry 'n gevoel van **hoeveel** die dienste van die rekening **gebruik** word
* [ ] Vind ook die **sone-ID** en die **rekening-ID**

## Analitika

* [ ] In **`Sekuriteit`** kyk of daar enige **Tariefbeperking** is

## DNS

* [ ] Kontroleer **interessante** (sensitiewe?) data in DNS **rekords**
* [ ] Kontroleer vir **subdomeine** wat moontlik **sensitiewe inligting** kan bevat gebaseer op die **naam** (soos admin173865324.domin.com)
* [ ] Kontroleer vir webbladsye wat **nie** **geprokseer** is nie
* [ ] Kontroleer vir **geprokseerde webbladsye** wat direk toeganklik kan wees deur CNAME of IP-adres
* [ ] Kontroleer dat **DNSSEC** **geaktiveer** is
* [ ] Kontroleer dat **CNAME Flattening** in **alle CNAMEs gebruik** word
* Dit kan nuttig wees om **subdomeinoorneembaarheidskwesbaarhede** te verberg en laai-tye te verbeter
* [ ] Kontroleer dat die domeine [**nie vatbaar is vir vervalsing**](https://book.hacktricks.xyz/network-services-pentesting/pentesting-smtp#mail-spoofing)

## **E-pos**

TODO

## Spektrum

TODO

## SSL/TLS

### **Oorsig**

* [ ] Die **SSL/TLS-versleuteling** moet **Volledig** of **Volledig (Streng)** wees. Enige ander sal op 'n stadium **teksverkeer** stuur.
* [ ] Die **SSL/TLS-aanbeveler** moet geaktiveer wees

### Randsertifikate

* [ ] **Gebruik altyd HTTPS** moet geaktiveer wees
* [ ] **HTTP Streng Vervoerveiligheid (HSTS)** moet geaktiveer wees
* [ ] **Minimum TLS-weergawe moet 1.2 wees**
* [ ] **TLS 1.3 moet geaktiveer wees**
* [ ] **Outomatiese HTTPS-herleidings** moet geaktiveer wees
* [ ] **Sertifikaattransparantie-monitoring** moet geaktiveer wees

## **Sekuriteit**

* [ ] In die **`WAF`**-afdeling is dit interessant om te kontroleer dat **Vuurwal** en **tariefbeperkingsre√´ls gebruik word** om misbruik te voorkom.
* Die **`Deurloop`**-aksie sal **Cloudflare-sekuriteit uitskakel**-kenmerke vir 'n versoek. Dit behoort nie gebruik te word nie.
* [ ] In die **`Bladsybeskerming`**-afdeling word aanbeveel om te kontroleer dat dit **geaktiveer** is as enige bladsy gebruik word
* [ ] In die **`API-beskerming`**-afdeling word aanbeveel om te kontroleer dat dit **geaktiveer** is as enige API in Cloudflare blootgestel word
* [ ] In die **`DDoS`**-afdeling word aanbeveel om die **DDoS-beskerming** te aktiveer
* [ ] In die **`Instellings`**-afdeling:
* [ ] Kontroleer dat die **`Sekuriteitsvlak`** **medium** of ho√´r is
* [ ] Kontroleer dat die **`Uitdagingsdeurloop`** 1 uur op die maksimum is
* [ ] Kontroleer dat die **`Blaaierintegriteitskontrole`** **geaktiveer** is
* [ ] Kontroleer dat die **`Privasiestootpas-ondersteuning`** **geaktiveer** is

### **CloudFlare DDoS-beskerming**

* As jy kan, aktiveer **Bot Fight Mode** of **Super Bot Fight Mode**. As jy 'n API beskerm wat programmaties benader word (vanaf 'n JS-voorkantbladsy byvoorbeeld). Jy mag dalk nie hierdie kan aktiveer sonder daardie toegang te verbreek nie.
* In **WAF**: Jy kan **tariefbeperkings volgens URL-pad** of vir **geregistreerde bots** (Tariefbeperkingsre√´ls) skep, of toegang blokkeer gebaseer op IP, Koekie, verwysings...). Jy kan dus versoek blokkeer wat nie van 'n webbladsy afkomstig is of 'n koekie het nie.
* As die aanval van 'n **geregistreerde bot** afkomstig is, voeg ten minste 'n tariefbeperking vir bots by.
* As die aanval op 'n **spesifieke pad** is, voeg as voorkomingsmeganisme 'n **tariefbeperking** in hierdie pad by.
* Jy kan ook IP-adresse, IP-reekse, lande of ASNs van die **Gereedskap** in WAF **witlys**.
* Kontroleer of **Bestuurde re√´ls** ook kan help om kwesbaarheidsexploitasies te voorkom.
* In die **Gereedskap**-afdeling kan jy **spesifieke IP-adresse** en **gebruikeragents** **blokkeer of 'n uitdaging gee**.
* In DDoS kan jy **sekere re√´ls oorskryf om hulle strenger te maak**.
* **Instellings**: Stel **Sekuriteitsvlak** op **Hoog** en op **Onder Aanval** as jy Onder Aanval is en dat die **Blaaierintegriteitskontrole geaktiveer** is.
* In Cloudflare Domeine -> Analitika -> Sekuriteit -> Kontroleer of **tariefbeperking** geaktiveer is
* In Cloudflare Domeine -> Sekuriteit -> Gebeure -> Kontroleer vir **opgespoorde skadelike Gebeure**

## Toegang

{% content-ref url="cloudflare-zero-trust-network.md" %}
[cloudflare-zero-trust-network.md](cloudflare-zero-trust-network.md)
{% endcontent-ref %}

## Spoed

_Ek kon nie enige opsie wat met sekuriteit verband hou nie, vind nie_

## Kassering

* [ ] In die **`Konfigurasie`**-afdeling oorweeg om die **CSAM-skanderingstool** te aktiveer

## **Werkerroetes**

_Jy behoort reeds_ [_cloudflare werkers_](./#werkers) _gekontroleer te het_

## Re√´ls

TODO

## Netwerk

* [ ] As **`HTTP/2`** geaktiveer is, moet **`HTTP/2 na Oorsprong`** geaktiveer wees
* [ ] **`HTTP/3 (met QUIC)`** moet geaktiveer wees
* [ ] As die **privasietyd** van jou **gebruikers** belangrik is, maak seker dat **`Uie-roete`** geaktiveer is

## **Verkeer**

TODO

## Aangepaste Bladsye

* [ ] Dit is opsioneel om aangepaste bladsye te konfigureer wanneer 'n fout wat met sekuriteit verband hou, geaktiveer word (soos 'n blokkering, tariefbeperking of ek is onder aanval-modus)
## Apps

TODO

## Skraap Skild

* [ ] Kontroleer of **E-posadres Verduistering** is **geaktiveer**
* [ ] Kontroleer of **Bedienerkant Uitsluitings** is **geaktiveer**

## **Zaraz**

TODO

## **Web3**

TODO

<details>

{% hint style="success" %}
Leer & oefen AWS Hack: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Opleiding AWS Rooi Span Kenner (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Leer & oefen GCP Hack: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Opleiding GCP Rooi Span Kenner (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kontroleer die [**inskrywingsplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** üí¨ [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacktruuks deur PRs in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>
{% endhint %}
