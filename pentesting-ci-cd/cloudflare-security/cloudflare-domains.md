# Cloudflare Domains

<details>

{% hint style="success" %}
Μάθετε & εξασκηθείτε στο AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Μάθετε & εξασκηθείτε στο GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Υποστηρίξτε το HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Εγγραφείτε** στην 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε κόλπα χάκερ κάνοντας υποβολή PRs** στα αποθετήρια [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) στο GitHub.

</details>
{% endhint %}

Σε κάθε TLD που έχει ρυθμιστεί στο Cloudflare υπάρχουν **γενικές ρυθμίσεις και υπηρεσίες** που μπορούν να ρυθμιστούν. Σε αυτήν τη σελίδα θα **αναλύσουμε τις ρυθμίσεις που σχετίζονται με την ασφάλεια κάθε ενότητας:**

<figure><img src="../../.gitbook/assets/image (101).png" alt=""><figcaption></figcaption></figure>

## Επισκόπηση

* [ ] Αποκτήστε μια **αισθητική** του **πόσο** χρησιμοποιούνται οι υπηρεσίες του λογαριασμού
* [ ] Βρείτε επίσης το **ID ζώνης** και το **ID λογαριασμού**

## Αναλυτικά

* [ ] Στο **`Ασφάλεια`** ελέγξτε αν υπάρχει **Περιορισμός ρυθμού**

## DNS

* [ ] Ελέγξτε **ενδιαφέρουσες** (ευαίσθητες;) πληροφορίες στα **εγγραφή DNS**
* [ ] Ελέγξτε για **υποτομές** που θα μπορούσαν να περιέχουν **ευαίσθητες πληροφορίες** μόνο βασιζόμενες στο **όνομα** (όπως admin173865324.domin.com)
* [ ] Ελέγξτε για ιστοσελίδες που **δεν είναι** **προξειδωμένες**
* [ ] Ελέγξτε για **προξειδωμένες ιστοσελίδες** που μπορούν να **προσπελαστούν απευθείας** μέσω CNAME ή διεύθυνση IP
* [ ] Βεβαιωθείτε ότι το **DNSSEC** είναι **ενεργοποιημένο**
* [ ] Βεβαιωθείτε ότι η **Εξισορρόπηση CNAME** χρησιμοποιείται σε **όλα τα CNAMEs**
* Αυτό μπορεί να είναι χρήσιμο για **απόκρυψη ευπαθειών υποτομής** και βελτίωση των χρόνων φόρτωσης
* [ ] Βεβαιωθείτε ότι τα domains [**δεν είναι ευάλωτα στο spoofing**](https://book.hacktricks.xyz/network-services-pentesting/pentesting-smtp#mail-spoofing)

## **Email**

TODO

## Spectrum

TODO

## SSL/TLS

### **Επισκόπηση**

* [ ] Η **κρυπτογράφηση SSL/TLS** πρέπει να είναι **Πλήρης** ή **Πλήρης (Αυστηρή)**. Κάθε άλλη θα στείλει **κείμενο καθαρού κειμένου** σε κάποιο σημείο.
* [ ] Ο **Συνιστώμενος SSL/TLS** πρέπει να είναι ενεργοποιημένος

### Edge Πιστοποιητικά

* [ ] Το **Πάντα Χρησιμοποιήστε HTTPS** πρέπει να είναι **ενεργοποιημένο**
* [ ] Το **Αυστηρό Μεταφοράς Ασφάλειας HTTP (HSTS)** πρέπει να είναι **ενεργοποιημένο**
* [ ] Η **Ελάχιστη Έκδοση TLS πρέπει να είναι 1.2**
* [ ] Το **TLS 1.3 πρέπει να είναι ενεργοποιημένο**
* [ ] Το **Αυτόματο HTTPS Επανεγγραφές** πρέπει να είναι **ενεργοποιημένο**
* [ ] Η **Παρακολούθηση Διαφάνειας Πιστοποιητικού** πρέπει να είναι **ενεργοποιημένη**

## **Ασφάλεια**

* [ ] Στην ενότητα **`WAF`** είναι ενδιαφέρον να ελέγξετε ότι οι **κανόνες του τείχους πυρασφάλειας** και οι **κανόνες περιορισμού ρυθμού χρησιμοποιούνται** για την πρόληψη καταχρήσεων.
* Η ενέργεια **`Παράκαμψη`** θα **απενεργοποιήσει τις λειτουργίες ασφαλείας του Cloudflare** για μια αίτηση. Δεν πρέπει να χρησιμοποιείται.
* [ ] Στην ενότητα **`Προστασίας Σελίδας`** συνιστάται να ελέγξετε ότι είναι **ενεργοποιημένη** αν χρησιμοποιείται κάποια σελίδα
* [ ] Στην ενότητα **`Προστασίας API`** συνιστάται να ελέγξετε ότι είναι **ενεργοποιημένη** αν κάποιο API εκτίθεται στο Cloudflare
* [ ] Στην ενότητα **`DDoS`** συνιστάται να ενεργοποιήσετε τις **προστασίες DDoS**
* [ ] Στην ενότητα **`Ρυθμίσεων`**:
* [ ] Ελέγξτε ότι το **`Επίπεδο Ασφάλειας`** είναι **μεσαίο** ή μεγαλύτερο
* [ ] Ελέγξτε ότι η **`Πέραση Πρόκλησης`** είναι το πολύ 1 ώρα
* [ ] Ελέγξτε ότι ο **`Έλεγχος Ακεραιότητας Περιήγησης`** είναι **ενεργοποιημένος**
* [ ] Ελέγξτε ότι η **`Υποστήριξη Προσωπικών Δεδομένων`** είναι **ενεργοποιημένη**

### **Προστασία DDoS του CloudFlare**

* Αν μπορείτε, ενεργοποιήστε τη λειτουργία **Καταπολέμησης Ρομπότ** ή **Υπερ-Καταπολέμησης Ρομπότ**. Αν προστατεύετε κάποιο API προσβάσιμο προγραμματικά (από μια σελίδα JS front end για παράδειγμα). Μπορεί να μην μπορείτε να το ενεργοποιήσετε χωρίς να διακόψετε αυτήν την πρόσβαση.
* Στο **WAF**: Μπορείτε να δημιουργήσετε **περιορισμούς ρυθμού ανά διαδρομή URL** ή για **επαληθευμένους ρομπότ** (κανόνες περιορισμού ρυθμού), ή για να **αποκλείσετε την πρόσβαση** βασισμένη σε IP, Cookie, αναφορέα...). Έτσι μπορείτε να αποκλείσετε αιτήσεις που δεν προέρχονται από μια ιστοσελίδα ή έχουν ένα cookie.
* Αν η επίθεση προέρχεται από έναν **επαληθευμένο ρομπότ**, τουλάχιστον **προσθέστε έναν περιορισμό ρυθμού** στους ρομπότ.
* Αν η επίθεση είναι σε μια **συγκεκριμένη διαδρομή**, ως μηχανισμό πρόληψης, προσθέστε έναν **περιορισμό ρυθμού** σε αυτήν τη διαδρομή.
* Μπορείτε επίσης να **λευκή λίστα** διευθύνσεις IP, εύρος IP, χώρες ή ASNs από τα **Εργαλεία** στο WAF.
* Ελέγξτε αν τα **Διαχειριζόμενα Κανόνες** μπορούν επίσης να βοηθήσουν στην πρόληψη εκμετάλλευσης ευπαθειών.
* Στην ενότητα **Εργαλεία** μπορείτε να **αποκλείσετε ή να δώσετε μια πρόκληση σε συγκεκριμένες διευθύνσεις IP** και **user agents.**
* Στο DDoS μπορείτε να **αντικαταστήσετε ορισμένους κανόνες για να τους κάνετε πιο περιοριστικούς**.
* **Ρυθμίσεις**: Ορίστε το **Επίπεδο Ασφάλει
## Εφαρμογές

TODO

## Scrape Shield

* [ ] Ελέγξτε εάν η **Απόκρυψη Διευθύνσεων Ηλεκτρονικού Ταχυδρομείου** είναι **ενεργοποιημένη**
* [ ] Ελέγξτε εάν οι **Αποκλεισμοί Στην Πλευρά του Διακομιστή** είναι **ενεργοποιημένοι**

## **Zaraz**

TODO

## **Web3**

TODO

<details>

{% hint style="success" %}
Μάθετε & εξασκηθείτε στο Χάκινγκ του AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Εκπαίδευση HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Μάθετε & εξασκηθείτε στο Χάκινγκ του GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Εκπαίδευση HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Υποστηρίξτε το HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Εγγραφείτε** 💬 στην [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε κόλπα χάκινγκ υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια στο GitHub.

</details>
{% endhint %}
