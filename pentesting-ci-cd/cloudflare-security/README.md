# Ασφάλεια Cloudflare

<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Αν θέλετε να δείτε την **εταιρεία σας διαφημισμένη στο HackTricks** ή να **κατεβάσετε το HackTricks σε PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε την [**Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε** στη 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα τηλεγραφήματος**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs** στα [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>

Σε ένα λογαριασμό Cloudflare υπάρχουν μερικές **γενικές ρυθμίσεις και υπηρεσίες** που μπορούν να ρυθμιστούν. Σε αυτήν τη σελίδα θα **αναλύσουμε τις ρυθμίσεις που σχετίζονται με την ασφάλεια κάθε ενότητας:**

<figure><img src="../../.gitbook/assets/image (117).png" alt=""><figcaption></figcaption></figure>

## Ιστοσελίδες

Αναθεωρήστε κάθε μία με:

{% content-ref url="cloudflare-domains.md" %}
[cloudflare-domains.md](cloudflare-domains.md)
{% endcontent-ref %}

### Εγγραφή Domain

* [ ] Στο **`Μεταφορά Domains`** ελέγξτε ότι δεν είναι δυνατή η μεταφορά κανενός domain.

Αναθεωρήστε κάθε μία με:

{% content-ref url="cloudflare-domains.md" %}
[cloudflare-domains.md](cloudflare-domains.md)
{% endcontent-ref %}

## Αναλύσεις

_Δεν μπόρεσα να βρω κάτι για έλεγχο ασφάλειας ρυθμίσεων._

## Σελίδες

Σε κάθε σελίδα του Cloudflare:

* [ ] Ελέγξτε για **ευαίσθητες πληροφορίες** στο **`Build log`**.
* [ ] Ελέγξτε για **ευαίσθητες πληροφορίες** στο **αποθετήριο Github** που έχει ανατεθεί στις σελίδες.
* [ ] Ελέγξτε για πιθανή παραβίαση αποθετηρίου Github μέσω **εντολής ενσωμάτωσης εργασιών** ή παραβίασης `pull_request_target`. Περισσότερες πληροφορίες στη [**σελίδα Ασφάλειας του Github**](../github-security/).
* [ ] Ελέγξτε για **ευάλωτες λειτουργίες** στον κατάλογο `/fuctions` (εάν υπάρχουν), ελέγξτε τις **ανακατευθύνσεις** στο αρχείο `_redirects` (εάν υπάρχουν) και τις **κακοδιαμορφωμένες κεφαλίδες** στο αρχείο `_headers` (εάν υπάρχουν).
* [ ] Ελέγξτε για **ευάλωτη λειτουργία** στη **ιστοσελίδα** μέσω **blackbox** ή **whitebox** αν μπορείτε να **έχετε πρόσβαση στον κώδικα**
* [ ] Στις λεπτομέρειες κάθε σελίδας `/<page_id>/pages/view/blocklist/settings/functions`. Ελέγξτε για **ευαίσθητες πληροφορίες** στις **`Μεταβλητές Περιβάλλοντος`**.
* [ ] Στη σελίδα λεπτομερειών ελέγξτε επίσης τη **εντολή κατασκευής** και το **κύριο κατάλογο** για **πιθανές ενσωματώσεις** για να παραβιάσετε τη σελίδα.

## **Εργαζόμενοι**

Σε κάθε εργαζόμενο του Cloudflare ελέγξτε:

* [ ] Τα στοιχεία ενεργοποίησης: Τι κάνει τον εργαζόμενο να ενεργοποιηθεί; Μπορεί ένας **χρήστης να στείλει δεδομένα** που θα **χρησιμοποιηθούν** από τον εργαζόμενο;
* [ ] Στις **`Ρυθμίσεις`**, ελέγξτε για **`Μεταβλητές`** που περιέχουν **ευαίσθητες πληροφορίες**
* Ελέγξτε τον **κώδικα του εργαζόμενου** και αναζητήστε **ευπάθειες** (ειδικά σε σημεία όπου ο χρήστης μπορεί να διαχειριστεί την είσοδο)
* Ελέγξτε για SSRFs που επιστρέφουν την καθορισμένη σελίδα που μπορείτε να ελέγξετε
* Ελέγξτε XSSs που εκτελούν JS μέσα σε μια εικόνα svg
* Είναι δυνατόν ο εργαζόμενος να αλληλεπιδρά με άλλες εσωτερικές υπηρεσίες. Για παράδειγμα, ένας εργαζόμενος μπορεί να αλληλεπιδρά με ένα R2 bucket αποθηκεύοντας πληροφορίες που έχει λάβει από την είσοδο. Σε αυτήν την περίπτωση, θα ήταν απαραίτητο να ελέγξετε ποιες δυνατότητες έχει ο εργαζόμενος στο R2 bucket και πώς θα μπορούσε να καταχραστείται από την είσοδο του χρήστη.

{% hint style="warning" %}
Σημειώστε ότι από προεπιλογή ένας **Εργαζόμενος δίνεται ένα URL** όπως `<όνομα-εργαζόμενου>.<λογαριασμός>.workers.dev`. Ο χρήστης μπορεί να το ορίσει σε ένα **υποτομέα** αλλά μπορείτε πάντα να τον έχετε πρόσβαση με αυτό το **αρχικό URL** αν το γνωρίζετε.
{% endhint %}

## R2

Σε κάθε R2 bucket ελέγξτε:

* [ ] Διαμορφώστε τη **Πολιτική CORS**.

## Stream

ΣΕ ΔΙΑΔΙΚΑΣΙΑ

## Εικόνες

ΣΕ ΔΙΑΔΙΚΑΣΙΑ

## Κέντρο Ασφάλειας

* [ ] Εάν είναι δυνατό, εκτελέστε ένα **σάρωση Ενδείξεων Ασφάλειας** και μια **σάρωση Υποδομής**, καθώς θα **επισημάνουν** ενδιαφέρουσες πληροφορίες **ασφάλειας**.
* [ ] Απλά **ελέγξτε αυτές τις πληροφορίες** για ασφαλείς ρυθμίσεις και ενδιαφέρουσες πληροφορίες

## Turnstile

ΣΕ ΔΙΑΔΙΚΑΣΙΑ

## **Μηδενική Εμπιστοσύνη**

{% content-ref url="cloudflare-zero-trust-network.md" %}
[cloudflare-zero-trust-network.md](cloudflare-zero-trust-network.md)
{% endcontent-ref %}

## Μαζικές Ανακατευθύνσεις

{% hint style="info" %}
Σε αντίθεση με τις [Δυναμικές Ανακατευθύνσεις](https://developers.cloudflare.com/rules/url-forwarding/dynamic-redirects/), οι [**Μαζικές Ανακατευθύνσεις**](https://developers.cloudflare.com/rules/url-forwarding/bulk-redirects/) είναι ουσιαστικά στατικές — δεν υποστηρίζουν καμία λειτουργία αντικατάστασης συμβολοσειρών ή κανονικές εκφράσεις. Ωστόσο, μπορείτε να διαμορφώσετε παραμέτρους ανακατεύθυνσης URL που επηρεάζουν τη συμπεριφορά τους στην αντιστοίχιση URL και την εκτέλεσή τους.
{% endhint %}

* [ ] Ελέγξτε ότι οι **εκφράσεις** και οι **απαιτήσεις** για ανακατευθύνσεις **έχουν νόημα**.
* [ ] Ελέγξτε επίσης για **ευαίσθητα κρυφά σημεία πρόσβασης** που περιέχουν ενδιαφέρουσες πληροφορίες.

## Ειδοποιήσεις

* [ ] Ελέγξτε τις **ειδοποιήσεις**. Αυτές οι ειδοποιήσεις συνιστώνται για λόγους ασφάλειας:
* `Χρέωση βάσει Χρήσης`
* `Ειδοποίηση Επίθεσης HTTP
## Έρευνα DDoS

[Ελέγξτε αυτό το τμήμα](cloudflare-domains.md#cloudflare-ddos-protection).

<details>

<summary><strong>Μάθετε το χάκινγκ στο AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Ειδικός Red Team του HackTricks στο AWS)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Αν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε την [**Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια στο GitHub.

</details>
