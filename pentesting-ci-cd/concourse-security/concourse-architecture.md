# Architettura di Concourse

## Architettura di Concourse

{% hint style="success" %}
Impara e pratica AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Impara e pratica GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Supporta HackTricks</summary>

* Controlla i [**piani di abbonamento**](https://github.com/sponsors/carlospolop)!
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi trucchi di hacking inviando PR ai repo github di** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}

[**Dati rilevanti dalla documentazione di Concourse:**](https://concourse-ci.org/internals.html)

### Architettura

![](<../../.gitbook/assets/image (187).png>)

#### ATC: web UI & build scheduler

L'ATC √® il cuore di Concourse. Esegue la **web UI e API** ed √® responsabile di tutta la **pianificazione** delle pipeline. Si **connette a PostgreSQL**, che utilizza per memorizzare i dati delle pipeline (inclusi i log delle build).

La responsabilit√† del [checker](https://concourse-ci.org/checker.html) √® di controllare continuamente nuove versioni delle risorse. Il [scheduler](https://concourse-ci.org/scheduler.html) √® responsabile della pianificazione delle build per un lavoro e il [build tracker](https://concourse-ci.org/build-tracker.html) √® responsabile dell'esecuzione di qualsiasi build pianificata. Il [garbage collector](https://concourse-ci.org/garbage-collector.html) √® il meccanismo di pulizia per rimuovere qualsiasi oggetto non utilizzato o obsoleto, come container e volumi.

#### TSA: registrazione e inoltro dei worker

Il TSA √® un **server SSH personalizzato** utilizzato esclusivamente per **registrare in modo sicuro** i [**worker**](https://concourse-ci.org/internals.html#architecture-worker) con l'[ATC](https://concourse-ci.org/internals.html#component-atc).

Il TSA **di default ascolta sulla porta `2222`**, ed √® solitamente collocato con l'[ATC](https://concourse-ci.org/internals.html#component-atc) e posizionato dietro un bilanciatore di carico.

Il **TSA implementa CLI sulla connessione SSH**, supportando [**questi comandi**](https://concourse-ci.org/internals.html#component-tsa).

#### Worker

Per eseguire i compiti, Concourse deve avere alcuni worker. Questi worker **si registrano** tramite il [TSA](https://concourse-ci.org/internals.html#component-tsa) ed eseguono i servizi [**Garden**](https://github.com/cloudfoundry-incubator/garden) e [**Baggageclaim**](https://github.com/concourse/baggageclaim).

* **Garden**: Questa √® l'**API di gestione dei container**, solitamente eseguita sulla **porta 7777** tramite **HTTP**.
* **Baggageclaim**: Questa √® l'**API di gestione dei volumi**, solitamente eseguita sulla **porta 7788** tramite **HTTP**.

## Riferimenti

* [https://concourse-ci.org/internals.html](https://concourse-ci.org/internals.html)

{% hint style="success" %}
Impara e pratica AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Impara e pratica GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Supporta HackTricks</summary>

* Controlla i [**piani di abbonamento**](https://github.com/sponsors/carlospolop)!
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi trucchi di hacking inviando PR ai repo github di** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}
