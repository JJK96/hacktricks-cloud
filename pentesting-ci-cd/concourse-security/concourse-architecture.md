# Concourse Architecture

## Concourse Architecture

{% hint style="success" %}
Lerne & √ºbe AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Lerne & √ºbe GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtze HackTricks</summary>

* √úberpr√ºfe die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Tritt der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folge** uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teile Hacking-Tricks, indem du PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos einreichst.

</details>
{% endhint %}

[**Relevante Daten aus der Concourse-Dokumentation:**](https://concourse-ci.org/internals.html)

### Architektur

![](<../../.gitbook/assets/image (187).png>)

#### ATC: Web-UI & Build-Scheduler

Das ATC ist das Herzst√ºck von Concourse. Es betreibt die **Web-UI und API** und ist f√ºr die gesamte Pipeline-**Planung** verantwortlich. Es **verbindet sich mit PostgreSQL**, das zur Speicherung von Pipeline-Daten (einschlie√ülich Build-Logs) verwendet wird.

Die Aufgabe des [Checkers](https://concourse-ci.org/checker.html) besteht darin, kontinuierlich nach neuen Versionen von Ressourcen zu suchen. Der [Scheduler](https://concourse-ci.org/scheduler.html) ist f√ºr die Planung von Builds f√ºr einen Job verantwortlich und der [Build Tracker](https://concourse-ci.org/build-tracker.html) ist f√ºr das Ausf√ºhren aller geplanten Builds zust√§ndig. Der [Garbage Collector](https://concourse-ci.org/garbage-collector.html) ist der Bereinigungsmechanismus zum Entfernen nicht verwendeter oder veralteter Objekte wie Container und Volumes.

#### TSA: Worker-Registrierung & Weiterleitung

Die TSA ist ein **ma√ügeschneiderter SSH-Server**, der ausschlie√ülich zur sicheren **Registrierung** von [**Workern**](https://concourse-ci.org/internals.html#architecture-worker) beim [ATC](https://concourse-ci.org/internals.html#component-atc) verwendet wird.

Die TSA **h√∂rt standardm√§√üig auf Port `2222`** und ist normalerweise zusammen mit dem [ATC](https://concourse-ci.org/internals.html#component-atc) hinter einem Load Balancer platziert.

Die **TSA implementiert CLI √ºber die SSH-Verbindung** und unterst√ºtzt [**diese Befehle**](https://concourse-ci.org/internals.html#component-tsa).

#### Worker

Um Aufgaben auszuf√ºhren, muss Concourse einige Worker haben. Diese Worker **registrieren sich selbst** √ºber die [TSA](https://concourse-ci.org/internals.html#component-tsa) und betreiben die Dienste [**Garden**](https://github.com/cloudfoundry-incubator/garden) und [**Baggageclaim**](https://github.com/concourse/baggageclaim).

* **Garden**: Dies ist die **Container Management API**, die normalerweise auf **Port 7777** √ºber **HTTP** l√§uft.
* **Baggageclaim**: Dies ist die **Volume Management API**, die normalerweise auf **Port 7788** √ºber **HTTP** l√§uft.

## Referenzen

* [https://concourse-ci.org/internals.html](https://concourse-ci.org/internals.html)

{% hint style="success" %}
Lerne & √ºbe AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Lerne & √ºbe GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtze HackTricks</summary>

* √úberpr√ºfe die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Tritt der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folge** uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teile Hacking-Tricks, indem du PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos einreichst.

</details>
{% endhint %}
