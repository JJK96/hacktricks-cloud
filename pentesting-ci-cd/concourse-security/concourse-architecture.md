# Concourse Architecture

## Concourse Architecture

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

[**Relevant data from Concourse documentation:**](https://concourse-ci.org/internals.html)

### Architecture

![](<../../.gitbook/assets/image (187).png>)

#### ATC: web UI & build scheduler

ATC Concourse рдХрд╛ рджрд┐рд▓ рд╣реИред рдпрд╣ **рд╡реЗрдм UI рдФрд░ API** рдЪрд▓рд╛рддрд╛ рд╣реИ рдФрд░ рд╕рднреА рдкрд╛рдЗрдкрд▓рд╛рдЗрди **рд╢реЗрдбреНрдпреВрд▓рд┐рдВрдЧ** рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред рдпрд╣ **PostgreSQL** рд╕реЗ рдЬреБрдбрд╝рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдпрд╣ рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдбреЗрдЯрд╛ (рдмрд┐рд▓реНрдб рд▓реЙрдЧ рд╕рд╣рд┐рдд) рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддрд╛ рд╣реИред

[checker](https://concourse-ci.org/checker.html) рдХреА рдЬрд┐рдореНрдореЗрджрд╛рд░реА рдирдП рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреА рдирд┐рд░рдВрддрд░ рдЬрд╛рдВрдЪ рдХрд░рдирд╛ рд╣реИред [scheduler](https://concourse-ci.org/scheduler.html) рдХрд┐рд╕реА рдиреМрдХрд░реА рдХреЗ рд▓рд┐рдП рдмрд┐рд▓реНрдб рд╢реЗрдбреНрдпреВрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИ рдФрд░ [build tracker](https://concourse-ci.org/build-tracker.html) рдХрд┐рд╕реА рднреА рд╢реЗрдбреНрдпреВрд▓ рдХрд┐рдП рдЧрдП рдмрд┐рд▓реНрдб рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред [garbage collector](https://concourse-ci.org/garbage-collector.html) рдХрд┐рд╕реА рднреА рдЕрдкреНрд░рдпреБрдХреНрдд рдпрд╛ рдкреБрд░рд╛рдиреА рд╡рд╕реНрддреБрдУрдВ, рдЬреИрд╕реЗ рдХрдВрдЯреЗрдирд░реЛрдВ рдФрд░ рд╡реЙрд▓реНрдпреВрдо рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдлрд╛рдИ рддрдВрддреНрд░ рд╣реИред

#### TSA: worker registration & forwarding

TSA рдПрдХ **рдХрд╕реНрдЯрдо-рдирд┐рд░реНрдорд┐рдд SSH рд╕рд░реНрд╡рд░** рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреЗрд╡рд▓ [**workers**](https://concourse-ci.org/internals.html#architecture-worker) рдХреЛ [ATC](https://concourse-ci.org/internals.html#component-atc) рдХреЗ рд╕рд╛рде рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ **рдкрдВрдЬреАрдХрд░рдг** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

TSA **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ `2222` рдкреЛрд░реНрдЯ рдкрд░ рд╕реБрдирддрд╛ рд╣реИ**, рдФрд░ рдЖрдорддреМрд░ рдкрд░ [ATC](https://concourse-ci.org/internals.html#component-atc) рдХреЗ рд╕рд╛рде рд╕реНрдерд┐рдд рд╣реЛрддрд╛ рд╣реИ рдФрд░ рд▓реЛрдб рдмреИрд▓реЗрдВрд╕рд░ рдХреЗ рдкреАрдЫреЗ рд╣реЛрддрд╛ рд╣реИред

**TSA SSH рдХрдиреЗрдХреНрд╢рди рдкрд░ CLI рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ,** [**рдЗрди рдХрдорд╛рдВрдбреЛрдВ**](https://concourse-ci.org/internals.html#component-tsa) рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред

#### Workers

рдХрд╛рд░реНрдпрдХреНрд░рдореЛрдВ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Concourse рдХреЛ рдХреБрдЫ рд╡рд░реНрдХрд░реНрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдпреЗ рд╡рд░реНрдХрд░реНрд╕ [TSA](https://concourse-ci.org/internals.html#component-tsa) рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ **рд╕реНрд╡рдпрдВ рдХреЛ рдкрдВрдЬреАрдХреГрдд** рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╕реЗрд╡рд╛рдУрдВ [**Garden**](https://github.com/cloudfoundry-incubator/garden) рдФрд░ [**Baggageclaim**](https://github.com/concourse/baggageclaim) рдХреЛ рдЪрд▓рд╛рддреЗ рд╣реИрдВред

* **Garden**: рдпрд╣ **Container Manage API** рд╣реИ, рдЬреЛ рдЖрдорддреМрд░ рдкрд░ **HTTP** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ **рдкреЛрд░реНрдЯ 7777** рдкрд░ рдЪрд▓рддрд╛ рд╣реИред
* **Baggageclaim**: рдпрд╣ **Volume Management API** рд╣реИ, рдЬреЛ рдЖрдорддреМрд░ рдкрд░ **HTTP** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ **рдкреЛрд░реНрдЯ 7788** рдкрд░ рдЪрд▓рддрд╛ рд╣реИред

## References

* [https://concourse-ci.org/internals.html](https://concourse-ci.org/internals.html)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
