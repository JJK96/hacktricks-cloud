# Jenkins RCE Creating/Modifying Project

{% hint style="success" %}
Apprenez et pratiquez le piratage AWS :<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Apprenez et pratiquez le piratage GCP : <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Soutenez HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop) !
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de piratage en soumettant des PRs aux d√©p√¥ts github** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}

## Cr√©ation d'un projet

Cette m√©thode est tr√®s bruyante car vous devez cr√©er un tout nouveau projet (√©videmment, cela ne fonctionnera que si votre utilisateur est autoris√© √† cr√©er un nouveau projet).

1. **Cr√©ez un nouveau projet** (projet Freestyle) en cliquant sur "New Item" ou sur `/view/all/newJob`
2. Dans la section **Build**, d√©finissez **Execute shell** et collez un lanceur powershell Empire ou un meterpreter powershell (peut √™tre obtenu en utilisant _unicorn_). D√©marrez le payload avec _PowerShell.exe_ au lieu d'utiliser _powershell._
3. Cliquez sur **Build now**
1. Si le bouton **Build now** n'appara√Æt pas, vous pouvez toujours aller √† **configure** --> **Build Triggers** --> `Build periodically` et d√©finir un cron de `* * * * *`
2. Au lieu d'utiliser cron, vous pouvez utiliser la configuration "**Trigger builds remotely**" o√π vous devez simplement d√©finir le nom du jeton API pour d√©clencher le job. Ensuite, allez √† votre profil utilisateur et **g√©n√©rez un jeton API** (appelez ce jeton API comme vous avez appel√© le jeton API pour d√©clencher le job). Enfin, d√©clenchez le job avec : **`curl <username>:<api_token>@<jenkins_url>/job/<job_name>/build?token=<api_token_name>`**

![](<../../.gitbook/assets/image (165).png>)

## Modification d'un projet

Allez dans les projets et v√©rifiez **si vous pouvez en configurer un** (cherchez le bouton "Configure") :

![](<../../.gitbook/assets/image (265).png>)

Si vous **ne pouvez pas** voir de **bouton de configuration**, alors vous **ne pouvez probablement pas** le **configurer** (mais v√©rifiez tous les projets car vous pourriez √™tre capable d'en configurer certains et pas d'autres).

Ou **essayez d'acc√©der au chemin** `/job/<proj-name>/configure` ou `/me/my-views/view/all/job/<proj-name>/configure` \_\_ dans chaque projet (exemple : `/job/Project0/configure` ou `/me/my-views/view/all/job/Project0/configure`).

## Ex√©cution

Si vous √™tes autoris√© √† configurer le projet, vous pouvez **faire en sorte qu'il ex√©cute des commandes lorsqu'une build est r√©ussie** :

![](<../../.gitbook/assets/image (98).png>)

Cliquez sur **Save** et **build** le projet et votre **commande sera ex√©cut√©e**.\
Si vous n'ex√©cutez pas un reverse shell mais une simple commande, vous pouvez **voir la sortie de la commande dans la sortie de la build**.

{% hint style="success" %}
Apprenez et pratiquez le piratage AWS :<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Apprenez et pratiquez le piratage GCP : <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Soutenez HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop) !
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de piratage en soumettant des PRs aux d√©p√¥ts github** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}
