# Jenkins RCE Creating/Modifying Project

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Tworzenie Projektu

Ta metoda jest bardzo ha≈Ça≈õliwa, poniewa≈º musisz stworzyƒá zupe≈Çnie nowy projekt (oczywi≈õcie to zadzia≈Ça tylko, je≈õli u≈ºytkownik ma uprawnienia do tworzenia nowego projektu).

1. **Utw√≥rz nowy projekt** (Freestyle project) klikajƒÖc "New Item" lub w `/view/all/newJob`
2. W sekcji **Build** ustaw **Execute shell** i wklej launcher powershell Empire lub meterpreter powershell (mo≈ºna go uzyskaƒá za pomocƒÖ _unicorn_). Uruchom payload za pomocƒÖ _PowerShell.exe_ zamiast _powershell._
3. Kliknij **Build now**
1. Je≈õli przycisk **Build now** siƒô nie pojawia, mo≈ºesz nadal przej≈õƒá do **configure** --> **Build Triggers** --> `Build periodically` i ustawiƒá cron na `* * * * *`
2. Zamiast u≈ºywaƒá cron, mo≈ºesz u≈ºyƒá konfiguracji "**Trigger builds remotely**", gdzie wystarczy ustawiƒá nazwƒô tokena API do uruchomienia zadania. Nastƒôpnie przejd≈∫ do swojego profilu u≈ºytkownika i **wygeneruj token API** (nazwij ten token API tak, jak nazwa≈Çe≈õ token API do uruchomienia zadania). Na koniec uruchom zadanie za pomocƒÖ: **`curl <username>:<api_token>@<jenkins_url>/job/<job_name>/build?token=<api_token_name>`**

![](<../../.gitbook/assets/image (165).png>)

## Modyfikowanie Projektu

Przejd≈∫ do projekt√≥w i sprawd≈∫ **czy mo≈ºesz skonfigurowaƒá kt√≥rykolwiek** z nich (szukaj przycisku "Configure"):

![](<../../.gitbook/assets/image (265).png>)

Je≈õli **nie widzisz** ≈ºadnego **przycisku konfiguracji**, to prawdopodobnie **nie mo≈ºesz** **go skonfigurowaƒá** (ale sprawd≈∫ wszystkie projekty, poniewa≈º mo≈ºesz byƒá w stanie skonfigurowaƒá niekt√≥re z nich, a inne nie).

Lub **spr√≥buj uzyskaƒá dostƒôp do ≈õcie≈ºki** `/job/<proj-name>/configure` lub `/me/my-views/view/all/job/<proj-name>/configure` \_\_ w ka≈ºdym projekcie (przyk≈Çad: `/job/Project0/configure` lub `/me/my-views/view/all/job/Project0/configure`).

## Wykonanie

Je≈õli masz uprawnienia do konfiguracji projektu, mo≈ºesz **sprawiƒá, ≈ºe wykona on polecenia, gdy kompilacja zako≈Ñczy siƒô sukcesem**:

![](<../../.gitbook/assets/image (98).png>)

Kliknij **Save** i **build** projekt, a twoje **polecenie zostanie wykonane**.\
Je≈õli nie wykonujesz reverse shell, ale proste polecenie, mo≈ºesz **zobaczyƒá wynik polecenia w wynikach kompilacji**.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
