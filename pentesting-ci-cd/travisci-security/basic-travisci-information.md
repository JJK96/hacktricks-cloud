# Basiese TravisCI Inligting

{% hint style="success" %}
Leer & oefen AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Leer & oefen GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kyk na die [**intekenplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** üí¨ [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacking truuks deur PRs in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Toegang

TravisCI integreer direk met verskillende git platforms soos Github, Bitbucket, Assembla, en Gitlab. Dit sal die gebruiker vra om TravisCI toestemming te gee om toegang te verkry tot die repos wat hy wil integreer met TravisCI.

Byvoorbeeld, in Github sal dit vra vir die volgende toestemmings:

* `user:email` (lees-alleen)
* `read:org` (lees-alleen)
* `repo`: Verleen lees- en skryftoegang tot kode, commit-statusse, medewerkers, en ontplooiingstatusse vir publieke en private repositories en organisasies.

## Ge√´nkripteerde Geheimenisse

### Omgewing Veranderlikes

In TravisCI, soos in ander CI platforms, is dit moontlik om **geheimenisse op repo vlak te stoor** wat ge√´nkripteer gestoor sal word en **gedekripteer en in die omgewing veranderlike** van die masjien wat die bouwerk uitvoer, geplaas sal word.

![](<../../.gitbook/assets/image (203).png>)

Dit is moontlik om die **takke aan te dui waaraan die geheimenisse beskikbaar gaan wees** (standaard almal) en ook of TravisCI **sy waarde moet wegsteek** as dit **in die logs** verskyn (standaard sal dit).

### Pasgemaakte Ge√´nkripteerde Geheimenisse

Vir **elke repo** genereer TravisCI 'n **RSA sleutelpaar**, **hou** die **privaat** een, en maak die repository se **publieke sleutel beskikbaar** aan diegene wat **toegang** tot die repository het.

Jy kan toegang kry tot die publieke sleutel van een repo met:
```
travis pubkey -r <owner>/<repo_name>
travis pubkey -r carlospolop/t-ci-test
```
Then, you can use this setup to **encrypt secrets and add them to your `.travis.yaml`**. Die geheime sal **ontsleutel word wanneer die bouproses loop** en toeganklik wees in die **omgewingsveranderlikes**.

![](<../../.gitbook/assets/image (139).png>)

Let daarop dat die geheime wat op hierdie manier versleuteld is, nie in die omgewingsveranderlikes van die instellings gelys sal verskyn nie.

### Custom Encrypted Files

Net soos voorheen, laat TravisCI ook toe om **l√™ers te versleutel en dit dan tydens die bouproses te ontsleutel**:
```
travis encrypt-file super_secret.txt -r carlospolop/t-ci-test

encrypting super_secret.txt for carlospolop/t-ci-test
storing result as super_secret.txt.enc
storing secure env variables for decryption

Please add the following to your build script (before_install stage in your .travis.yml, for instance):

openssl aes-256-cbc -K $encrypted_355e94ba1091_key -iv $encrypted_355e94ba1091_iv -in super_secret.txt.enc -out super_secret.txt -d

Pro Tip: You can add it automatically by running with --add.

Make sure to add super_secret.txt.enc to the git repository.
Make sure not to add super_secret.txt to the git repository.
Commit all changes to your .travis.yml.
```
Let daarop dat wanneer 'n l√™er ge√´nkripteer word, 2 Omgewingsveranderlikes binne die repo gekonfigureer sal word soos:

![](<../../.gitbook/assets/image (170).png>)

## TravisCI Enterprise

Travis CI Enterprise is 'n **op-perseel weergawe van Travis CI**, wat jy kan ontplooi **in jou infrastruktuur**. Dink aan die ‚Äòbediener‚Äô weergawe van Travis CI. Deur Travis CI te gebruik, kan jy 'n maklik-om-te-gebruik Deurlopende Integrasie/Deurlopende Ontplooiing (CI/CD) stelsel in 'n omgewing aktiveer, wat jy kan konfigureer en beveilig soos jy wil.

**Travis CI Enterprise bestaan uit twee hoofdele:**

1. TCI **dienste** (of TCI Kern Dienste), verantwoordelik vir integrasie met weergawebeheer stelsels, magtiging van bouwerk, skedulering van bouwerk take, ens.
2. TCI **Werker** en bou-omgewing beelde (ook genoem OS beelde).

**TCI Kern dienste vereis die volgende:**

1. 'n **PostgreSQL11** (of later) databasis.
2. 'n Infrastruktuur om 'n Kubernetes-kluster te ontplooi; dit kan in 'n bedienerkluster of op 'n enkele masjien ontplooi word indien nodig.
3. Afhangende van jou opstelling, mag jy sommige van die komponente self wil ontplooi en konfigureer, bv. RabbitMQ - sien die [Opstel van Travis CI Enterprise](https://docs.travis-ci.com/user/enterprise/tcie-3.x-setting-up-travis-ci-enterprise/) vir meer besonderhede.

**TCI Werker vereis die volgende:**

1. 'n Infrastruktuur waar 'n docker beeld wat die **Werker en 'n gekoppelde boubeeld bevat, ontplooi kan word**.
2. Konnektiwiteit tot sekere Travis CI Kern Dienste komponente - sien die [Opstel van Werker](https://docs.travis-ci.com/user/enterprise/setting-up-worker/) vir meer besonderhede.

Die hoeveelheid ontplooide TCI Werker en bou-omgewing OS beelde sal die totale gelyktydige kapasiteit van Travis CI Enterprise ontplooiing in jou infrastruktuur bepaal.

![](<../../.gitbook/assets/image (199).png>)

{% hint style="success" %}
Leer & oefen AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Leer & oefen GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kyk na die [**intekenplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** üí¨ [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacking truuks deur PRs in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
