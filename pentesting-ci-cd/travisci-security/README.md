# TravisCI Security

{% hint style="success" %}
Leer & oefen AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Leer & oefen GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kyk na die [**intekenplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** 💬 [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacking truuks deur PRs in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Wat is TravisCI

**Travis CI** is 'n **gehoste** of op **perseel** **deurlopende integrasie** diens wat gebruik word om sagtewareprojekte wat op verskeie **verskillende git platform** gehost word, te bou en te toets.

{% content-ref url="basic-travisci-information.md" %}
[basic-travisci-information.md](basic-travisci-information.md)
{% endcontent-ref %}

## Aanvalle

### Snellers

Om 'n aanval te loods moet jy eers weet hoe om 'n bou te sneller. TravisCI sal standaard **'n bou sneller op stoot en trek versoeke**:

![](<../../.gitbook/assets/image (145).png>)

#### Cron Jobs

As jy toegang het tot die webtoepassing kan jy **crons stel om die bou te laat loop**, dit kan nuttig wees vir volharding of om 'n bou te sneller:

![](<../../.gitbook/assets/image (243).png>)

{% hint style="info" %}
Dit lyk of dit nie moontlik is om crons binne die `.travis.yml` te stel volgens [hierdie](https://github.com/travis-ci/travis-ci/issues/9162).
{% endhint %}

### Derde Party PR

TravisCI deaktiveer standaard die deel van omgewingsveranderlikes met PRs wat van derde partye kom, maar iemand mag dit aktiveer en dan kan jy PRs na die repo skep en die geheime eksfiltreer:

![](<../../.gitbook/assets/image (208).png>)

### Geheimenisse Dump

Soos verduidelik op die [**basiese inligting**](basic-travisci-information.md) bladsy, is daar 2 tipes geheime. **Omgewingsveranderlike geheime** (wat op die webblad gelys word) en **pasgemaakte geënkripteerde geheime**, wat binne die `.travis.yml` lêer as base64 gestoor word (let daarop dat albei as geënkripteer gestoor sal eindig as omgewingsveranderlikes in die finale masjiene).

* Om **geheime te lys** wat as **omgewingsveranderlikes** gekonfigureer is, gaan na die **instellings** van die **projek** en kyk na die lys. Let egter daarop dat al die projek omgewingsveranderlikes wat hier gestel is, sal verskyn wanneer 'n bou gesneller word.
* Om die **pasgemaakte geënkripteerde geheime** te lys, is die beste wat jy kan doen om die **`.travis.yml` lêer** na te gaan.
* Om **geënkripteerde lêers te lys** kan jy kyk vir **`.enc` lêers** in die repo, vir reëls soortgelyk aan `openssl aes-256-cbc -K $encrypted_355e94ba1091_key -iv $encrypted_355e94ba1091_iv -in super_secret.txt.enc -out super_secret.txt -d` in die konfigurasielêer, of vir **geënkripteerde iv en sleutels** in die **omgewingsveranderlikes** soos:

![](<../../.gitbook/assets/image (81).png>)

### TODO:

* Voorbeeld bou met omgekeerde dop op Windows/Mac/Linux
* Voorbeeld bou wat die omgewing base64 gekodeer in die logs lek

### TravisCI Enterprise

As 'n aanvaller in 'n omgewing eindig wat **TravisCI enterprise** gebruik (meer inligting oor wat dit is in die [**basiese inligting**](basic-travisci-information.md#travisci-enterprise)), sal hy in staat wees om **bouwerk in die Werker te sneller.** Dit beteken dat 'n aanvaller lateraal na daardie bediener sal kan beweeg van waar hy in staat kan wees om:

* ontsnap na die gasheer?
* kubernetes kompromitteer?
* ander masjiene wat in dieselfde netwerk loop kompromitteer?
* nuwe wolkbewyse kompromitteer?

## Verwysings

* [https://docs.travis-ci.com/user/encrypting-files/](https://docs.travis-ci.com/user/encrypting-files/)
* [https://docs.travis-ci.com/user/best-practices-security](https://docs.travis-ci.com/user/best-practices-security)

{% hint style="success" %}
Leer & oefen AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Leer & oefen GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kyk na die [**intekenplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** 💬 [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacking truuks deur PRs in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
