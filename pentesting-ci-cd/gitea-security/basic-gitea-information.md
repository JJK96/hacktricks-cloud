# Basic Gitea Information

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Basic Structure

기본 Gitea 환경 구조는 **조직**별로 저장소를 그룹화하는 것입니다. 각 조직은 **여러 저장소**와 **여러 팀**을 포함할 수 있습니다. 그러나 github와 마찬가지로 사용자는 조직 외부에 저장소를 가질 수 있습니다.

또한, **사용자**는 **다른 조직의 멤버**가 될 수 있습니다. 조직 내에서 사용자는 **각 저장소에 대해 다른 권한**을 가질 수 있습니다.

사용자는 또한 **다른 팀의 일원**이 되어 다른 저장소에 대해 다른 권한을 가질 수 있습니다.

마지막으로 **저장소는 특별한 보호 메커니즘을 가질 수 있습니다**.

## Permissions

### Organizations

**조직이 생성될 때** **Owners**라는 팀이 **생성**되고 사용자가 그 안에 배치됩니다. 이 팀은 **조직에 대한 관리자 접근 권한**을 부여하며, 이 **권한**과 팀의 **이름**은 **수정할 수 없습니다**.

**조직 관리자**(소유자)는 조직의 **가시성**을 선택할 수 있습니다:

* Public
* Limited (로그인한 사용자만)
* Private (멤버만)

**조직 관리자**는 또한 **저장소 관리자**가 팀에 대한 접근 권한을 **추가 및 제거할 수 있는지** 여부를 지정할 수 있습니다. 또한 최대 저장소 수를 지정할 수 있습니다.

새 팀을 만들 때 여러 중요한 설정이 선택됩니다:

* 팀 멤버가 접근할 수 있는 **조직의 저장소**를 지정합니다: 특정 저장소(팀이 추가된 저장소) 또는 전체.
* **멤버가 새 저장소를 생성할 수 있는지** 여부를 지정합니다 (생성자는 관리자 접근 권한을 가집니다).
* **저장소 멤버**가 가질 **권한**:
* **관리자** 접근
* **특정** 접근:

![](<../../.gitbook/assets/image (118).png>)

### Teams & Users

저장소에서 **조직 관리자**와 **저장소 관리자**(조직에서 허용한 경우)는 협력자(다른 사용자)와 팀에게 부여된 **역할을 관리**할 수 있습니다. **3가지** 가능한 **역할**이 있습니다:

* 관리자
* 쓰기
* 읽기

## Gitea Authentication

### Web Access

**사용자 이름 + 비밀번호**와 잠재적으로 (권장) 2FA를 사용합니다.

### **SSH Keys**

하나 이상의 공개 키로 계정을 구성하여 관련 **개인 키가 대신 작업을 수행할 수 있도록** 할 수 있습니다. [http://localhost:3000/user/settings/keys](http://localhost:3000/user/settings/keys)

#### **GPG Keys**

이 키로 사용자를 **가장할 수는 없지만**, 사용하지 않으면 **서명이 없는 커밋을 보낸 것으로 발견될 수 있습니다**.

### **Personal Access Tokens**

개인 액세스 토큰을 생성하여 **응용 프로그램이 계정에 접근할 수 있도록** 할 수 있습니다. 개인 액세스 토큰은 계정에 대한 전체 접근 권한을 부여합니다: [http://localhost:3000/user/settings/applications](http://localhost:3000/user/settings/applications)

### Oauth Applications

개인 액세스 토큰과 마찬가지로 **Oauth 응용 프로그램**은 계정과 계정이 접근할 수 있는 장소에 대해 **완전한 접근 권한**을 가집니다. [docs](https://docs.gitea.io/en-us/oauth2-provider/#scopes)에 명시된 대로, 스코프는 아직 지원되지 않기 때문입니다:

![](<../../.gitbook/assets/image (194).png>)

### Deploy keys

Deploy keys는 저장소에 대한 읽기 전용 또는 쓰기 접근 권한을 가질 수 있으므로 특정 저장소를 손상시키는 데 유용할 수 있습니다.

## Branch Protections

브랜치 보호는 **사용자에게 저장소의 완전한 제어 권한을 부여하지 않도록** 설계되었습니다. 목표는 **일부 브랜치에 코드를 작성하기 전에 여러 보호 방법을 적용하는 것**입니다.

**저장소의 브랜치 보호**는 _https://localhost:3000/\<orgname>/\<reponame>/settings/branches_ 에서 찾을 수 있습니다.

{% hint style="info" %}
**조직 수준에서 브랜치 보호를 설정하는 것은 불가능합니다**. 따라서 모든 보호는 각 저장소에서 선언해야 합니다.
{% endhint %}

다양한 보호를 브랜치(예: master)에 적용할 수 있습니다:

* **푸시 비활성화**: 누구도 이 브랜치에 푸시할 수 없습니다.
* **푸시 활성화**: 접근 권한이 있는 사람은 푸시할 수 있지만, 강제 푸시는 불가능합니다.
* **화이트리스트 제한 푸시**: 선택된 사용자/팀만 이 브랜치에 푸시할 수 있습니다 (강제 푸시 불가).
* **병합 화이트리스트 활성화**: 화이트리스트에 있는 사용자/팀만 PR을 병합할 수 있습니다.
* **상태 검사 활성화**: 병합 전에 상태 검사가 통과해야 합니다.
* **승인 필요**: PR을 병합하기 전에 필요한 승인 수를 지정합니다.
* **화이트리스트에 승인 제한**: PR을 승인할 수 있는 사용자/팀을 지정합니다.
* **거부된 리뷰에서 병합 차단**: 변경 사항이 요청되면 다른 검사가 통과하더라도 병합할 수 없습니다.
* **공식 리뷰 요청에서 병합 차단**: 공식 리뷰 요청이 있는 경우 병합할 수 없습니다.
* **오래된 승인 해제**: 새 커밋이 있을 때 이전 승인이 해제됩니다.
* **서명된 커밋 필요**: 커밋은 서명되어야 합니다.
* **PR이 오래된 경우 병합 차단**
* **보호/비보호 파일 패턴**: 변경에 대해 보호/비보호할 파일 패턴을 지정합니다.

{% hint style="info" %}
보시다시피, 사용자의 자격 증명을 얻었더라도 **저장소가 보호되어 있어 master에 코드를 푸시하지 못할 수 있습니다**. 예를 들어 CI/CD 파이프라인을 손상시키기 위해서입니다.
{% endhint %}

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
