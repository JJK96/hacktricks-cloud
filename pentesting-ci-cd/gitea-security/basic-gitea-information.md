# Temel Gitea Bilgisi

{% hint style="success" %}
AWS Hacking öğrenin ve pratik yapın:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking öğrenin ve pratik yapın: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **💬 Discord grubuna** [**katılın**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın ya da **Twitter'da** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'ı takip edin.**
* **HackTricks'e PR göndererek hacking ipuçlarını paylaşın** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına.

</details>
{% endhint %}

## Temel Yapı

Temel Gitea ortam yapısı, **organizasyon(lar)** tarafından gruplandırılmış repoları içerir, her biri **birkaç depo** ve **birkaç takım** içerebilir. Ancak, github'da olduğu gibi kullanıcıların organizasyon dışında repoları olabileceğini unutmayın.

Ayrıca, bir **kullanıcı** **farklı organizasyonların** **üyesi** olabilir. Organizasyon içinde kullanıcı, **her depo üzerinde farklı izinlere** sahip olabilir.

Bir kullanıcı ayrıca **farklı takımların** bir parçası olabilir ve farklı repolar üzerinde farklı izinlere sahip olabilir.

Ve son olarak, **depolar özel koruma mekanizmalarına sahip olabilir**.

## İzinler

### Organizasyonlar

Bir **organizasyon oluşturulduğunda** **Sahipler** adında bir takım **oluşturulur** ve kullanıcı bu takımın içine yerleştirilir. Bu takım, **organizasyon üzerinde yönetici erişimi** sağlar, bu **izinler** ve takımın **adı** **değiştirilemez**.

**Org yöneticileri** (sahipler) organizasyonun **görünürlüğünü** seçebilir:

* Genel
* Sınırlı (sadece giriş yapmış kullanıcılar)
* Özel (sadece üyeler)

**Org yöneticileri** ayrıca **repo yöneticilerinin** takımlar için erişim ekleyip/çıkarabileceğini belirtebilir. Ayrıca maksimum repo sayısını belirtebilirler.

Yeni bir takım oluştururken, birkaç önemli ayar seçilir:

* Takım üyelerinin erişebileceği **organizasyonun repoları** belirtilir: belirli repolar (takımın eklendiği repolar) veya hepsi.
* Üyelerin yeni repolar oluşturup oluşturamayacağı belirtilir (oluşturan yönetici erişimi alır)
* Repo üyelerinin **izinleri**:
* **Yönetici** erişimi
* **Özel** erişim:

![](<../../.gitbook/assets/image (118).png>)

### Takımlar ve Kullanıcılar

Bir repoda, **org yöneticisi** ve (org tarafından izin verilmişse) **repo yöneticileri** işbirlikçilere (diğer kullanıcılara) ve takımlara verilen **rolleri yönetebilir**. **3** olası **rol** vardır:

* Yönetici
* Yazma
* Okuma

## Gitea Kimlik Doğrulama

### Web Erişimi

**Kullanıcı adı + şifre** ve potansiyel olarak (ve önerilen) 2FA kullanarak.

### **SSH Anahtarları**

Hesabınızı bir veya birkaç genel anahtarla yapılandırabilirsiniz, bu da ilgili **özel anahtarın sizin adınıza işlem yapmasına izin verir.** [http://localhost:3000/user/settings/keys](http://localhost:3000/user/settings/keys)

#### **GPG Anahtarları**

Bu anahtarlarla **kullanıcıyı taklit edemezsiniz** ancak kullanmazsanız **imzasız commit gönderdiğiniz için keşfedilme** olasılığınız olabilir.

### **Kişisel Erişim Tokenları**

Bir uygulamaya hesabınıza erişim vermek için kişisel erişim tokenı oluşturabilirsiniz. Bir kişisel erişim tokenı hesabınız üzerinde tam erişim sağlar: [http://localhost:3000/user/settings/applications](http://localhost:3000/user/settings/applications)

### Oauth Uygulamaları

Kişisel erişim tokenları gibi **Oauth uygulamaları** da hesabınız ve hesabınızın erişim sağladığı yerler üzerinde **tam erişime** sahip olacaktır çünkü [docs](https://docs.gitea.io/en-us/oauth2-provider/#scopes)'da belirtildiği gibi, kapsamlar henüz desteklenmemektedir:

![](<../../.gitbook/assets/image (194).png>)

### Dağıtım Anahtarları

Dağıtım anahtarları repo üzerinde salt okunur veya yazma erişimine sahip olabilir, bu nedenle belirli repoları ele geçirmek için ilginç olabilirler.

## Dal Koruması

Dal korumaları, kullanıcılara bir depo üzerinde **tam kontrol vermemek** için tasarlanmıştır. Amaç, bazı dallara kod yazmadan önce **birkaç koruma yöntemi koymaktır**.

Bir deponun **dal korumaları** _https://localhost:3000/\<orgname>/\<reponame>/settings/branches_ adresinde bulunabilir.

{% hint style="info" %}
Organizasyon seviyesinde dal koruması ayarlamak **mümkün değildir**. Bu nedenle hepsi her repoda ayrı ayrı belirtilmelidir.
{% endhint %}

Bir dala (örneğin master'a) farklı korumalar uygulanabilir:

* **Push'u Devre Dışı Bırak**: Hiç kimse bu dala push yapamaz
* **Push'u Etkinleştir**: Erişimi olan herkes push yapabilir, ancak force push yapamaz.
* **Beyaz Liste Sınırlı Push**: Sadece seçilen kullanıcılar/takımlar bu dala push yapabilir (ancak force push yapamaz)
* **Merge Beyaz Listesini Etkinleştir**: Sadece beyaz listedeki kullanıcılar/takımlar PR'ları birleştirebilir.
* **Durum Kontrollerini Etkinleştir**: Birleştirmeden önce durum kontrollerinin geçmesi gereklidir.
* **Onay Gerektir**: Bir PR'ın birleştirilebilmesi için gerekli onay sayısını belirtin.
* **Onayları beyaz listeye sınırlayın**: PR'ları onaylayabilecek kullanıcıları/takımları belirtin.
* **Reddedilen incelemelerde birleştirmeyi engelle**: Değişiklikler istenirse, diğer kontroller geçse bile birleştirilemez.
* **Resmi inceleme isteklerinde birleştirmeyi engelle**: Resmi inceleme istekleri varsa birleştirilemez.
* **Eski onayları iptal et**: Yeni commitler geldiğinde, eski onaylar iptal edilir.
* **İmzalı Commitler Gerektir**: Commitler imzalı olmalıdır.
* **Pull request güncel değilse birleştirmeyi engelle**
* **Korunan/Korunmayan dosya desenleri**: Değişikliklere karşı korunacak/korunmayacak dosya desenlerini belirtin.

{% hint style="info" %}
Gördüğünüz gibi, bir kullanıcının bazı kimlik bilgilerini elde etseniz bile, **depolar koruma altında olabilir ve CI/CD pipeline'ını tehlikeye atmak için master'a kod push yapmanızı engelleyebilir.**
{% endhint %}

{% hint style="success" %}
AWS Hacking öğrenin ve pratik yapın:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking öğrenin ve pratik yapın: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **💬 Discord grubuna** [**katılın**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın ya da **Twitter'da** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'ı takip edin.**
* **HackTricks'e PR göndererek hacking ipuçlarını paylaşın** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına.

</details>
{% endhint %}
