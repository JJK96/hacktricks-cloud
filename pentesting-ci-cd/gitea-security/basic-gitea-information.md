# Basic Gitea Information

{% hint style="success" %}
Lerne & √ºbe AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Lerne & √ºbe GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtze HackTricks</summary>

* √úberpr√ºfe die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Tritt der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folge** uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teile Hacking-Tricks, indem du PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos einreichst.

</details>
{% endhint %}

## Grundstruktur

Die grundlegende Gitea-Umgebungsstruktur gruppiert Repos nach **Organisation(en),** von denen jede **mehrere Repositories** und **mehrere Teams** enthalten kann. Beachte jedoch, dass Benutzer wie bei GitHub Repos au√üerhalb der Organisation haben k√∂nnen.

Zudem kann ein **Benutzer** Mitglied von **verschiedenen Organisationen** sein. Innerhalb der Organisation kann der Benutzer **unterschiedliche Berechtigungen f√ºr jedes Repository** haben.

Ein Benutzer kann auch **Teil verschiedener Teams** mit unterschiedlichen Berechtigungen f√ºr verschiedene Repos sein.

Und schlie√ülich k√∂nnen **Repositories spezielle Schutzmechanismen** haben.

## Berechtigungen

### Organisationen

Wenn eine **Organisation erstellt wird**, wird ein Team namens **Owners** **erstellt** und der Benutzer wird darin platziert. Dieses Team gew√§hrt **Admin-Zugriff** auf die **Organisation**, diese **Berechtigungen** und der **Name** des Teams **k√∂nnen nicht ge√§ndert werden**.

**Org-Admins** (Eigent√ºmer) k√∂nnen die **Sichtbarkeit** der Organisation ausw√§hlen:

* √ñffentlich
* Eingeschr√§nkt (nur angemeldete Benutzer)
* Privat (nur Mitglieder)

**Org-Admins** k√∂nnen auch angeben, ob die **Repo-Admins** **Zugriff hinzuf√ºgen und/oder entfernen** k√∂nnen. Sie k√∂nnen auch die maximale Anzahl von Repos angeben.

Beim Erstellen eines neuen Teams werden mehrere wichtige Einstellungen ausgew√§hlt:

* Es wird angegeben, auf welche **Repos der Organisation die Mitglieder des Teams zugreifen k√∂nnen**: spezifische Repos (Repos, in denen das Team hinzugef√ºgt wird) oder alle.
* Es wird auch angegeben, ob **Mitglieder neue Repos erstellen k√∂nnen** (der Ersteller erh√§lt Admin-Zugriff darauf).
* Die **Berechtigungen**, die die **Mitglieder** des Repos **haben** werden:
* **Administrator**-Zugriff
* **Spezifischer** Zugriff:

![](<../../.gitbook/assets/image (118).png>)

### Teams & Benutzer

In einem Repo k√∂nnen der **Org-Admin** und die **Repo-Admins** (wenn von der Organisation erlaubt) die **Rollen** verwalten, die Kollaboratoren (andere Benutzer) und Teams zugewiesen werden. Es gibt **3** m√∂gliche **Rollen**:

* Administrator
* Schreiben
* Lesen

## Gitea-Authentifizierung

### Web-Zugang

Verwendung von **Benutzername + Passwort** und m√∂glicherweise (und empfohlen) einer 2FA.

### **SSH-Schl√ºssel**

Du kannst dein Konto mit einem oder mehreren √∂ffentlichen Schl√ºsseln konfigurieren, die es dem zugeh√∂rigen **privaten Schl√ºssel erm√∂glichen, in deinem Namen Aktionen durchzuf√ºhren.** [http://localhost:3000/user/settings/keys](http://localhost:3000/user/settings/keys)

#### **GPG-Schl√ºssel**

Du **kannst den Benutzer mit diesen Schl√ºsseln nicht imitieren**, aber wenn du ihn nicht verwendest, k√∂nnte es m√∂glich sein, dass du **entdeckt wirst, weil du Commits ohne Signatur sendest**.

### **Pers√∂nliche Zugriffstoken**

Du kannst pers√∂nliche Zugriffstoken generieren, um **einer Anwendung Zugriff auf dein Konto zu gew√§hren**. Ein pers√∂nlicher Zugriffstoken gew√§hrt vollen Zugriff auf dein Konto: [http://localhost:3000/user/settings/applications](http://localhost:3000/user/settings/applications)

### Oauth-Anwendungen

Genau wie pers√∂nliche Zugriffstoken haben **Oauth-Anwendungen** **vollst√§ndigen Zugriff** auf dein Konto und die Orte, auf die dein Konto Zugriff hat, da, wie in den [Dokumentationen](https://docs.gitea.io/en-us/oauth2-provider/#scopes) angegeben, Scopes noch nicht unterst√ºtzt werden:

![](<../../.gitbook/assets/image (194).png>)

### Bereitstellungsschl√ºssel

Bereitstellungsschl√ºssel k√∂nnen Lese- oder Schreibzugriff auf das Repo haben, daher k√∂nnten sie interessant sein, um spezifische Repos zu kompromittieren.

## Branch-Schutz

Branch-Schutzmechanismen sind darauf ausgelegt, **den Benutzern keine vollst√§ndige Kontrolle √ºber ein Repository zu geben**. Das Ziel ist es, **mehrere Schutzmethoden zu implementieren, bevor Code in einen Branch geschrieben werden kann**.

Die **Branch-Schutzmechanismen eines Repositories** findest du unter _https://localhost:3000/\<orgname>/\<reponame>/settings/branches_

{% hint style="info" %}
Es ist **nicht m√∂glich, einen Branch-Schutz auf Organisationsebene festzulegen**. Daher m√ºssen alle auf jedem Repo deklariert werden.
{% endhint %}

Verschiedene Schutzmechanismen k√∂nnen auf einen Branch angewendet werden (wie auf master):

* **Push deaktivieren**: Niemand kann in diesen Branch pushen
* **Push aktivieren**: Jeder mit Zugriff kann pushen, aber nicht erzwingen.
* **Whitelist-Eingeschr√§nkter Push**: Nur ausgew√§hlte Benutzer/Teams k√∂nnen in diesen Branch pushen (aber kein erzwungener Push)
* **Merge-Whitelist aktivieren**: Nur auf die Whitelist gesetzte Benutzer/Teams k√∂nnen PRs mergen.
* **Statuspr√ºfungen aktivieren:** Erfordert, dass Statuspr√ºfungen vor dem Mergen bestanden werden.
* **Genehmigungen erforderlich**: Gibt die Anzahl der erforderlichen Genehmigungen an, bevor ein PR gemergt werden kann.
* **Genehmigungen auf Whitelist beschr√§nken**: Gibt Benutzer/Teams an, die PRs genehmigen k√∂nnen.
* **Merge bei abgelehnten Reviews blockieren**: Wenn √Ñnderungen angefordert werden, kann es nicht gemergt werden (auch wenn die anderen Pr√ºfungen bestanden werden)
* **Merge bei offiziellen Review-Anfragen blockieren**: Wenn offizielle Review-Anfragen vorliegen, kann es nicht gemergt werden
* **Veraltete Genehmigungen aufheben**: Bei neuen Commits werden alte Genehmigungen aufgehoben.
* **Signierte Commits erforderlich**: Commits m√ºssen signiert sein.
* **Merge blockieren, wenn Pull-Request veraltet ist**
* **Gesch√ºtzte/Ungesch√ºtzte Dateimuster**: Gibt Muster von Dateien an, die vor √Ñnderungen gesch√ºtzt/ungesch√ºtzt sind

{% hint style="info" %}
Wie du sehen kannst, k√∂nnten Repos selbst dann gesch√ºtzt sein, wenn du einige Anmeldeinformationen eines Benutzers erhalten hast, **was dich daran hindert, Code in master zu pushen**, um beispielsweise die CI/CD-Pipeline zu kompromittieren.
{% endhint %}

{% hint style="success" %}
Lerne & √ºbe AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Lerne & √ºbe GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtze HackTricks</summary>

* √úberpr√ºfe die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Tritt der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folge** uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teile Hacking-Tricks, indem du PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos einreichst.

</details>
{% endhint %}
